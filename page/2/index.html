<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/1.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/1.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.baidu.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":false,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="KK">
<meta property="og:url" content="http://www.baidu.com/page/2/index.html">
<meta property="og:site_name" content="KK">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="KK">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://www.baidu.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>KK</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">KK</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.baidu.com/2021/11/12/22-23-33/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/12/22-23-33/" class="post-title-link" itemprop="url">echarts/d3.js</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-11-12 22:23:33" itemprop="dateCreated datePublished" datetime="2021-11-12T22:23:33+08:00">2021-11-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-05-14 12:06:33" itemprop="dateModified" datetime="2023-05-14T12:06:33+08:00">2023-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index"><span itemprop="name">web</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="echarts"><a href="#echarts" class="headerlink" title="echarts"></a>echarts</h2><ol>
<li>echarts的图表是画在canvas上的， 可以通过grid设置来调整图表与canvas的间距：grid:{ x:50, y:50,x2:50,  y2:60,}</li>
<li>通过回调函数判断是否是第一个数据（params.dataIndex 的值）来决定是否显示相应的内容：formatter:(n)=&gt;{return n.dataIndex}</li>
<li>echarts3.0已支持多标题的设置</li>
<li>Echarts设置tooltip层级z-index<br>tooltip有一个extraCssText属性。所以可以设置该属性来修改它的样式：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tooltip:&#123;extraCssText:&#x27;z-index:2&#x27;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="svg可缩放矢量图形（Scalable-Vector-Graphics）"><a href="#svg可缩放矢量图形（Scalable-Vector-Graphics）" class="headerlink" title="svg可缩放矢量图形（Scalable Vector Graphics）"></a>svg可缩放矢量图形（Scalable Vector Graphics）</h2><h3 id="SVG-CSS属性"><a href="#SVG-CSS属性" class="headerlink" title="SVG CSS属性"></a>SVG CSS属性</h3><p>SVG元素具有以下可以设置的CSS属性。并非所有元素都具有所有这些CSS属性。因此，CSS属性被分为针对不同元素的多个表。</p>
<h4 id="形状CSS属性"><a href="#形状CSS属性" class="headerlink" title="形状CSS属性"></a>形状CSS属性</h4><p>path元素和其他形状元素的 CSS属性：</p>
<table>
<thead>
<tr>
<th>CSS属性</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>fill</td>
<td>设置形状的填充颜色。</td>
</tr>
<tr>
<td>fill-opacity</td>
<td>设置形状的填充不透明度。</td>
</tr>
<tr>
<td>fill-rule</td>
<td>设置形状的填充规则。</td>
</tr>
<tr>
<td>marker</td>
<td>设置沿此形状的线（边）使用的标记。</td>
</tr>
<tr>
<td>marker-start</td>
<td>设置沿此形状的线（边）使用的开始标记。</td>
</tr>
<tr>
<td>marker-mid</td>
<td>设置沿此形状的线（边）使用的中间标记。</td>
</tr>
<tr>
<td>marker-end</td>
<td>设置沿此形状的线（边）使用的结束标记。</td>
</tr>
<tr>
<td>stroke</td>
<td>设置用于绘制此形状轮廓的笔触（线条）颜色。</td>
</tr>
<tr>
<td>stroke-dasharray</td>
<td>设置用于绘制此形状轮廓的笔划（虚线）。</td>
</tr>
<tr>
<td>stroke-dashoffset</td>
<td>设置用于绘制此形状轮廓的笔划（直线）破折号偏移量。</td>
</tr>
<tr>
<td>stroke-linecap</td>
<td>设置用于绘制此形状轮廓的笔划（线）线帽。有效值为round，butt和square。</td>
</tr>
<tr>
<td>stroke-miterlimit</td>
<td>设置用于绘制此形状轮廓的笔划（直线）斜接限制。</td>
</tr>
<tr>
<td>stroke-opacity</td>
<td>设置用于绘制此形状轮廓的笔触（直线）不透明度。</td>
</tr>
<tr>
<td>stroke-width</td>
<td>设置用于绘制此形状轮廓的笔触（线条）宽度。</td>
</tr>
<tr>
<td>text-rendering</td>
<td>设置用于绘制此形状轮廓的文本渲染。</td>
</tr>
</tbody></table>
<p>文字CSS属性<br>text元素的 CSS属性：</p>
<table>
<thead>
<tr>
<th>CSS属性</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>alignment-baseline</td>
<td>设置文本与其对齐方式x和y坐标。</td>
</tr>
<tr>
<td>baseline-shift</td>
<td>设置用于呈现文本的基线偏移。</td>
</tr>
<tr>
<td>dominant-baseline</td>
<td>设置主要基线。</td>
</tr>
<tr>
<td>glyph-orientation-horizontal</td>
<td>设置水平字形方向。</td>
</tr>
<tr>
<td>glyph-orientation-vertical</td>
<td>设置垂直字形方向。</td>
</tr>
<tr>
<td>kerning</td>
<td>设置渲染文本的字距（字距是字母间距）。</td>
</tr>
</tbody></table>
<p>渐变CSS属性<br>SVG渐变的CSS属性：</p>
<table>
<thead>
<tr>
<th>CSS属性</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>stop-color</td>
<td>设置在渐变中使用的stop元素中使用的终止色。</td>
</tr>
<tr>
<td>stop-opacity</td>
<td>设置stop在渐变中使用的元素中使用的停止不透明度。</td>
</tr>
</tbody></table>
<h4 id="class"><a href="#class" class="headerlink" title="class"></a>class</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">svg</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/2000/svg&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xlink</span>=<span class="string">&quot;http://www.w3.org/1999/xlink&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> &gt;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      &lt;![CDATA[</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        circle.myGreen &#123;</span></span><br><span class="line"><span class="language-xml">           stroke: #006600;</span></span><br><span class="line"><span class="language-xml">           fill:   #00cc00;</span></span><br><span class="line"><span class="language-xml">        &#125;</span></span><br><span class="line"><span class="language-xml">       circle.myRed &#123;</span></span><br><span class="line"><span class="language-xml">       stroke: #660000;</span></span><br><span class="line"><span class="language-xml">       fill:   #cc0000;</span></span><br><span class="line"><span class="language-xml">    &#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      ]]&gt;</span></span><br><span class="line"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">circle</span>  <span class="attr">class</span>=<span class="string">&quot;myGreen&quot;</span> <span class="attr">cx</span>=<span class="string">&quot;40&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;40&quot;</span>  <span class="attr">r</span>=<span class="string">&quot;24&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">circle</span>  <span class="attr">class</span>=<span class="string">&quot;myRed&quot;</span>   <span class="attr">cx</span>=<span class="string">&quot;40&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;100&quot;</span> <span class="attr">r</span>=<span class="string">&quot;24&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="style"><a href="#style" class="headerlink" title="style"></a>style</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">version</span>=<span class="string">&quot;1.1&quot;</span> <span class="attr">viewbox</span>=<span class="string">&quot;0 0 1000 500&quot;</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/2000/svg&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rect</span> <span class="attr">height</span>=<span class="string">&quot;300&quot;</span> <span class="attr">width</span>=<span class="string">&quot;600&quot;</span> <span class="attr">x</span>=<span class="string">&quot;200&quot;</span> <span class="attr">y</span>=<span class="string">&quot;100&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">style</span>=<span class="string">&quot;fill: red; stroke: blue; stroke-width: 3&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="svg"><a href="#svg" class="headerlink" title="svg"></a>svg</h3><p>属性</p>
<ul>
<li><code>width</code>宽</li>
<li><code>height</code>高</li>
<li><code>x</code>水平位置</li>
<li><code>y</code>垂直位置</li>
<li><code>version</code> 属性用于指明 SVG 文档遵循规范。它只允许在根元素<svg> 上使用。它纯粹是一个说明，对渲染或处理没有任何影响。虽然它接受任何数字，但是只有1.0 和 1.1.这两个有效的选择。</li>
<li><code>viewBox</code> 属性允许指定一个给定的一组图形伸展以适应特定的容器元素(裁剪画面)。属性的值是一个包含 4 个参数的列表 min-x, min-y, width and height，以空格或者逗号分隔开，在用户空间中指定一个矩形区域映射到给定的元素,不允许宽度和高度为负值，0 则禁用元素的呈现。这个属性会受到 <code>preserveAspectRatio</code> 的影响。</li>
<li><code>preserveAspectRatio</code>:否强制进行统一缩放。</li>
</ul>
<h3 id="defs"><a href="#defs" class="headerlink" title="defs"></a>defs</h3><p>SVG 允许我们定义以后需要重复使用的图形元素。建议把所有需要再次使用的引用元素定义在defs元素里面。这样做可以增加 SVG 内容的易读性和无障碍。在defs元素中定义的图形元素不会直接呈现。你可以在你的视口的任意地方利用 <code>&lt;use&gt;</code>元素呈现这些元素。</p>
<h3 id="g"><a href="#g" class="headerlink" title="g"></a>g</h3><p>元素g是用来组合对象的容器。添加到g元素上的变换会应用到其所有的子元素上。添加到g元素的属性会被其所有的子元素继承。此外，g元素也可以用来定义复杂的对象，之后可以通过<code>&lt;use&gt;</code>元素来引用它们。</p>
<h3 id="rect"><a href="#rect" class="headerlink" title="rect"></a>rect</h3><p>rect元素是 SVG 的一个基本形状，用来创建矩形，基于一个角位置以及它的宽和高。它还可以用来创建圆角矩形</p>
<ul>
<li>x</li>
<li>y</li>
<li>width</li>
<li>height</li>
<li>rx圆角</li>
<li>ry圆角</li>
</ul>
<h3 id="patterns"><a href="#patterns" class="headerlink" title="patterns"></a>patterns</h3><p>在我看来 patterns（图案）是 SVG 中用到的最让人混淆的填充类型之一。它的功能非常强大，所以我认为他们值得讨论一下并且我们应至少对他们有最基本的了解。跟渐变一样，<code>&lt;pattern&gt;</code> 需要放在 SVG 文档的 <code>&lt;defs&gt;</code> 内部。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> standalone=<span class="string">&quot;no&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">&quot;200&quot;</span> <span class="attr">height</span>=<span class="string">&quot;200&quot;</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/2000/svg&quot;</span> <span class="attr">version</span>=<span class="string">&quot;1.1&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">defs</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">linearGradient</span> <span class="attr">id</span>=<span class="string">&quot;Gradient1&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">stop</span> <span class="attr">offset</span>=<span class="string">&quot;5%&quot;</span> <span class="attr">stop-color</span>=<span class="string">&quot;white&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">stop</span> <span class="attr">offset</span>=<span class="string">&quot;95%&quot;</span> <span class="attr">stop-color</span>=<span class="string">&quot;blue&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">linearGradient</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">linearGradient</span> <span class="attr">id</span>=<span class="string">&quot;Gradient2&quot;</span> <span class="attr">x1</span>=<span class="string">&quot;0&quot;</span> <span class="attr">x2</span>=<span class="string">&quot;0&quot;</span> <span class="attr">y1</span>=<span class="string">&quot;0&quot;</span> <span class="attr">y2</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">stop</span> <span class="attr">offset</span>=<span class="string">&quot;5%&quot;</span> <span class="attr">stop-color</span>=<span class="string">&quot;red&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">stop</span> <span class="attr">offset</span>=<span class="string">&quot;95%&quot;</span> <span class="attr">stop-color</span>=<span class="string">&quot;orange&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">linearGradient</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">pattern</span> <span class="attr">id</span>=<span class="string">&quot;Pattern&quot;</span> <span class="attr">x</span>=<span class="string">&quot;0&quot;</span> <span class="attr">y</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">&quot;.25&quot;</span> <span class="attr">height</span>=<span class="string">&quot;.25&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">&quot;0&quot;</span> <span class="attr">y</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">&quot;50&quot;</span> <span class="attr">height</span>=<span class="string">&quot;50&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;skyblue&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">&quot;0&quot;</span> <span class="attr">y</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">&quot;25&quot;</span> <span class="attr">height</span>=<span class="string">&quot;25&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;url(#Gradient2)&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">&quot;25&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;25&quot;</span> <span class="attr">r</span>=<span class="string">&quot;20&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;url(#Gradient1)&quot;</span> <span class="attr">fill-opacity</span>=<span class="string">&quot;0.5&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">defs</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">rect</span> <span class="attr">fill</span>=<span class="string">&quot;url(#Pattern)&quot;</span> <span class="attr">stroke</span>=<span class="string">&quot;black&quot;</span> <span class="attr">x</span>=<span class="string">&quot;0&quot;</span> <span class="attr">y</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">&quot;200&quot;</span> <span class="attr">height</span>=<span class="string">&quot;200&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>关于 pattern 容易混淆的事是，pattern 定义了一个单元系统以及他们的大小。上例中，我们在 pattern 元素上定义了width和height属性，用于描述在重复下一个图案之前应该跨过多远。如果你想要在绘制时偏移矩形的开始点，也可以使用 x 和 y 属性，原因如下。</p>
<p>就像前面使用了gradientUnits属性，同样的pattern也有一个属性patternUnits用于描述我们使用的属性单元。这同之前使用的objectBoundingBox默认值一样，所以当一个值为 1 时，它被缩放到应用 pattern 对象的宽高值。因此，我们希望 pattern 垂直和水平的重复 4 次，所以宽高被设置位 0.25，这一位置 pattern 的宽高仅为总外框大小的 0.25。</p>
<p>与渐变不同，pattern 有第二个属性patternContentUnits，它描述了pattern元素基于基本形状使用的单元系统，这个属性默认值为userSpaceOnUse，与patternUnits属性相反，这意味着除非你至少指定其中一个属性值（patternContentUnits或patternUnits），否则在pattern中绘制的形状将与pattern元素使用的坐标系不同，当你手写这部分时会容易混淆。为了使上例生效，我们必须考虑我们的边框（200 像素）大小和我们实际希望pattern垂直和水平重复 4 次的需求。这意味着每个 pattern 单元应该是 50x50的方形，pattern 中的两个矩形和圆形的大小会被缩放适应到一个 50x50 的边框里，任何我们绘制在边框外的内容都不会显示。因为我们希望 pattern 从边框的左上角里开始，所以 pattern 也必须偏移 10 像素，也就是 pattern 的 x 和 y 属性需要调整为 10/200=0.05。</p>
<p>如果对象改变了大小，pattern 会自适应其大小，但是对象里面的内容不会自适应。所以当我们在 pattern 中还是放置 4 个重复的 pattern 时，组成 pattern 的对象将不会保持相同的大小，同时在他们之间会有大片空白区域。通过改变patternContentUnits属性，我们可以把所有的元素放到相同的单元系统中：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pattern</span> <span class="attr">id</span>=<span class="string">&quot;Pattern&quot;</span> <span class="attr">width</span>=<span class="string">&quot;.25&quot;</span> <span class="attr">height</span>=<span class="string">&quot;.25&quot;</span> <span class="attr">patternContentUnits</span>=<span class="string">&quot;objectBoundingBox&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">&quot;0&quot;</span> <span class="attr">y</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">&quot;.25&quot;</span> <span class="attr">height</span>=<span class="string">&quot;.25&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;skyblue&quot;</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">&quot;0&quot;</span> <span class="attr">y</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">&quot;.125&quot;</span> <span class="attr">height</span>=<span class="string">&quot;.125&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;url(#Gradient2)&quot;</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">&quot;.125&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;.125&quot;</span> <span class="attr">r</span>=<span class="string">&quot;.1&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;url(#Gradient1)&quot;</span> <span class="attr">fill-opacity</span>=<span class="string">&quot;0.5&quot;</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">```html</span><br><span class="line">现在，因为 pattern 内容与 pattern 本身处于相同的单元系统中，所以我们不用偏移边框以使 pattern 在正确的位置上开始，并且即使对象变大，pattern 也会自动的缩放以保证 pattern 内部的对象数目和重复不变。这与 userSpaceOnUse 系统不同，userSpaceOnUse 系统中如果对象改变大小，pattern 本身会保持不变，只是重复更多次去填满边框。</span><br><span class="line"></span><br><span class="line">它有一点点的副作用，在 Gecko 中的圆如果半径设置得小于 0.075（尽管半径应该设置的比这个值大得多。这个可能是 pattern 元素中的一个 bug，或者也不算 bug，我也不太清楚）的话绘制的时候可能会出现问题，为了规避这个问题，可能最好的办法是尽量避免在 objectBoundingBox 单元中绘制图形。</span><br><span class="line"></span><br><span class="line">在你想要使用 pattern 的时候，可能你并不中意这些方法中的任何一个，Pattern 通常都是有确认的大小并且重复他们自己，与对象形状独立开来。要想创建这种 pattern，pattern 和它的内容必须在当前用户空间中绘制，这样当对象在做如下操作时他们才不会改变形状：</span><br><span class="line">```html</span><br><span class="line"> <span class="tag">&lt;<span class="name">pattern</span> <span class="attr">id</span>=<span class="string">&quot;Pattern&quot;</span> <span class="attr">x</span>=<span class="string">&quot;10&quot;</span> <span class="attr">y</span>=<span class="string">&quot;10&quot;</span> <span class="attr">width</span>=<span class="string">&quot;50&quot;</span> <span class="attr">height</span>=<span class="string">&quot;50&quot;</span> <span class="attr">patternUnits</span>=<span class="string">&quot;userSpaceOnUse&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">&quot;0&quot;</span> <span class="attr">y</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">&quot;50&quot;</span> <span class="attr">height</span>=<span class="string">&quot;50&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;skyblue&quot;</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">&quot;0&quot;</span> <span class="attr">y</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">&quot;25&quot;</span> <span class="attr">height</span>=<span class="string">&quot;25&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;url(#Gradient2)&quot;</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">&quot;25&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;25&quot;</span> <span class="attr">r</span>=<span class="string">&quot;20&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;url(#Gradient1)&quot;</span> <span class="attr">fill-opacity</span>=<span class="string">&quot;0.5&quot;</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>当然，这意味着如果你后续改变了对象大小，pattern 也不会缩放。上述三个举例在下图中放在一个矩形中展示，高度被轻微拉伸到 300px，但是我注意到这不是完整的图片，并且有些其他选项可能你的应用不支持。</p>
<h2 id="d3-js"><a href="#d3-js" class="headerlink" title="d3.js"></a>d3.js</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/d3/d3/blob/main/API.md#dragging-d3-drag">https://github.com/d3/d3/blob/main/API.md#dragging-d3-drag</a></p>
</blockquote>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p><code>npm install d3</code>命令<br><code>&lt;script src=&quot;https://d3js.org/d3.v4.min.js&quot;&gt;&lt;/script&gt;</code></p>
<h3 id="选择元素"><a href="#选择元素" class="headerlink" title="选择元素"></a>选择元素</h3><blockquote>
<p>采用了链式语法。就是说，每次打点调用 d3 提供的函数方法，都会返回一个 d3 对象，这样可以继续调用 d3 的其他函数方法</p>
</blockquote>
<ul>
<li><code>select</code>  返回css选择器所匹配的第一个元素。</li>
<li><code>selectAll</code> 返回css选择器匹配的所有元素。<br>这两个函数返回的结果称为选择集。</li>
</ul>
<h3 id="操作元素"><a href="#操作元素" class="headerlink" title="操作元素"></a>操作元素</h3><ul>
<li>增加 ( append )元素后添加</li>
<li>插入 ( insert )元素前添加</li>
<li>删除元素 ( remove )</li>
<li>设置获取元素属性 ( attr )。</li>
<li>设置获取元素样式 ( style )。</li>
</ul>
<h3 id="数据绑定"><a href="#数据绑定" class="headerlink" title="数据绑定"></a>数据绑定</h3><blockquote>
<p>D3 有一个很独特的功能：能将数据绑定到 DOM 上，也就是绑定到文档上。这么说可能不好理解，例如：网页中有段落元素 <code>&lt;p&gt;</code> 和一个整数 5，于是可以将整数 5 与 <code>&lt;p&gt;</code>绑定到一起。绑定之后，当需要依靠这个数据才操作元素的时候，会很方便。数据就会添加到 DOM 元素的<code>__data__</code>属性中</p>
</blockquote>
<ul>
<li><code>datum(value)</code> 绑定一个数据到选择集上</li>
</ul>
<blockquote>
<p>这个方法不会进行数据绑定的计算(update、enter、exit)，只能在现有的元素上绑定数据。如果 value 是数组会自动转成字符串。<br>　　假设有一字符串 China，要将此字符串分别与三个段落元素绑定，代码如下：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;China&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> body = d3.<span class="title function_">select</span>(<span class="string">&quot;body&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> p = body.<span class="title function_">selectAll</span>(<span class="string">&quot;p&quot;</span>);</span><br><span class="line"> </span><br><span class="line">p.<span class="title function_">datum</span>(str);</span><br><span class="line"> </span><br><span class="line">p.<span class="title function_">text</span>(<span class="keyword">function</span>(<span class="params">d, i</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;第 &quot;</span>+ i + <span class="string">&quot; 个元素绑定的数据是 &quot;</span> + d;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">绑定数据后，使用此数据来修改三个段落元素的内容，其结果如下：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">第 0 个元素绑定的数据是 China</span></span><br><span class="line"><span class="comment">第 1 个元素绑定的数据是 China</span></span><br><span class="line"><span class="comment">第 2 个元素绑定的数据是 China</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">　　在上面的代码中，用到了一个无名函数 function(d, i)。当选择集需要使用被绑定的数据时，常需要这么使用。其包含两个参数，其中：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">　　（1）d 代表数据，也就是与某元素绑定的数据。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">　　（2） i 代表索引，代表数据的索引号，从 0 开始。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">　　例如，上述例子中：第 0 个元素 apple 绑定的数据是 China。</span></span><br><span class="line"><span class="comment"> * /</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>data([value])</code> 绑定一个数组到选择集上，数组的各项值分别与选择集的各元素绑定</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> dataset = [<span class="string">&quot;I like dogs&quot;</span>,<span class="string">&quot;I like cats&quot;</span>,<span class="string">&quot;I like snakes&quot;</span>];</span><br><span class="line"><span class="keyword">var</span> body = d3.<span class="title function_">select</span>(<span class="string">&quot;body&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> p = body.<span class="title function_">selectAll</span>(<span class="string">&quot;p&quot;</span>);</span><br><span class="line"> </span><br><span class="line">p.<span class="title function_">data</span>(dataset)</span><br><span class="line">  .<span class="title function_">text</span>(<span class="keyword">function</span>(<span class="params">d, i</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> d;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">当 i == 0 时， d 为 I like dogs。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">　　当 i == 1 时， d 为 I like cats。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">　　当 i == 2 时， d 为 I like snakes。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<ul>
<li>selection.data([data[, key]])</li>
</ul>
<p>1.如果选择集中只有一个分组，则入参 data 应该是一个数组，该数组会与选择集中的元素进行绑定。<br>2.如果选择集中含有多个分组（使用方法 selection.selectAll() 嵌套选择生成的选择集可能含有多个分组），则入参 data 应该是一个返回数组的函数，每一个分组都会调用该方法，并依次传入三个参数：</p>
<p>当前所遍历的分组的父节点所绑定的数据 datum<code>d</code><br>当前所遍历的分组的索引 index <code>i</code><br>选择集的所有父节点 parent nodes <code>nodes</code></p>
<p>其中函数内的 <code>this</code> 指向当前所遍历的分组的父节点，即与 nodes[i] 相同<br>最后该函数返回一个数组，然后该数组的元素就用于与该分组的元素进行绑定</p>
<hr>
<p>默认基于索引来对选择集中的元素和数组中的数据进行匹配 join-by-index，即选择集的第一个元素和数组的第一个数据进行绑定，并依次类推，但我们可以通过第二个入参 key 来自定义匹配规则。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> data = [</span><br><span class="line">  &#123;<span class="attr">name</span>: <span class="string">&quot;Locke&quot;</span>, <span class="attr">number</span>: <span class="number">4</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">name</span>: <span class="string">&quot;Reyes&quot;</span>, <span class="attr">number</span>: <span class="number">8</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">name</span>: <span class="string">&quot;Ford&quot;</span>, <span class="attr">number</span>: <span class="number">15</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">name</span>: <span class="string">&quot;Jarrah&quot;</span>, <span class="attr">number</span>: <span class="number">16</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">name</span>: <span class="string">&quot;Shephard&quot;</span>, <span class="attr">number</span>: <span class="number">23</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">name</span>: <span class="string">&quot;Kwon&quot;</span>, <span class="attr">number</span>: <span class="number">42</span>&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">d3.<span class="title function_">selectAll</span>(<span class="string">&quot;div&quot;</span>)</span><br><span class="line">  .<span class="title function_">data</span>(data, <span class="keyword">function</span>(<span class="params">d</span>) &#123;</span><br><span class="line">    <span class="comment">// key 函数，如果传入的 d 存在，则取其属性 name 作为键</span></span><br><span class="line">    <span class="comment">// 否则取元素的 id 属性（这是一个回退操作，因为在初始时，元素还没有绑定数据，所以 d 是 undefined）</span></span><br><span class="line">    <span class="keyword">return</span> d ? d.<span class="property">name</span> : <span class="variable language_">this</span>.<span class="property">id</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">    .<span class="title function_">text</span>(<span class="function"><span class="params">d</span> =&gt;</span> d.<span class="property">number</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<p>元素在绑定数据时，并不一定是一一对应的，可能会出现节点和数据元素个数不匹配的问题，针对这个问题，D3 提出三个概念：</p>
<p>如果 DOM 节点多出来，则未绑定数据的节点会进入名为 <code>exiting</code> 选择集（准备从页面「离去」的节点，一般在后续操作中删除）<br>如果数据元素多出来了，则对应多出来的「虚拟节点」会进入名为 <code>entering</code> 选择集（一般会在后续操作中实例化这些 DOM 节点，并插入在页面的相应位置）<br>可与数据对应上的 DOM 节点，进入名为 <code>updating</code>选择集，它是默认选择集，即 selection.data() 方法返回的对象就是 <code>update</code> 选择集（而 <code>enter</code> 选择集和 <code>exit</code> 选择集需要调用该对象的 enter() 和 exit() 方法才能获得）</p>
<hr>
<h2 id="在绑定数据后，D3-没有立即更新（增删）页面节点，而是生成-3-个选择集，这样为数据可视化提供了更大的灵活度和可定制性，例如对于-exiting-选择集的节点，可以在删除时设置一些淡出的动效；对于-entering-选择集的节点可以设置不一样的颜色，高亮出来它们是新增到页面上的"><a href="#在绑定数据后，D3-没有立即更新（增删）页面节点，而是生成-3-个选择集，这样为数据可视化提供了更大的灵活度和可定制性，例如对于-exiting-选择集的节点，可以在删除时设置一些淡出的动效；对于-entering-选择集的节点可以设置不一样的颜色，高亮出来它们是新增到页面上的" class="headerlink" title="在绑定数据后，D3 没有立即更新（增删）页面节点，而是生成 3 个选择集，这样为数据可视化提供了更大的灵活度和可定制性，例如对于 exiting 选择集的节点，可以在删除时设置一些淡出的动效；对于 entering 选择集的节点可以设置不一样的颜色，高亮出来它们是新增到页面上的"></a>在绑定数据后，D3 没有立即更新（增删）页面节点，而是生成 3 个选择集，这样为数据可视化提供了更大的灵活度和可定制性，例如对于 exiting 选择集的节点，可以在删除时设置一些淡出的动效；对于 entering 选择集的节点可以设置不一样的颜色，高亮出来它们是新增到页面上的</h2><p>选择集绑定数据后，返回的三个选择集 entering、exiting、updating 其中的元素次序会有所不同：</p>
<p>1.其中选择集 entering 和 updating 中元素会根据其绑定的数据在新数组中的索引顺序进行排列，而且会在相应的位置「留空」（使用 null 作为占位符），便于后续两者合并 merge<br>2.而 exiting 选择集会根据其原来绑定的数据在原来的数组中的位置来排序，也是在相应的位置「留空」，以便保持元素原有的索引值。<br>然后将 entering 选择集的「虚拟节点」添加 append 到页面时，元素会基于索引顺序「混入」页面的 updating 选择集的元素中（作为兄弟元素），这样可以确保最后页面的元素顺序与它们所绑定的数据在数组顺序一致。<br>但是由于 D3 会复用 updating 选择集的元素（以便提高性能），对于 updating 选择集中的元素，如果在新绑定的数组中，它们所对应的数据的索引发生了变化时，页面的相应元素的次序并不会更新，如果不进行「重排」，可能造成最后页面的元素无法与它们所绑定的数据在数组顺序一致。因此一般在选择集绑定新数据后调用 selection.order() 方法，以更新 updating 选择集在页面的元素的顺序</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/RRie1/article/details/119315788#:~:text=%E8%A7%A3%E5%86%B3%E6%96%B9%E5%BC%8F%20-%3E%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E7%9A%84%E7%BB%91%E5%AE%9A%E5%87%BD%E6%95%B0%E4%B8%BAdata%EF%BC%88data%2C,keyFunction%EF%BC%89%EF%BC%8C%E4%BD%BF%E7%94%A8keyFuntion%20%E4%B8%BA%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9Akey%E3%80%82%20%2F%2F%E6%AD%A3%E7%A1%AE%E7%BB%91%E5%AE%9A%E6%96%B9%E5%BC%8Fd3.selectAll%28%27rect%27%29.data%28data%2Cd%3D%3Ed.name%29.attr%28%27width%27%2Cd%3D%3Ed.value%29">more</a><br><a target="_blank" rel="noopener" href="https://juejin.cn/post/6999509011687014414">more</a></p>
<h3 id="绑定事件"><a href="#绑定事件" class="headerlink" title="绑定事件"></a>绑定事件</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">d3.<span class="title function_">select</span>(<span class="string">&#x27;svg rect&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function">(<span class="params">event,data</span>)=&gt;</span>&#123;</span><br><span class="line">    d3.<span class="title function_">select</span>(event.<span class="property">target</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Panning-平移和-Zooming-缩放"><a href="#Panning-平移和-Zooming-缩放" class="headerlink" title="Panning 平移和 Zooming 缩放"></a>Panning 平移和 Zooming 缩放</h3><h4 id="创建缩放器"><a href="#创建缩放器" class="headerlink" title="创建缩放器"></a>创建缩放器</h4><blockquote>
<p>会和mouseup事件冲突</p>
</blockquote>
<p>使用方法 d3.zoom() 创建一个缩放器（以下称为 zoom）<br>它既是一个方法，可以接收选择集作为参数 zoom(selection)，为选择集中的元素（一般是包含数据的容器 <g> 元素）添加相应的缩放事件监听器，并为它们设置变换 transform 的初始值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 一般通过 selection.call() 方法调用缩放器创建函数</span></span><br><span class="line"><span class="comment">// 这样 selection 选择集就会作为参数传递给缩放器创建函数</span></span><br><span class="line">selection.<span class="title function_">call</span>(d3.<span class="title function_">zoom</span>().<span class="title function_">on</span>(<span class="string">&quot;zoom&quot;</span>, zoomed));</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">zoomed</span>(<span class="params">event</span>) &#123;</span><br><span class="line">    g.<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>, event.<span class="property">transform</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">如果希望移除缩放相关事件的监听器，可以为将相应事件回调函数设置为 <span class="literal">null</span></span><br><span class="line">selection.<span class="title function_">on</span>(<span class="string">&quot;.zoom&quot;</span>, <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 也可以只移除特定的缩放事件的监听器，如滚轮缩放</span></span><br><span class="line">selection.<span class="title function_">on</span>(<span class="string">&quot;wheel.zoom&quot;</span>, <span class="literal">null</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>d3.zoomIdentity<br>在d3.js进行缩放的时候，有一个缩放的中心点，我们在demo进行测试的时候就会发现，这个缩放的中心点就是鼠标所在的位置，在鼠标所在的位置局部放大和缩小。<br>在默认情况下，这种中心点的位置在svg的[width/2,height/2]的位置，例如调用scaleTo,scaleBy方法的时候，就是已svg的中心为缩放的中心进行缩放；如果是调用d3.zoomIdentity.scale(2)进行缩放，那么缩放的中心点则为[0,0]:<br>因为d3.zoomIdentity表示的是坐标位置[0,0]，当前缩放为1的一种状态，因此它将缩放中心的位置定在了[0,0]。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//直接缩放</span></span><br><span class="line">svg.<span class="title function_">call</span>(</span><br><span class="line">    zoom.<span class="property">transform</span>,</span><br><span class="line">    d3.<span class="property">zoomIdentity</span>.<span class="title function_">translate</span>(<span class="number">100</span>，<span class="number">100</span>)</span><br><span class="line">);</span><br><span class="line"><span class="comment">//多少时间内完成缩放</span></span><br><span class="line">svg.<span class="title function_">transition</span>().<span class="title function_">duration</span>(<span class="number">1000</span>).<span class="title function_">call</span>(</span><br><span class="line">    zoom.<span class="property">transform</span>,</span><br><span class="line">    d3.<span class="property">zoomIdentity</span>.<span class="title function_">translate</span>(<span class="number">100</span>，<span class="number">100</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="移除缩放"><a href="#移除缩放" class="headerlink" title="移除缩放"></a>移除缩放</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> d3.<span class="title function_">select</span>(<span class="string">&quot;svg&quot;</span>).<span class="title function_">on</span>(<span class="string">&#x27;.zoom&#x27;</span>,<span class="literal">null</span>)</span><br><span class="line"><span class="comment">//重新绑定</span></span><br><span class="line"> d3.<span class="title function_">select</span>(<span class="string">&quot;svg&quot;</span>).<span class="title function_">call</span>(d3.<span class="title function_">zoom</span>());</span><br></pre></td></tr></table></figure>

<h4 id="约束缩放"><a href="#约束缩放" class="headerlink" title="约束缩放"></a>约束缩放</h4><ul>
<li>zoom.constrain([constrain]) 对缩放平移操作进行约束。<br>其入参是一个函数，该函数依次接收三个参数，最后返回一个经过约束的变换值：</li>
</ul>
<p>transform 原本需要执行的缩放变换对象<br>extent 视图范围<br>translateExtent 平移的范围</p>
<p>默认的约束函数如下，其作用是确保视图范围不大于可平移的范围，这样用户就可以通过移动，将图像的各个部分移到视图的任何地方</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">constrain</span>(<span class="params">transform, extent, translateExtent</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> dx0 = transform.<span class="title function_">invertX</span>(extent[<span class="number">0</span>][<span class="number">0</span>]) - translateExtent[<span class="number">0</span>][<span class="number">0</span>],</span><br><span class="line">      dx1 = transform.<span class="title function_">invertX</span>(extent[<span class="number">1</span>][<span class="number">0</span>]) - translateExtent[<span class="number">1</span>][<span class="number">0</span>],</span><br><span class="line">      dy0 = transform.<span class="title function_">invertY</span>(extent[<span class="number">0</span>][<span class="number">1</span>]) - translateExtent[<span class="number">0</span>][<span class="number">1</span>],</span><br><span class="line">      dy1 = transform.<span class="title function_">invertY</span>(extent[<span class="number">1</span>][<span class="number">1</span>]) - translateExtent[<span class="number">1</span>][<span class="number">1</span>];</span><br><span class="line">  <span class="keyword">return</span> transform.<span class="title function_">translate</span>(</span><br><span class="line">    dx1 &gt; dx0 ? (dx0 + dx1) / <span class="number">2</span> : <span class="title class_">Math</span>.<span class="title function_">min</span>(<span class="number">0</span>, dx0) || <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">0</span>, dx1),</span><br><span class="line">    dy1 &gt; dy0 ? (dy0 + dy1) / <span class="number">2</span> : <span class="title class_">Math</span>.<span class="title function_">min</span>(<span class="number">0</span>, dy0) || <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">0</span>, dy1)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>zoom.extent([extent]) 设置视图范围 viewport extent。<br>参数 extent 是一个数组 [[x0, y0], [x1, y1]]，其中 [x0, y0] 表示视图范围的左上角，而 [x1, y1] 表示视图范围的右下角。<br>参数 extent 也可以是一个返回数组的函数，它会被选择集中的元素依次调用，并传递当前所遍历的元素所绑定的数据 datum d 作为参数。而函数内的 this 指向当前所遍历的元素节点。<br>💡 如果缩放器绑定的是普通的 HTML 元素，则视图范围的默认值 [[0, 0], [width, height]] 即与元素的宽高大小相同；如果缩放器绑定的是 SVG 类型的元素，则视图范围的默认值是 SVG 的 viewBox（如果没有设置 viewBox 属性，就使用 SVG 的宽高，即 viewport）。<br>视图的范围 viewport extent 对于一些函数有影响，如通过 zoom.scaleBy() 和 zoom.scaleTo() 方法触发的变换，其视图的中心会保持不变；视图中心和大小会影响使用插值器 d3.interpolateZoom 创建的过渡动画的路径；而平移范围 translate extent 的约束需要依赖视图范围（平移范围应该大于视图范围）。</p>
</li>
<li><p>zoom.translateExtent([extent]) 设置平移范围 translate extent。<br>参数 extent 是一个数组 [[x0, y0], [x1, y1]]，其中 [x0, y0] 表示平移范围的左上角，而  [x1, y1] 表示平移范围的右下角。默认值是 [[-∞, -∞], [+∞, +∞]]<br>💡 该方法虽然约束的是平移操作，但可能造成缩小时平移的发生。<br>⚠️ 该约束在通过 zoom.scaleBy()、zoom.scaleTo()、zoom.translateBy() 方法执行变换时生效；但是通过 zoom.transform() 方法执行变换时不生效</p>
</li>
</ul>
<p>以上三个方法提及的两个特殊的范围：viewport extent 视图范围、translate extent 平移范围。通过设置视图范围的大小，以及通过平移范围来约束视图（范围，一个数组）可以修改的位置，可以间接来限制元素可以平移的位置，通过这两个特殊范围的配合可以实现特定的元素不被移出画面外这一需求。</p>
<ul>
<li>zoom.scaleExtent([extent]) 设置缩放比例的范围。参数 extent 是一个的数组 [k0, k1]，表示缩放比例的范围，其中 k0 是可设置的最小缩放比例，k1 是可设置的最大缩放比例。默认范围是 [0,∞][0,\infty ][0,∞]<br>如果达到了约束的缩放比例极限时，即使用户继续滑动鼠标滚轮，缩放变换也会被忽略。<br>💡 以上方法限制视图的缩放，但可能会造成一个「副作用」，即当视图缩放达到了约束的缩放比例极限时，用户还继续滚动就会造成页面的滚动（如果当时页面是可滚动的），如果希望修正这个「副作用」，可以在相应的选择集上监听 wheel 事件并取消它的默认行为</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">selection</span><br><span class="line">  .<span class="title function_">on</span>(zoom) <span class="comment">// 为选择集的元素设置了缩放监听器后，取消 wheel 事件的默认行为</span></span><br><span class="line">  .<span class="title function_">on</span>(<span class="string">&quot;wheel&quot;</span>, <span class="function"><span class="params">event</span> =&gt;</span> event.<span class="title function_">preventDefault</span>());</span><br></pre></td></tr></table></figure>

<p>该约束在通过 zoom.scaleBy()、zoom.scaleTo()、zoom.translateBy() 方法执行变换时生效；但是通过 zoom.transform() 方法执行变换时不生效</p>
<ul>
<li>zoom.filter[(filter)] 用于判断是否执行缩放变换操作。参数 filter 是一个返回布尔值的函数，当返回的是 falsy 时忽略变换操作。它用以限制特定条件下不响应缩放变换操作。<br>函数 filter 接收当前的缩放事件 event 和当前调用缩放器的选择集的元素所绑定的数据 datum d 作为参数，而函数内的 this 指向当前元素节点。<br>其默认值如下，因此按下 Ctrl（但是可以在滚动鼠标滑轮时按下 Ctrl）或使用鼠标的次级按键（对于右手用户，次级按键一般是指鼠标的右键）时，默认是无法进行缩放平移操作，因为这些操作一般有其他用途</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">filter</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="comment">// 对于设置为右手操作的鼠标</span></span><br><span class="line">  <span class="comment">// 当使用左键时，event.button 为 0</span></span><br><span class="line">  <span class="comment">// 当使用右键时，event.button 为 2</span></span><br><span class="line">  <span class="keyword">return</span> (!event.<span class="property">ctrlKey</span> || event.<span class="property">type</span> === <span class="string">&#x27;wheel&#x27;</span>) &amp;&amp; !event.<span class="property">button</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>zoom.wheelDelta([delta]) 设置鼠标滚轮的每次滚动的 delta 值，参数 delta 是一个函数，最后返回修改后的 delta 值 Δ\Delta Δ。<br>参数 delta 默认值如下</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">wheelDelta</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> -event.<span class="property">deltaY</span> * (event.<span class="property">deltaMode</span> === <span class="number">1</span> ? <span class="number">0.05</span> : event.<span class="property">deltaMode</span> ? <span class="number">1</span> : <span class="number">0.002</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>该值用于在鼠标滚轮时计算缩放比例 k×2Δk\times 2^{\Delta}k×2Δ（其中 kkk 是原始的缩放比例），例如当 Δ=1\Delta = 1Δ=1 时，视图的元素会缩小一半；当 Δ=−1\Delta = -1Δ=−1 时，视图的元素会放大一倍</p>
<ul>
<li><p>zoom.clickDistance([distance]) 设置点击事件中，鼠标按下与放开鼠标之间允许的最大距离（该距离通过点击事件的 event.clientX、event.clientY 计算得到），如果大于等于该距离，就不会抛出点击事件。<br>💡 可以想象以鼠标按下点为圆心，以参数 distance 为半径，在该圆内释放鼠标，都会抛出点击事件，在圆外（或圆周上）放开鼠标，点击事件都会被忽略（因为此时更应该触发拖拽事件）。参数默认值 distance 是 0<br>该方法可用于优化点击放大的场景，而原始画面中有大量较小的元素，从鼠标的按下到释放可能会发生微小的移动，避免识别为对该元素的拖拽操作，可以通过设置「可移动式点击的最大距离」，来区分点击事件和拖拽事件。</p>
</li>
<li><p>zoom.tapDistance([distance]) 对于触屏设备在双击时，两次点击允许的最大距离（该距离通过首次点击的 touchstart 和第二次点击的 touchend 事件的 event.clientX、event.clientY 计算得到），如果大于等于该距离，就不会抛出 dblclick 双击事件。<br>💡 其应用场景和前一个方法类似，一般是为了区分双击事件和拖拽事件，参数默认值 distance 是 10</p>
</li>
</ul>
<h3 id="比例尺"><a href="#比例尺" class="headerlink" title="比例尺"></a>比例尺</h3><h4 id="线性比例尺"><a href="#线性比例尺" class="headerlink" title="线性比例尺"></a>线性比例尺</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> scale = d3.<span class="title function_">scaleLinear</span>()</span><br><span class="line">           .<span class="title function_">domain</span>([<span class="number">0</span>,<span class="number">10000</span>])</span><br><span class="line">           .<span class="title function_">range</span>([<span class="number">0</span>,<span class="number">100</span>])</span><br></pre></td></tr></table></figure>

<p>其中 scaleLinear() 对应法则，domain() 是定义域，range() 是值域。</p>
<h3 id="坐标轴"><a href="#坐标轴" class="headerlink" title="坐标轴"></a>坐标轴</h3><p>D3 中提供了专门的坐标轴模块 d3-axis，只需要几行代码就可以生成各种各样的坐标轴。一般情况下，坐标轴要与比例尺一起使用。记住这句话，离开比例尺的坐标轴就是耍流氓。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.baidu.com/2021/11/12/20-23-33/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/12/20-23-33/" class="post-title-link" itemprop="url">element UI</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-11-12 20:23:33" itemprop="dateCreated datePublished" datetime="2021-11-12T20:23:33+08:00">2021-11-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-05-14 12:06:33" itemprop="dateModified" datetime="2023-05-14T12:06:33+08:00">2023-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index"><span itemprop="name">web</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="element的表单校验输入框有值但校验未通过"><a href="#element的表单校验输入框有值但校验未通过" class="headerlink" title="element的表单校验输入框有值但校验未通过"></a>element的表单校验输入框有值但校验未通过</h2><ul>
<li><p><code>:model=&quot;ruleForm&quot;</code> 绑定的<code>ruleForm</code>值是否挂载成功并且操作的是否是这个表单。</p>
</li>
<li><p><code>:rules=&quot;rules&quot;</code> 校验的规则格式绑定的<code>rules</code>是否定义并且格式正确为对象数组。</p>
</li>
<li><p><code>el-form-item中的</code>prop=”name”<code>是否和rules中的</code>name: [ { required: true, message: ‘请输入活动名称’, trigger: ‘blur’ }, ], <code>的名称一致，两个</code>name`相同的，element的校验就是根据这个prop找对应的输入框的。</p>
</li>
<li><p><code>&lt;el-input v-model=&quot;ruleForm.name&quot;&gt;&lt;/el-input&gt;</code> 的<code>v-model=&quot;ruleForm.name&quot;</code>确保对象<code>ruleForm</code>中有<code>name</code>这个属性！</p>
</li>
</ul>
<h2 id="el-table格式化el-table-column内容"><a href="#el-table格式化el-table-column内容" class="headerlink" title="el-table格式化el-table-column内容"></a>el-table格式化el-table-column内容</h2><ul>
<li>v-if判断</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;scope.row.xxxx == 0&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>使用formatter属性</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;xxx&quot;</span>   <span class="attr">:formatter</span>=<span class="string">&quot;function(row, column)&#123;xxxx&#125;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="ElementUI的el-table-默认内容不换行，让el-table-column根据占位符-n换行"><a href="#ElementUI的el-table-默认内容不换行，让el-table-column根据占位符-n换行" class="headerlink" title="ElementUI的el-table 默认内容不换行，让el-table-column根据占位符\n换行"></a>ElementUI的el-table 默认内容不换行，让el-table-column根据占位符\n换行</h2><p>添加css样式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.el-table</span> &gt;&gt;&gt;<span class="selector-class">.cell</span> &#123;</span><br><span class="line">    <span class="attribute">white-space</span>: pre-line;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="点击时获取列表的值，可通过给节点添加data自定义属性，通过点击事件e-currentTarget-dataset获取属性值"><a href="#点击时获取列表的值，可通过给节点添加data自定义属性，通过点击事件e-currentTarget-dataset获取属性值" class="headerlink" title="点击时获取列表的值，可通过给节点添加data自定义属性，通过点击事件e.currentTarget.dataset获取属性值"></a>点击时获取列表的值，可通过给节点添加data自定义属性，通过点击事件e.currentTarget.dataset获取属性值</h2><h2 id="element获取table表格行数据，可通过template设置slot-scope-“scope”属性，在传参时使用scope-row-xxxx拿到当前行的数据"><a href="#element获取table表格行数据，可通过template设置slot-scope-“scope”属性，在传参时使用scope-row-xxxx拿到当前行的数据" class="headerlink" title="element获取table表格行数据，可通过template设置slot-scope=“scope”属性，在传参时使用scope.row.xxxx拿到当前行的数据"></a>element获取table表格行数据，可通过template设置slot-scope=“scope”属性，在传参时使用scope.row.xxxx拿到当前行的数据</h2><h2 id="当只有⼀个el-input的时候，可以⽤elementUI的⾃带的回车键触发提交事件但是有时候会同时触发刷新页⾯，这样可以在el-form上添加-submit-native-prevent来解决"><a href="#当只有⼀个el-input的时候，可以⽤elementUI的⾃带的回车键触发提交事件但是有时候会同时触发刷新页⾯，这样可以在el-form上添加-submit-native-prevent来解决" class="headerlink" title="当只有⼀个el-input的时候，可以⽤elementUI的⾃带的回车键触发提交事件但是有时候会同时触发刷新页⾯，这样可以在el-form上添加@submit.native.prevent来解决"></a>当只有⼀个el-input的时候，可以⽤elementUI的⾃带的回车键触发提交事件但是有时候会同时触发刷新页⾯，这样可以在el-form上添加@submit.native.prevent来解决</h2><h2 id="element-el-input的autofocus失效问题解决"><a href="#element-el-input的autofocus失效问题解决" class="headerlink" title="element el-input的autofocus失效问题解决"></a>element el-input的autofocus失效问题解决</h2><blockquote>
<p>autofocus是input的原生属性,饿了么组件也支持这种方法, 但是input外面还有其他组件, 导致autofocus失效, 只能手动调用focus方法:组件上绑定ref，手动调用focus()</p>
</blockquote>
<h2 id="elementUI选择器select获取选中对象"><a href="#elementUI选择器select获取选中对象" class="headerlink" title="elementUI选择器select获取选中对象"></a>elementUI选择器select获取选中对象</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 有些情况下需要获取选中对象的全部数据，添加 value-key=&quot;id&quot; ，value-key 为唯一性标识, 将 value 绑定为item --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;area&quot;</span> <span class="attr">value-key</span>=<span class="string">&quot;id&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请选择区域&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">v-for</span>=<span class="string">&quot;item in areaLsit&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span> <span class="attr">:label</span>=<span class="string">&quot;item.areaName&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="vue-css-gt-gt-gt-deep-穿透，深度查询样式在chrome89-edge新版本中无效问题"><a href="#vue-css-gt-gt-gt-deep-穿透，深度查询样式在chrome89-edge新版本中无效问题" class="headerlink" title="vue css &gt;&gt;&gt; /deep/穿透，深度查询样式在chrome89 edge新版本中无效问题"></a>vue css &gt;&gt;&gt; /deep/穿透，深度查询样式在chrome89 edge新版本中无效问题</h2><p>大概理解应该是<code>/deep/</code>基本上无效了，直接替换成“”空格，或者<code>&gt;&gt;&gt;</code>代替处理；</p>
<p>于是，在项目中全局替换<code>/deep/</code>为空格，但是部分页面会有错乱问题，于是将替换为空格后，仍然无效的样式部分，添加<code>&gt;&gt;&gt;</code>,居然可以了，但是对于Sass Less之类的预处理器是无法正确解析 <code>&gt;&gt;&gt;</code>的，所以要保证样式是css文件；</p>
<p>还有一点要强调，<code>&gt;&gt;&gt;</code>在html单页面下貌似无效，在vue项目中有效；</p>
<p>项目问题基本解决后，做一下汇总的情况下，上网查看关于样式穿透，发现除了<code>&gt;&gt;&gt;</code>、<code>/deep/</code>外，还有一个<code>::v-deep</code>，写法如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">/用法<span class="number">1</span>/</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.a</span>&#123;</span></span><br><span class="line"><span class="language-css">::v-deep .b &#123; &#125;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css">/用法<span class="number">2</span>/</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.a</span> ::v-deep .b &#123;&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.baidu.com/2021/08/22/20-22-11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/22/20-22-11/" class="post-title-link" itemprop="url">VScode</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-22 20:22:11" itemprop="dateCreated datePublished" datetime="2021-08-22T20:22:11+08:00">2021-08-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-05-14 12:06:33" itemprop="dateModified" datetime="2023-05-14T12:06:33+08:00">2023-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/tool/" itemprop="url" rel="index"><span itemprop="name">tool</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="vscode"><a href="#vscode" class="headerlink" title="vscode"></a>vscode</h1><h2 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h2><ul>
<li><p>VScode 关闭右侧预览功能：在设置中搜索”editor.minimap.enabled”把勾去掉</p>
</li>
<li><p>修改 vscode 配置文件改字体大小：打开 VSCode 安装目录下的如下文件 VSCode\resources\app\out\vs\workbench\workbench.desktop.main.css 查找 .part&gt;.content 修改字体大小即可</p>
</li>
<li><p>自动保存：</p>
</li>
</ul>
<p>打开 vscode 窗口，单击左下角的设置(齿轮状)图标<br>在设定按钮显示的菜单中，选择【Settings】选项。 这里是整个 vs 代码的设置入口<br>打开【settings】画面时，默认的【Auto Save】=【off】表示不自动保存，每次都需要用户自己手动保存<br>【后延迟】<br>1 )这是以一定的间隔自动保存的<br>2 )该【自动保存】选项需要指定间隔时间，以匹配下一个【自动保存延迟】配置项目，单位为毫秒<br>【onFocusChange】<br>1 )当焦点偏离编辑器当前窗口时自动保存<br>2 )即，即使在编辑器内部切换标签，也会触发自动保存<br>3 )本项目不需要【自动保存延迟】的设定值，此值也会被忽略<br>【onWindowChange】<br>1 )编辑器窗口失去焦点时，自动保存<br>2 )只有在焦点偏离整个编辑器时才会触发保存，在编辑器内部切换标签时不会自动保存<br>3 )本项目不需要【自动保存延迟】的设定值，此值也会被忽略<br>在【Settings】画面中修正值后，不点击追加保存按钮，自动保存设定的内容。</p>
<h2 id="vscode-好用的插件系列"><a href="#vscode-好用的插件系列" class="headerlink" title="vscode 好用的插件系列"></a>vscode 好用的插件系列</h2><ul>
<li>汉化插件： <code>Chinese (Simplified)</code></li>
<li>VIM:<code>Vim</code></li>
<li>git 相关插件：<code>gitLens</code>、<code>Git History</code>、<code>Git History Diff</code></li>
<li>格式化类插件： <code>Prettier - Code formatter</code>、<code>Vetur</code>、</li>
<li>规范检查：<code>ESLint</code>、<code>Stylelint</code>、<code>TSLint（已废弃）</code></li>
<li>标签自动化三剑客:<code>Auto Rename Tag</code>、<code>Auto Close Tag</code>、<code>Auto Import</code></li>
<li>css:<code>CSS Modules</code></li>
<li>代码片段：<code>ES7+ React/Redux/React-Native snippets</code>、<code>HTML CSS Support</code>、<code>JavaScript (ES6) code snippets</code></li>
<li>Markdown 预览：<code>Markdown Preview Enhanced</code>、<code>Markdown All in One</code>、<code>markdownlint</code></li>
<li>单词拼写：<code>Code Spell Checker</code></li>
<li>log 打印:<code>Turbo Console Log</code></li>
<li>浏览器打开：<code>open in browser</code></li>
<li>主题：<code>GitHub Theme</code></li>
<li>图片预览：<code>Image Preview</code></li>
<li>快速生成注释：<code>koroFileHeader</code></li>
<li>路径提示： <code>Path Intellisense</code>、</li>
<li>npm 模块导入智能提示： <code>npm Intellisense</code></li>
<li>接口请求：<code>REST Client</code></li>
<li>SSH：<code>Remote-SSH</code>、<code>Visual Studio Code Remote - SSH: Editing Configuration Files</code>、<code>Remote Explorer</code></li>
<li>错误显示：<code>Error Lens</code></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.baidu.com/2021/06/12/20-11-33/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/12/20-11-33/" class="post-title-link" itemprop="url">NodeJs</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-12 20:11:33" itemprop="dateCreated datePublished" datetime="2021-06-12T20:11:33+08:00">2021-06-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-05-14 12:06:33" itemprop="dateModified" datetime="2023-05-14T12:06:33+08:00">2023-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index"><span itemprop="name">web</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="NodeJs"><a href="#NodeJs" class="headerlink" title="NodeJs"></a>NodeJs</h1><h2 id="Node-js-模块化开发"><a href="#Node-js-模块化开发" class="headerlink" title="Node.js 模块化开发"></a>Node.js 模块化开发</h2><p>Node.js 规定一个 Javascript 文件就是一个模块，模块内部定义的变量和函数默认情况下外部无法得到。<br>模块内部可以使用 exports 对象进行成员导出，使用 require 方法导入其他模块。</p>
<h3 id="模块成员导出"><a href="#模块成员导出" class="headerlink" title="模块成员导出"></a>模块成员导出</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//a.js</span></span><br><span class="line"><span class="comment">//在模块中定义变量</span></span><br><span class="line"><span class="keyword">let</span> version = <span class="number">1.0</span>;</span><br><span class="line"><span class="comment">//模块中定义方法</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">sayHi</span> = (<span class="params">name</span>) =&gt; <span class="string">`hello！<span class="subst">$&#123;name&#125;</span>`</span>; <span class="comment">//es6新语法</span></span><br><span class="line"><span class="comment">//向模块外部导出数据</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">version</span> = version;</span><br><span class="line"><span class="built_in">exports</span>.<span class="property">sayHi</span> = sayHi;</span><br></pre></td></tr></table></figure>

<h3 id="模块成员的导入"><a href="#模块成员的导入" class="headerlink" title="模块成员的导入"></a>模块成员的导入</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//b.js</span></span><br><span class="line"><span class="comment">//在b.js模块中导入模块a</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="built_in">require</span>(<span class="string">&quot;./b.js&quot;</span>);</span><br><span class="line"><span class="comment">//输出b模块中的version变量</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="property">version</span>);</span><br><span class="line"><span class="comment">//调用b模块中的sayHi方法</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">sayHi</span>(<span class="string">&quot;XiaoMing&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>模块成员导出的另一种方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">version</span> = version;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">sayHi</span> = sayHi;</span><br></pre></td></tr></table></figure>

<p>exports 是 module.exports 的别名，导出对象最终以 module.exports 为准；</p>
<h2 id="package-json-文件的作用"><a href="#package-json-文件的作用" class="headerlink" title="package.json 文件的作用"></a>package.json 文件的作用</h2><p>项目描述文件，记录了当前项目信息。如：项目版本、作者、依赖的模块等等；使用<code>npm init -y</code>生成。其作用为（一）锁定包的版本，确保再次下载时不会因为包版本不同而产生问题。（二）加快下载速度，其记录着依赖的下载地址。</p>
<ul>
<li>开发依赖</li>
</ul>
<p>在项目开发阶段所需要的依赖，线上运营阶段不需要依赖的第三方包,称为开发依赖；可使用<code>npm install 包名 --save-dev</code>将包添加到 package.json 文件的 devDependencies 字段中</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;gulp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.9.1&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="Node-js-中模块的加载机制"><a href="#Node-js-中模块的加载机制" class="headerlink" title="Node.js 中模块的加载机制"></a>Node.js 中模块的加载机制</h2><p>模块查找规则</p>
<ul>
<li>当模块有路径没后缀时</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">require(&#x27;./find.js);</span><br><span class="line">require(&#x27;./find&#x27;);</span><br></pre></td></tr></table></figure>

<ol>
<li>require 方法根据路径查找模块</li>
<li>如果模块后缀省略，则先找同名 JS 文件再找同名 JS 文件夹</li>
<li>如果找到同名文件夹，则继续寻找其中的 index.js 文件</li>
<li>如果没有 index.js 文件，就会去当前文件夹中的 package.js 文件中查找 main 选项中的入口文件</li>
<li>如果入口文件不存在或没有指定入口文件，则报错：模块未找到</li>
</ol>
<ul>
<li>当模块即没路径也没后缀时</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">require(&quot;find&quot;);</span><br></pre></td></tr></table></figure>

<ol>
<li>Node.js 会假设它是系统模块，会去 node_modules 文件中寻找</li>
<li>先查看是否有同名 js 文件</li>
<li>在看有没有同名文件夹</li>
<li>若有，则继续寻找其中的 index.js 文件</li>
<li>如没有，则查看该文件夹中的 package.json 中的 main 选项确定模块的入口文件</li>
<li>若都没有，则报错</li>
</ol>
<h2 id="系统模块-Node-运行环境提供的-API"><a href="#系统模块-Node-运行环境提供的-API" class="headerlink" title="系统模块:Node 运行环境提供的 API"></a>系统模块:Node 运行环境提供的 API</h2><h3 id="fs-文件操作"><a href="#fs-文件操作" class="headerlink" title="fs 文件操作"></a>fs 文件操作</h3><p><code>const fs=require(&#39;fs&#39;);</code></p>
<p>读取文件内容:<code>fs.readFile(&#39;文件路径/文件名&#39;[,&#39;文件编码&#39;],callback);</code>(括号内为可选项)</p>
<p>实例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//读取上一级css目录下的base.css</span></span><br><span class="line">fs.<span class="title function_">readFile</span>(<span class="string">&quot;../css/base.css&quot;</span>, <span class="string">&quot;utf-8&quot;</span>, <span class="function">(<span class="params">err, doc</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//如果读取错误参数err的值为错误对象，否则err的值为null</span></span><br><span class="line">  <span class="comment">//doc参数为文件内容</span></span><br><span class="line">  <span class="keyword">if</span> (err == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="comment">//控制台中输出文件内容</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(doc);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>写入文件内容：`fs.writeFile(‘文件路径/文件名称’,’数据’,callback);</p>
<p>实例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> conetent = <span class="string">&quot;&lt;h3&gt;!!!!!!!!!!&lt;/h3&gt;&quot;</span>;</span><br><span class="line">fs.<span class="title function_">writeFile</span>(<span class="string">&quot;../index.html&quot;</span>, content, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err != <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;文件写入成功&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fs.<span class="title function_">stat</span>(file, <span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;&#125;) <span class="comment">//查询文件状态（data.isFile()–判断是否是文件，isDirectory()–判断是否是文件夹）</span></span><br><span class="line">fs.<span class="title function_">mkdir</span>(fileName,<span class="function"><span class="params">err</span> =&gt;</span> &#123;&#125;)<span class="comment">// 创建文件夹 （fileName–文件夹名称，重复会报错，例如：’./test‘），注意：此方法不能连续创建文件夹，例如：/test/one/two</span></span><br><span class="line">fs.<span class="title function_">readdir</span>(fileName,<span class="function"><span class="params">err</span> =&gt;</span> &#123;&#125;)<span class="comment">//读取文件夹，返回文件夹的所有直系子文件名称，移动文件位置等</span></span><br><span class="line">fs.<span class="title function_">rename</span>(newFileName,oldFileName,<span class="function"><span class="params">err</span> =&gt;</span> &#123;&#125;)<span class="comment">//修改文件夹、文件的名称</span></span><br><span class="line">fs.<span class="title function_">writeFile</span>(file,<span class="function"><span class="params">err</span>=&gt;</span> &#123;&#125;)<span class="comment">// 创建文件 （file—应路径下的文件,包括文件名，例如：’./test/test.txt‘ ，如文件已存在，会覆盖原文件内容）</span></span><br><span class="line">fs.<span class="title function_">appendFile</span>(file,<span class="function"><span class="params">err</span>=&gt;</span> &#123;&#125;)<span class="comment">// 追加文件内容，会在文件内容末尾追加（若文件不存在，回先自动创建，类似于writeFile）</span></span><br><span class="line">fs.<span class="title function_">readFile</span>(file,’utf-<span class="number">8</span>‘，(err,data)=&gt;&#123;&#125;)<span class="comment">// 读取文件内容，不设置格式，会返回Buffer数据，需要设置格式，例如utf-8，或者通过data.toString()进行转化</span></span><br><span class="line">fs.<span class="title function_">unlink</span>(file,<span class="function"><span class="params">err</span>=&gt;</span> &#123;&#125;)<span class="comment">// 删除文件</span></span><br><span class="line">fs.<span class="title function_">rmdir</span>(file,<span class="function"><span class="params">err</span>=&gt;</span> &#123;&#125;) <span class="comment">//删除文件夹，若文件夹下有文件，会报错，只能删除空文件夹</span></span><br><span class="line"><span class="comment">//注：若要连续创建文件夹，可以下载mkdirp模块包，mkdirp(&#x27;./one/two/three&#x27;) 既可以创建连续目录。（目前测试不支持创建文件，写入内容，npm地址:https://www.npmjs.com/package/mkdirp）</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="fs-流操作"><a href="#fs-流操作" class="headerlink" title="fs 流操作"></a>fs 流操作</h3><ul>
<li>写入流 createWriteStream</li>
<li>读取流 createReadStream</li>
<li>管道流 pipe</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">writeStr</span>: <span class="function">(<span class="params">str</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 需要先创建流</span></span><br><span class="line">  <span class="keyword">const</span> writeStream = fs.<span class="title function_">createWriteStream</span>(<span class="string">&quot;./test.txt&quot;</span>);</span><br><span class="line">  writeStream.<span class="title function_">write</span>(str); <span class="comment">// str为写入内容</span></span><br><span class="line">  writeStream.<span class="title function_">end</span>(); <span class="comment">// 此句必须写，不然无法触发下面的finish事件</span></span><br><span class="line">  writeStream.<span class="title function_">on</span>(<span class="string">&quot;finish&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;写入完成&quot;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------------------------------------------------------------------------------------------------/-------/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> readStream = fs.<span class="title function_">createReadStream</span>(<span class="string">&quot;./test.txt&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(readStream);</span><br><span class="line">readStream.<span class="title function_">on</span>(<span class="string">&quot;data&quot;</span>, <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  str += data;</span><br><span class="line">  count++;</span><br><span class="line">&#125;);</span><br><span class="line">readStream.<span class="title function_">on</span>(<span class="string">&quot;end&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(str, <span class="string">&quot;str----&quot;</span>, count);</span><br><span class="line">&#125;);</span><br><span class="line">readStream.<span class="title function_">on</span>(<span class="string">&quot;err&quot;</span>, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(err, <span class="string">&quot;err----&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------------------------------------------------------------------------------------------------/-------/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> readStream = fs.<span class="title function_">createReadStream</span>(<span class="string">&quot;./test.txt&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> writeStream = fs.<span class="title function_">createWriteStream</span>(<span class="string">&quot;./one.txt&quot;</span>);</span><br><span class="line"><span class="comment">// 将读取的test文件内容，写入到one，one如有内容，会被覆盖</span></span><br><span class="line">readStream.<span class="title function_">pipe</span>(writeStream);</span><br></pre></td></tr></table></figure>

<h3 id="路径拼接"><a href="#路径拼接" class="headerlink" title="路径拼接"></a>路径拼接</h3><p><code>path.join(&#39;路径&#39;,&#39;路径&#39;,..);</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导入path模块</span></span><br><span class="line"><span class="keyword">const</span> path=<span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="comment">//路径拼接</span></span><br><span class="line"><span class="keyword">let</span> finialPath=path.<span class="title function_">join</span>(<span class="string">&#x27;itcast&#x27;</span>,<span class="string">&#x27;a,&#x27;</span>css<span class="string">&#x27;,&#x27;</span>test.<span class="property">css</span><span class="string">&#x27;);</span></span><br><span class="line"><span class="string">//输出</span></span><br><span class="line"><span class="string">console.log(finialPath);</span></span><br><span class="line"><span class="string">//用__dirname获取当前文件的绝对路径</span></span><br><span class="line"><span class="string">const fs=require(&#x27;</span>fs<span class="string">&#x27;);</span></span><br><span class="line"><span class="string">fs.readFile(path.join(__dirname,&#x27;</span>test.<span class="property">css</span><span class="string">&#x27;),&#x27;</span>utf-<span class="number">8</span><span class="string">&#x27;,(err,doc)=&gt;&#123;</span></span><br><span class="line"><span class="string">console.log(err);</span></span><br><span class="line"><span class="string">console.log(doc);</span></span><br><span class="line"><span class="string">&#125;);</span></span><br></pre></td></tr></table></figure>

<h2 id="第三方模块"><a href="#第三方模块" class="headerlink" title="第三方模块"></a>第三方模块</h2><p>npm(node package manager):node 的第三方模块管理工具</p>
<ul>
<li>下载：<code>npm install 模块名</code></li>
<li>卸载：<code>npm uninstall package 模块名</code></li>
</ul>
<p>全局安装和本地安装：一般命令行工具全局安装，库文件本地安装</p>
<h3 id="第三方模块-mine"><a href="#第三方模块-mine" class="headerlink" title="第三方模块 mine"></a>第三方模块 mine</h3><p>其中 mine.getType(路径);可根据路径返回请求的文件类型;可用于 res.writeHead(200,{‘content-type’:’text/css;charset=utf8’})</p>
<h3 id="第三方模块-art-template-模板引擎"><a href="#第三方模块-art-template-模板引擎" class="headerlink" title="第三方模块 art-template 模板引擎"></a>第三方模块 art-template 模板引擎</h3><ol>
<li><p>下载：<code>npm install art-template</code></p>
</li>
<li><p>引入：<code>const template = require(&#39;art-template&#39;);</code></p>
</li>
<li><p>告诉模板引擎要拼接的数据和模板地址:<code>const html=template(&#39;模板数据&#39;,数据);</code></p>
</li>
</ol>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导入模块</span></span><br><span class="line"><span class="keyword">const</span> template = <span class="built_in">require</span>(<span class="string">&#x27;art-template&#x27;</span>);</span><br><span class="line"><span class="comment">//拼接</span></span><br><span class="line"><span class="keyword">const</span> html=<span class="title function_">template</span>(<span class="string">&#x27;./index.art&#x27;</span>,&#123;</span><br><span class="line"><span class="attr">data</span>:&#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;xioaming&#x27;</span>,</span><br><span class="line"><span class="attr">age</span>: <span class="number">29</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//index.art</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"> <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;data.name&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"> <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;data.age&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>模板语法</p>
<ul>
<li><p>数据输出<br>标准语法：<code>&#123;&#123;数据&#125;&#125;</code><br>原始语法：<code>&lt;%=数据%&gt;</code></p>
</li>
<li><p>原文输出：数据中带有 HTML 标签，默认情况下模板引擎不会解析标签,会转义后输出,若要解析则<br>标准语法：<code>&#123;&#123;@数据&#125;&#125;</code><br>原始语法：<code>&lt;%-数据%&gt;</code></p>
</li>
<li><p>条件判断<br>标准语法：<code>&#123;&#123;if 条件&#125;&#125;....&#123;&#123;else if 条件&#125;&#125;....&#123;&#123;/if&#125;&#125;</code><br>原始语法：<code>&lt;%if (条件) &#123;%>....<%&#125; else if(条件) &#123;%>....<%&#125;  %&gt;</code></p>
</li>
<li><p>循环<br>标准语法：<code>&#123;&#123;each 数据&#125;&#125; &#123;&#123;$index&#125;&#125; &#123;&#123;$value&#125;&#125;  &#123;&#123;/each&#125;&#125;</code><br>原始语法：<code>&lt;% for() &#123;%> ....<%&#125; %&gt;</code></p>
</li>
</ul>
</li>
<li><p>子模板</p>
</li>
</ul>
<p>将网站的公共区域（头部、页脚）抽离到单独文件中<br>标准语法：<code>&#123;include &#39;模板路径/footer.art&#39;&#125;</code><br>原始语法：<code>&lt;%include(&#39;模板路径&#39;)%&gt;</code></p>
<ul>
<li>模板继承</li>
</ul>
<p>将网站 HTML 骨架抽离到单独文件中，其他页面模板可以继承</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">!&lt;DOCTYPE HTML&gt;</span><br><span class="line">  &lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">      &lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">      &lt;title&gt;骨架模板&lt;/title&gt;</span><br><span class="line">      &#123;&#123;block &#x27;head&#x27;&#125;&#125; &#123;&#123;/block&#125;&#125;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">      &#123;&#123;block &#x27;content&#x27;&#125;&#125; &#123;&#123;/block&#125;&#125;</span><br><span class="line">      &lt;!--预留位置--&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">  &lt;/html&gt;&lt;/DOCTYPE</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>

<p>模板继承</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;extend <span class="string">&#x27;./test.art&#x27;</span>&#125;&#125;</span><br><span class="line">&#123;&#123;block <span class="string">&#x27;head&#x27;</span>&#125;&#125; &lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;test.css&quot;</span>&gt; &#123;&#123;/block&#125;&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>模板配置</p>
<ol>
<li>向模板中导入变量<code>template.default.imports.变量名=变量值(第三方模板的方法);</code> 在模板 test.art 中使用<code>&#123;&#123;dateFormat(time,'yyyy-mm-dd')&#125;&#125;</code></li>
<li>设置模板根目录<code>template.defaults.root=模板目录</code></li>
<li>设置模板默认后缀<code>template.defaults.extname=&#39;.art&#39;</code></li>
</ol>
</li>
</ul>
<h3 id="第三方模块-router"><a href="#第三方模块-router" class="headerlink" title="第三方模块 router"></a>第三方模块 router</h3><p>功能：实现路由<br>使用步骤：获取路由对象；调用路由对象提供的方法创建路由；启用路由；</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getRouter = <span class="built_in">require</span>(<span class="string">&quot;router&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">getRounter</span>();</span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/add&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">end</span>(<span class="string">&quot;hello world!&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&quot;request&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">router</span>(req, res);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="第三方模块-serve-static"><a href="#第三方模块-serve-static" class="headerlink" title="第三方模块 serve-static"></a>第三方模块 serve-static</h3><p>功能：静态资源访问服务</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> serverStatic = <span class="built_in">require</span>(<span class="string">&quot;serve-static&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> serve = <span class="title function_">serverStatic</span>(<span class="string">&quot;./pulic&quot;</span>);</span><br><span class="line">serve.<span class="title function_">on</span>(<span class="string">&quot;request&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">serve</span>(req, res);</span><br><span class="line">&#125;);</span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure>

<h3 id="第三方模块-Express-框架"><a href="#第三方模块-Express-框架" class="headerlink" title="第三方模块 Express 框架"></a>第三方模块 Express 框架</h3><p>基于 node 平台的 web 应用开发框架，可使用<code>npm install express</code>下载</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引用框架</span></span><br><span class="line"><span class="keyword">const</span> express=<span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="comment">//创建网站服务器</span></span><br><span class="line"><span class="keyword">const</span> app=<span class="title function_">express</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//当客户端以get方式访问/时</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>,<span class="function">(<span class="params">req.res</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="comment">//获取get参数</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">query</span>);</span><br><span class="line"><span class="comment">//响应:sen方法会自动设置http状态码，响应头部,类型</span></span><br><span class="line">res.<span class="title function_">send</span>(<span class="string">&#x27;hello!!!!&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//当客户端以post方式访问/add时</span></span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/add&#x27;</span>,<span class="function">(<span class="params">req.res</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="comment">//获取post参数：需要第三方模块body-parser</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">body</span>);</span><br><span class="line">res.<span class="title function_">send</span>(<span class="string">&#x27;hello!!!!&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;server is runningn ...&#x27;</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>第三方模块 body-parser</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">&quot;body-parser&quot;</span>);</span><br><span class="line"><span class="comment">//配置body-parser模块</span></span><br><span class="line">app.<span class="title function_">use</span>(bodyParser.<span class="title function_">urlencoded</span>(&#123; <span class="attr">extender</span>: <span class="literal">false</span> &#125;));</span><br><span class="line"><span class="comment">//接收请求</span></span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&quot;/add&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">body</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>构建模块化路由</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="comment">//创建路由对象</span></span><br><span class="line"><span class="keyword">const</span> home = express.<span class="title class_">Router</span>();</span><br><span class="line"><span class="comment">//将路由和请求路径进行匹配</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&quot;/home&quot;</span>, home);</span><br><span class="line"><span class="comment">//在home路由下继续创建路由</span></span><br><span class="line">home.<span class="title function_">get</span>(<span class="string">&quot;/index&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 响应/home/index</span></span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&quot;welcome&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>参数路由</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//服务端</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/find/:id&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">params</span>); <span class="comment">//&#123;id:124&#125;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//客户端</span></span><br><span class="line"><span class="attr">localhost</span>: <span class="number">3000</span> / find / <span class="number">124</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>中间件:将客户端发来的请求进行拦截处理</li>
</ul>
<p>如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;请求地址&quot;</span>, <span class="string">&quot;处理函数&quot;</span>);</span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&quot;请求地址&quot;</span>, <span class="string">&quot;处理函数&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>针对一个请求可设置多个中间件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//next方法：该中间件处理后会将请求的控制权交给下一个中间件</span></span><br><span class="line">  req.<span class="property">name</span> = <span class="string">&quot;xiaoming&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">name</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>app.use 中间件用法</li>
</ul>
<p>会匹配所有的请求方法,直接传入请求处理函数代表接收所有请求</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">url</span>);</span><br><span class="line">  <span class="title function_">next</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>用于错误处理</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/index&#x27;</span>,<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line"> <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;程序发生未知错误&#x27;</span>); <span class="comment">//易出现错误的地方</span></span><br><span class="line">&#125;);</span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">err,req,res,next</span>)=&gt;</span>&#123;</span><br><span class="line"> res.<span class="title function_">status</span>(<span class="number">500</span>).<span class="title function_">send</span>(err.<span class="property">message</span>); <span class="comment">//只能用于处理同步代码错误</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//异步代码错误需要手动触发错误</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/index&#x27;</span>,<span class="function">(<span class="params">req,res,next</span>)=&gt;</span>&#123;</span><br><span class="line"> fs.<span class="title function_">readFile</span>(<span class="string">&#x27;./test.c&#x27;</span>,<span class="string">&#x27;utf-8&#x27;</span>,<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line"> <span class="keyword">if</span>(err)&#123;</span><br><span class="line"> <span class="title function_">next</span>(err); <span class="comment">//易出现错误的地方</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;&#125;);</span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">err,req,res,next</span>)=&gt;</span>&#123;</span><br><span class="line"> res.<span class="title function_">status</span>(<span class="number">500</span>).<span class="title function_">send</span>(err.<span class="property">message</span>); <span class="comment">//只能用于处理同步代码错误</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>静态资源的处理</li>
</ul>
<p>通过 express 内置的 express.static 托管静态文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">static</span>(<span class="string">&quot;./pulic&quot;</span>));</span><br></pre></td></tr></table></figure>

<ul>
<li>express 模板引擎</li>
</ul>
<p>在原 art-template 模板引擎的基础上进行封装:<code>npm install art-template express-art-template</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//当渲染后缀为art的模板时，使用express-art-template</span></span><br><span class="line">app.<span class="title function_">engine</span>(<span class="string">&quot;art&quot;</span>, <span class="built_in">require</span>(<span class="string">&quot;express-art-template&quot;</span>));</span><br><span class="line"><span class="comment">//设置模板存放目录</span></span><br><span class="line">app.<span class="title function_">set</span>(<span class="string">&quot;views&quot;</span>, path.<span class="title function_">jon</span>(__dirname, <span class="string">&quot;views&quot;</span>));</span><br><span class="line"><span class="comment">//渲染模板时不写后缀，默认拼接art后缀</span></span><br><span class="line">app.<span class="title function_">set</span>(<span class="string">&quot;view engine&quot;</span>, <span class="string">&quot;art&quot;</span>);</span><br><span class="line"><span class="comment">//渲染模板</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">render</span>(<span class="string">&quot;index&quot;</span>, &#123; <span class="attr">mes</span>: <span class="string">&quot;模板数据&quot;</span> &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>将变量设置到 app.locals 对象下，则所有的模板都可以获取到</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="property">locals</span>.<span class="property">users</span> = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//users是自定义的</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;xiaoming&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">22</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;xiaomei&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<h3 id="第三方模块-Gulp"><a href="#第三方模块-Gulp" class="headerlink" title="第三方模块 Gulp"></a>第三方模块 Gulp</h3><p>功能：项目上线，HTML、CSS、JS 文件压缩合并，语法转换（es6、less）</p>
<p>使用：</p>
<ul>
<li>使用<code>npm install gulp</code>下载 gulp 库文件</li>
<li>在项目根目录下建立 gulpfile.js 文件</li>
<li>重构项目的文件夹结构 src 目录放置源代码文件，dist 目录放置构建后文件</li>
<li>在 gulpfile.js 文件中编写任务</li>
<li>在命令行工具中执行 gulp 任务</li>
</ul>
<p>gulp 提供的方法：</p>
<ul>
<li>gulp.src():获取任务要处理的文件</li>
<li>gulp.dest():输出文件</li>
<li>gulp.task():建立 gulp 任务</li>
<li>gulp.watch():监控文件的变化</li>
</ul>
<p>gulp 插件：</p>
<ul>
<li>gulp-htmlminn: html 文件压缩</li>
<li>gulp-csso: css 文件压缩</li>
<li>gulp-babel: javascript 语法转化</li>
<li>gulp-less: less 语法转化</li>
<li>gulp-uglify: 压缩混淆 JavaScript</li>
<li>gulp-file-include:公共文件包含</li>
<li>browsersync:浏览器实时同步</li>
</ul>
<h2 id="HTTP-协议"><a href="#HTTP-协议" class="headerlink" title="HTTP 协议"></a>HTTP 协议</h2><p>超文本传输协议。规定了客户端（浏览器）与服务器（网站服务器）之间请求和应答的标准</p>
<ul>
<li>静态资源：服务器不需要处理，可以直接响应给客户端的资源，如：css，JavaScript，image 文件</li>
<li>动态资源：相同的请求地址，不同的响应资源</li>
</ul>
<h3 id="报文"><a href="#报文" class="headerlink" title="报文"></a>报文</h3><p>在 HTTP 请求和响应的过程中传递的数据块叫做报文</p>
<ul>
<li><p>请求报文</p>
<ol>
<li>请求方式：GET、POST</li>
<li>请求地址</li>
<li>请求参数</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">on</span>(<span class="string">&quot;request&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  req.<span class="property">headers</span>; <span class="comment">//请求报文</span></span><br><span class="line">  req.<span class="property">url</span>; <span class="comment">//请求地址</span></span><br><span class="line">  req.<span class="property">method</span>; <span class="comment">//请求方法</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
<li><p>响应报文</p>
<ol>
<li>HTTP 状态码： 200(请求成功)、400(客户端请求语法有误)、404(请求的资源未找到)、500(服务器错误)、</li>
<li>内容类型：<ul>
<li>text/html</li>
<li>text/css</li>
<li>application/javascript</li>
<li>image/jpeg</li>
<li>application/json</li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h3><p>指客户端请求地址,如：<code>http://localhost:8080/index</code>与服务端程序代码的对应关系，即请求什么响应什么；</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">on</span>(<span class="string">&quot;request&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//获取客户端的请求路径</span></span><br><span class="line">  <span class="keyword">let</span> &#123; pathname &#125; = url.<span class="title function_">parse</span>(req.<span class="property">url</span>);</span><br><span class="line">  <span class="comment">//或写成</span></span><br><span class="line">  <span class="comment">//let pathname=url.parse(req.url).pathname;</span></span><br><span class="line">  <span class="keyword">if</span> (pathname == <span class="string">&quot;/&quot;</span> || pathname == <span class="string">&quot;/index&quot;</span>) &#123;</span><br><span class="line">    res.<span class="title function_">end</span>(<span class="string">&quot;欢迎来到首页&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    res.<span class="title function_">end</span>(<span class="string">&quot;页面不存在&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="创建-web-服务器"><a href="#创建-web-服务器" class="headerlink" title="创建 web 服务器"></a>创建 web 服务器</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引用系统模块</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line"><span class="comment">//创建web服务器</span></span><br><span class="line"><span class="keyword">const</span> app = http.<span class="title function_">createServer</span>();</span><br><span class="line"><span class="comment">//当客户端发送请求的时候</span></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&quot;request&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//响应</span></span><br><span class="line"></span><br><span class="line">  res.<span class="title function_">end</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//返回状态码和返回资源类型,若无，低级浏览器可能出问题</span></span><br><span class="line"></span><br><span class="line">  res.<span class="title function_">writeHead</span>(<span class="number">400</span>, &#123; <span class="string">&quot;content-type&quot;</span>: <span class="string">&quot;text/html;charset=utf8&quot;</span> &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//监听端口</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Server is running....&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>完善：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引用系统模块</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> url = <span class="built_in">require</span>(<span class="string">&quot;url&quot;</span>); <span class="comment">//处理url地址模块</span></span><br><span class="line"><span class="keyword">const</span> querystring = <span class="built_in">require</span>(<span class="string">&quot;querystring&quot;</span>); <span class="comment">//处理参数模块</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建web服务器</span></span><br><span class="line"><span class="keyword">const</span> app = http.<span class="title function_">createServer</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//当客户端发送请求的时候</span></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&quot;request&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//post参数是通过事件的方式接受的</span></span><br><span class="line">  <span class="comment">//data当请求参数传递的时候发出data事件</span></span><br><span class="line">  <span class="comment">//end当参数传递完成的时候时发出end事件</span></span><br><span class="line">  <span class="comment">//获取POST参数需要使用data事件和end事件；</span></span><br><span class="line">  <span class="keyword">let</span> postParams = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  req.<span class="title function_">on</span>(<span class="string">&quot;data&quot;</span>, <span class="function">(<span class="params">params</span>) =&gt;</span> &#123;</span><br><span class="line">    postParams += params; <span class="comment">//接收的数据不是一次性发完的</span></span><br><span class="line">  &#125;);</span><br><span class="line">  req.<span class="title function_">on</span>(<span class="string">&quot;end&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(postParams);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(querystring.<span class="title function_">parse</span>(postParams)); <span class="comment">//将参数转换为对象格式</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//响应</span></span><br><span class="line">  res.<span class="title function_">end</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//返回状态码和相关信息</span></span><br><span class="line"></span><br><span class="line">  res.<span class="title function_">writeHead</span>(<span class="number">400</span>, &#123; <span class="string">&quot;content-type&quot;</span>: <span class="string">&quot;text/html;charset=utf8&quot;</span> &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//调用url模块方法parse();第一个参数为要处理的地址，第二个参数为是否处理为对象格式，true为是；</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(url.<span class="title function_">parse</span>(res.<span class="property">url</span>, <span class="literal">true</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//监听端口</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Server is running....&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="Node-js-异步编程"><a href="#Node-js-异步编程" class="headerlink" title="Node.js 异步编程"></a>Node.js 异步编程</h2><ul>
<li>同步 api:当前 api 执行完成后，才能继续执行下一个 api;同步代码执行完后才开始执行异步代码，再执行回调函数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//同步api可以从返回值中拿到api执行结果，而异步api不行</span></span><br><span class="line"></span><br><span class="line">funciotn <span class="title function_">sum</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> x+y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> re=<span class="title function_">sum</span>(<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//异步</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getMsg</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">return</span> &#123;<span class="attr">msg</span>:<span class="string">&#x27;hello&#x27;</span>&#125;,<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> res=<span class="title function_">getMsg</span>(); <span class="comment">//undefined</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>异步 api:当前 api 的执行，不会阻塞后续代码的执行;异步 api 通过回调函数获取返回值</li>
</ul>
<blockquote>
<p>回调函数：自己定义函数让别人去调用</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getData</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">  <span class="title function_">callback</span>(<span class="string">&quot;XiaoMing&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">getData</span>(<span class="keyword">function</span> (<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello&quot;</span> + n);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>promise 解决回调地狱问题</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ler promise=<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line"><span class="title function_">resolve</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;xiaoming&#x27;</span>&#125;);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="title function_">reject</span>(<span class="string">&#x27;error&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;,<span class="number">2000</span>);</span><br><span class="line">&#125;):</span><br><span class="line">promise.<span class="title function_">then</span>(<span class="function"><span class="params">result</span>=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(result);<span class="comment">//&#123;name:&#x27;xioaming&#x27;&#125;).catch(error=&gt;console.log(error);//error);</span></span><br></pre></td></tr></table></figure>

<ul>
<li>异步函数：终极方案，让异步代码写成同步代码形式，让代码不再有回调函数嵌套</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在普通函数定义前加上async关键字</span></span><br><span class="line"><span class="comment">//异步函数默认返回的时promise对象</span></span><br><span class="line"><span class="comment">//在异步函数使用throw关键字进行错误抛出，之后的代码将不会执行</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">fn</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;&#125;;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="string">&quot;error&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ok;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>());</span><br><span class="line"><span class="title function_">fn</span>().<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//awaite关键字只能出现在异步函数中</span></span><br><span class="line"><span class="comment">//awaite promise对象； 暂停异步函数的执行，等待promise对象返回结果后在向下执行</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">run</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">await</span> <span class="title function_">p1</span>();</span><br><span class="line">  <span class="keyword">await</span> <span class="title function_">p2</span>();</span><br><span class="line">  <span class="keyword">await</span> <span class="title function_">p3</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>返回 promise 对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用util模块的promisify方法</span></span><br><span class="line"><span class="keyword">const</span> fs=<span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> promisify=<span class="built_in">require</span>(<span class="string">&#x27;util&#x27;</span>).<span class="property">promisify</span>;</span><br><span class="line"><span class="keyword">const</span> readFile=<span class="title function_">pronisify</span>(fs.<span class="property">readFile</span>);</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">run</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> r1=awaite <span class="title function_">readFile</span>(<span class="string">&#x27;./1.txt&#x27;</span>,<span class="string">&#x27;utf8&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> r2=awaite <span class="title function_">readFile</span>(<span class="string">&#x27;./2.txt&#x27;</span>,<span class="string">&#x27;utf8&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r1,r2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">run</span>();</span><br></pre></td></tr></table></figure>

<p>捕获错误:</p>
<p><code>try catch</code>可以捕获异步函数以及其他同步代码在执行过程中发生的错误，但不能捕获其他类型 api 发生的错误。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="keyword">async</span> (req, res, next) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">await</span> <span class="title class_">User</span>.<span class="title function_">fid</span>(&#123; <span class="attr">name</span>: <span class="string">&quot;xiaoming&quot;</span> &#125;);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (er) &#123;</span><br><span class="line">    <span class="title function_">next</span>(er);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="全局对象-global"><a href="#全局对象-global" class="headerlink" title="全局对象 global"></a>全局对象 global</h2><p>在浏览器中全局对象时 window,在 node 中全局对象是 global</p>
<p>Node 中的全局对象有以下方法，可省略 global：<code>console.log()</code>,<code>setTimeout()</code>,clearEimeout()<code>,</code>setInternal()<code>,</code>clearInterval`</p>
<h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><p>存储数据的仓库：mysql、MongoDB、Oracle</p>
<p>相关概念：</p>
<table>
<thead>
<tr>
<th>术语</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>database</td>
<td>数据仓库,可建立多个数据库</td>
</tr>
<tr>
<td>collection</td>
<td>集合，一组数据的集合</td>
</tr>
<tr>
<td>document</td>
<td>文档，一条具体的数据</td>
</tr>
<tr>
<td>field</td>
<td>字段,文档中的属性名称</td>
</tr>
</tbody></table>
<h3 id="第三方包-Mongoose"><a href="#第三方包-Mongoose" class="headerlink" title="第三方包 Mongoose"></a>第三方包 Mongoose</h3><p>使用 node.js 操作 MongoDB 数据库,下载<code>npm install mongoose</code></p>
<ul>
<li>数据库的连接</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>);</span><br><span class="line">mongoose</span><br><span class="line">  .<span class="title function_">connect</span>(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;数据库连接成功&quot;</span>))</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;fail!&quot;</span>, err));</span><br></pre></td></tr></table></figure>

<ul>
<li>创建数据库</li>
</ul>
<p>在 MongoDB 中不需要显示创建数据库，如果使用的数据库不存在，MongoDB 会自动创建。</p>
<h4 id="MongoDB-增删查改操作"><a href="#MongoDB-增删查改操作" class="headerlink" title="MongoDB 增删查改操作"></a>MongoDB 增删查改操作</h4><ul>
<li>创建集合</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//对集合设定规则</span></span><br><span class="line"><span class="keyword">const</span> courseSchema = <span class="keyword">new</span> mongoose.<span class="title class_">Schema</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="title class_">String</span>,</span><br><span class="line">  <span class="attr">author</span>: <span class="title class_">String</span>,</span><br><span class="line">  <span class="attr">isPublished</span>: <span class="title class_">Boolean</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//创建集合并合并规则</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Course</span> = mongoose.<span class="title function_">model</span>(<span class="string">&quot;Course&quot;</span>, courseSchema); <span class="comment">//返回构造函数</span></span><br></pre></td></tr></table></figure>

<ul>
<li>创建文档</li>
</ul>
<p>即向集合中插入元素</p>
<p>第一种方法:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建集合实例</span></span><br><span class="line"><span class="keyword">const</span> course=<span class="keyword">new</span> <span class="title class_">Course</span>(&#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;tset&#x27;</span>,</span><br><span class="line"><span class="attr">author</span>: <span class="string">&#x27;xiaoming&#x27;</span></span><br><span class="line"><span class="attr">isPubulished</span>: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//保存数据</span></span><br><span class="line">course.<span class="title function_">save</span>();</span><br></pre></td></tr></table></figure>

<p>第二种方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Course</span>.<span class="title function_">create</span>(&#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;tset&#x27;</span>,</span><br><span class="line"><span class="attr">author</span>: <span class="string">&#x27;xiaoming&#x27;</span></span><br><span class="line"><span class="attr">isPubulished</span>: <span class="literal">true</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="function">(<span class="params">err,doc</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="comment">//错误对象</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line"><span class="comment">//当前文档</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(doc);</span><br><span class="line">&#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">//create返回的也是promise对象</span></span><br><span class="line"><span class="title class_">Course</span>.<span class="title function_">create</span>(&#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;tset&#x27;</span>,</span><br><span class="line"><span class="attr">author</span>: <span class="string">&#x27;xiaoming&#x27;</span></span><br><span class="line"><span class="attr">isPubulished</span>: <span class="literal">true</span></span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">doc</span>=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(doc)).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span>=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(err));</span><br></pre></td></tr></table></figure>

<ul>
<li>mongoose 验证</li>
</ul>
<p>在创建集合规则时，可以设置当前字段的验证规则，验证失败则输入插入失败</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> postSchema=<span class="keyword">new</span> mongoose.<span class="title class_">Schema</span>(&#123;</span><br><span class="line"> <span class="attr">title</span>:&#123;</span><br><span class="line">  <span class="attr">type</span>: <span class="title class_">String</span>,  <span class="comment">//字段类型</span></span><br><span class="line">  <span class="attr">required</span>: <span class="literal">true</span>  <span class="comment">//true时代表该字段必填,不能为空</span></span><br><span class="line">  <span class="attr">default</span>: <span class="string">&#x27;默认title&#x27;</span> <span class="comment">//默认值</span></span><br><span class="line">  <span class="attr">validate</span>:&#123;  <span class="comment">//自定义验证器</span></span><br><span class="line">  <span class="attr">validator</span>: <span class="function"><span class="params">v</span>=&gt;</span>&#123;</span><br><span class="line">   <span class="comment">//返回布尔值，true代表验证成功</span></span><br><span class="line">   <span class="comment">//v要验证的值</span></span><br><span class="line">   <span class="keyword">return</span> v.<span class="property">length</span>&gt;<span class="number">4</span></span><br><span class="line">  &#125;</span><br><span class="line">   <span class="attr">masseage</span>: <span class="string">&#x27;error!!!!!&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"> <span class="attr">authod</span>:&#123;</span><br><span class="line">  <span class="attr">type</span>: <span class="title class_">String</span>,  <span class="comment">//字段类型</span></span><br><span class="line">  <span class="attr">trim</span>:<span class="literal">true</span> <span class="comment">//自动去除字符串两边的空格</span></span><br><span class="line">  <span class="attr">required</span>: [<span class="literal">true</span>,<span class="string">&#x27;错误信息&#x27;</span>], <span class="comment">//自定义错误信息</span></span><br><span class="line">  <span class="attr">minlength</span>: <span class="number">2</span>,  <span class="comment">//字符串最小长度</span></span><br><span class="line">  <span class="attr">maxlength</span>: [<span class="number">10</span>,<span class="string">&#x27;长度错误&#x27;</span>],  <span class="comment">//字符串最大长度</span></span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"> <span class="attr">age</span>:&#123;</span><br><span class="line">  <span class="attr">type</span>: <span class="title class_">Number</span>,</span><br><span class="line">  <span class="attr">min</span>: <span class="number">2</span>,  <span class="comment">//数值的最小值</span></span><br><span class="line">  <span class="attr">max</span>: <span class="number">100</span> <span class="comment">//数值的最大值</span></span><br><span class="line"> &#125;,</span><br><span class="line"> <span class="attr">category</span>:&#123;</span><br><span class="line">  <span class="attr">type</span>:<span class="title class_">String</span>,</span><br><span class="line">  <span class="attr">enum</span>:[<span class="string">&#x27;html&#x27;</span>,<span class="string">&#x27;css&#x27;</span>,<span class="string">&#x27;js&#x27;</span>]  <span class="comment">//枚举,输入的值必须在其中,否则报错</span></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  enum:&#123;</span></span><br><span class="line"><span class="comment">   values: [&#x27;html&#x27;,&#x27;css&#x27;,&#x27;js&#x27;],</span></span><br><span class="line"><span class="comment">   message: &#x27;error message&#x27;</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Post</span>=mongoose.<span class="title function_">model</span>(<span class="string">&#x27;Post&#x27;</span>,postSchema);</span><br><span class="line">post.<span class="title function_">create</span>(&#123;&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">re</span>=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(re)).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span>=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(err));</span><br></pre></td></tr></table></figure>

<ul>
<li><p>集合关联</p>
<ol>
<li>使用 id 对集合进行关联</li>
<li>使用 populate 方法进行关联集合查询</li>
</ol>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//用户集合</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">User</span>=mongoose.<span class="title function_">model</span>(<span class="string">&#x27;User&#x27;</span>,<span class="keyword">new</span> mongoose.<span class="title class_">Schema</span>(&#123;<span class="attr">name</span>:&#123;<span class="attr">type</span>: <span class="title class_">String</span>&#125;&#125;));</span><br><span class="line"><span class="comment">//文章集合</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Post</span>=mongoose.<span class="title function_">model</span>(<span class="string">&#x27;Post&#x27;</span>,<span class="keyword">new</span> mongoose.<span class="title class_">Schema</span>(&#123;</span><br><span class="line"> <span class="attr">title</span>:&#123;<span class="attr">type</span>: <span class="title class_">String</span>&#125;,</span><br><span class="line"><span class="comment">//使用id将文章集合和作者集合进行关联</span></span><br><span class="line"> <span class="attr">author</span>:&#123;<span class="attr">type</span>: mongoose.<span class="property">Schema</span>.<span class="property">Types</span>.<span class="property">ObjectId</span>, <span class="attr">ref</span>: <span class="string">&#x27;User&#x27;</span>&#125;</span><br><span class="line">&#125;)):</span><br><span class="line"></span><br><span class="line"><span class="comment">//联合查询</span></span><br><span class="line"><span class="title class_">Post</span>.<span class="title function_">find</span>().<span class="title function_">populate</span>(<span class="string">&#x27;author&#x27;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">err,result</span>)=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(result));</span><br></pre></td></tr></table></figure>

<ul>
<li>导入数据</li>
</ul>
<p>shell 命令：<code>mongoimport -d 数据库名称 -c 集合名称 -file 要导入的数据文件（josn格式）</code></p>
<ul>
<li>查询文档</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//根据条件查询文档，若为空则查询所有文档</span></span><br><span class="line"><span class="title class_">Course</span>.<span class="title function_">find</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(result)); <span class="comment">//返回的是文档的集合数组</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//实例</span></span><br><span class="line"><span class="title class_">Course</span>.<span class="title function_">find</span>(&#123; <span class="attr">name</span>: <span class="string">&quot;xiaoming&quot;</span> &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(result));</span><br><span class="line"><span class="title class_">User</span>.<span class="title function_">find</span>(&#123; <span class="attr">age</span>: &#123; <span class="attr">$gt</span>: <span class="number">20</span>, <span class="attr">$lt</span>: <span class="number">50</span> &#125; &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(result)); <span class="comment">//查询大于20小于50</span></span><br><span class="line"><span class="title class_">User</span>.<span class="title function_">find</span>(&#123; <span class="attr">hobbies</span>: &#123; <span class="attr">$in</span>: [<span class="string">&quot;运动&quot;</span>] &#125; &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(result)); <span class="comment">//查询包含运动的</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//只查询一条数据</span></span><br><span class="line"><span class="title class_">Course</span>.<span class="title function_">findOne</span>(&#123; <span class="attr">name</span>: <span class="string">&quot;xiaoming&quot;</span> &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(result));</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//选择要查询的字段</span></span><br><span class="line"><span class="title class_">User</span>.<span class="title function_">find</span>()</span><br><span class="line">  .<span class="title function_">select</span>(<span class="string">&quot;name age -_id&quot;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(result))</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err)); <span class="comment">//只返回查询的字段，不查询的字段前加-</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将查询出来的数据进行升序排序(从小到大）</span></span><br><span class="line"><span class="title class_">User</span>.<span class="title function_">find</span>()</span><br><span class="line">  .<span class="title function_">sort</span>(<span class="string">&quot;age&quot;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(result));</span><br><span class="line"></span><br><span class="line"><span class="comment">//将查询出来的数据进行降序排序(从大到小）</span></span><br><span class="line"><span class="title class_">User</span>.<span class="title function_">find</span>()</span><br><span class="line">  .<span class="title function_">sort</span>(<span class="string">&quot;-age&quot;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(result));</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//skip跳过多条数据，limit限制查询数量</span></span><br><span class="line"><span class="title class_">User</span>.<span class="title function_">find</span>()</span><br><span class="line">  .<span class="title function_">skip</span>(<span class="number">2</span>)</span><br><span class="line">  .<span class="title function_">limit</span>(<span class="number">2</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(result)); <span class="comment">//分页查询时常用</span></span><br></pre></td></tr></table></figure>

<ul>
<li>删除文档</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除第一个文档</span></span><br><span class="line"><span class="title class_">Course</span>.<span class="title function_">findOndeAndDelete</span>(&#123;&#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(result)); <span class="comment">//返回删除的文档</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除多个文档</span></span><br><span class="line"><span class="title class_">User</span>.<span class="title function_">deleteMany</span>(&#123;&#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(result));</span><br></pre></td></tr></table></figure>

<ul>
<li>更新文档</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//更新单个</span></span><br><span class="line"><span class="title class_">User</span>.<span class="title function_">updateOne</span>(&#123; 查询条件 &#125;, &#123; 要修改的值 &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">re</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(re));</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//更新多个</span></span><br><span class="line"><span class="title class_">User</span>.<span class="title function_">updateMany</span>(&#123; 查询条件 &#125;, &#123; 要修改的值 &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">re</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(re));</span><br></pre></td></tr></table></figure>

<h4 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h4><h5 id="综合案例"><a href="#综合案例" class="headerlink" title="综合案例"></a>综合案例</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//301代表重定向</span></span><br><span class="line"><span class="comment">//location 跳转地址</span></span><br><span class="line">req.<span class="title function_">on</span>(<span class="string">&quot;end&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">writeHead</span>(<span class="number">301</span>, &#123;</span><br><span class="line">    <span class="title class_">Location</span>: <span class="string">&quot;/list&quot;</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">  res.<span class="title function_">end</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>npm i nodemon -g</code><br><code>nodemon test.js</code></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.baidu.com/2021/06/07/20-00-00/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/07/20-00-00/" class="post-title-link" itemprop="url">Vue2</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-07 20:00:00" itemprop="dateCreated datePublished" datetime="2021-06-07T20:00:00+08:00">2021-06-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-05-14 12:06:33" itemprop="dateModified" datetime="2023-05-14T12:06:33+08:00">2023-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index"><span itemprop="name">web</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Vue2-0"><a href="#Vue2-0" class="headerlink" title="Vue2.0"></a>Vue2.0</h1><blockquote>
<p>一套用于构建用户界面的渐进式 javascrip 框架</p>
</blockquote>
<h2 id="原生使用"><a href="#原生使用" class="headerlink" title="原生使用"></a>原生使用</h2><ul>
<li>引入vue</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="language-javascript"> <span class="comment">//引入 Vue</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--引入vue后，会出现全局属性Vue&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>容器</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;root&#x27;</span>&gt;</span>&#123;&#123;msg&#125;&#125; &#123;&#123;name&#125;&#125; <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  <span class="comment">&lt;!-- &#123;&#123;&#125;&#125;中可写js表达式--&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>使用vue</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"> <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"> <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span>=<span class="literal">false</span>;<span class="comment">//阻止vue启动时的生成的提醒</span></span><br><span class="line"><span class="comment">//创建vue实例</span></span><br><span class="line"><span class="keyword">const</span> vu= <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>, <span class="comment">//挂载点，指定容器,可写类名，不能用在html和body上；第二种写法可用vu.$mount(&#x27;#root&#x27;);代替</span></span><br><span class="line">  <span class="attr">data</span>:&#123;</span><br><span class="line">    <span class="attr">msg</span>:<span class="string">&#x27;hello&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;xiaomi&#x27;</span>,</span><br><span class="line">    <span class="title function_">test</span>(<span class="params"></span>)&#123;&#125; <span class="comment">//不建议在data中写函数，因为会data中的属性会进行数据代理，而方法并不需要进行数据代理</span></span><br><span class="line"> &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"> <span class="comment">//data第二种写成函数式,由Vue管理的函数不能写成箭头函数，对象里的方法可省略:function</span></span><br><span class="line"> <span class="comment">/*</span></span><br><span class="line"><span class="comment"> data:function()&#123;</span></span><br><span class="line"><span class="comment">   return&#123;</span></span><br><span class="line"><span class="comment">     name:&#x27;xiaoming&#x27;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"> &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><ul>
<li><p>插值语法：用于解析标签体内容<br><code>&#123;&#123;xxx&#125;&#125;</code>xxx 为 js 表达式，可以直接读取到 data 中的属性</p>
</li>
<li><p>指令语法：用于解析标签<br><code>v-bind:href=&quot;xxx&quot;</code>或简写为<code>:href=&quot;xxx&quot;</code></p>
</li>
</ul>
<h2 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h2><h3 id="数据绑定"><a href="#数据绑定" class="headerlink" title="数据绑定"></a>数据绑定</h3><ul>
<li><p>单向数据绑定：数据只能从 data 流向页面;<br><code>v-bind:href=&quot;xxx&quot;</code>或简写为<code>:href=&quot;xxx&quot;</code></p>
</li>
<li><p>双向数据绑定：数据能从 data 流向页面,也能从页面流向 data，默认绑定value<br>  <code>v-model:value=&quot;xxx&quot;</code>或简写<code>v-model=&quot;xxx&quot;</code>。<code>v-model</code>指令只能用在表单类（输入类 input、select）元素上,<code>v-model</code>的三个修饰符：<code>lazy</code>失去焦点在收集数据，<code>number</code>输入的字符串转为有效数字，<code>trim</code>去除首尾的空格</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--输入框--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>  <span class="attr">v-model.trim</span>=<span class="string">&quot;keyWords/&gt;</span></span></span><br><span class="line"><span class="string"><span class="tag"></span></span></span><br><span class="line"><span class="string"><span class="tag">&lt;!--单选框，要加上value属性--&gt;</span></span></span><br><span class="line"><span class="string"><span class="tag">&lt;input type=&quot;</span><span class="attr">radio</span>&quot; <span class="attr">v-model</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;radio1&quot;</span> <span class="attr">name</span>=<span class="string">&quot;test&quot;</span> /&gt;</span>    </span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;radio2&quot;</span> <span class="attr">name</span>=<span class="string">&quot;test&quot;</span> /&gt;</span>    </span><br><span class="line"><span class="comment">&lt;!--多选框--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--若没有配置value，则当v-model初始值为数组时，勾选时收集的是null，为字符串时，收集的是布尔值--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;study&quot;</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;reading&quot;</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;sports&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:cllick</span>=<span class="string">&quot;showhello&quot;</span>&gt;</span>test<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--或简写成--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">cllick</span>=<span class="string">&quot;showhello($event,22)&quot;</span>&gt;</span>$event占位<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">el</span>:<span class="string">&#x27;.button1&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">   <span class="attr">name</span>:<span class="string">&#x27;xiaomei&#x27;</span></span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">showhello</span>(<span class="params">e,n</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&#x27;hello&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">target</span>,n);</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>事件修饰符</p>
<ul>
<li><p>prevent:阻止默认事件</p>
</li>
<li><p>stop:阻止事件冒泡</p>
</li>
<li><p>once：事件只触发一次</p>
</li>
<li><p>capture:使用事件的捕获模式</p>
</li>
<li><p>sefl:只有 event.target 是当前操作的元素时才触发事件</p>
</li>
<li><p>passive:事件的默认行为立即执行，无需等待事件回调执行完毕，</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;www.baidu.com&#x27;</span> <span class="attr">v-on:click.prevent.stop</span>=<span class="string">&quot;showhello()&quot;</span>&gt;</span>test<span class="tag">&lt;<span class="name">a</span>&gt;</span> <span class="comment">&lt;!--阻止a标签自动跳转,可连续写--&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>键盘事件</p>
<ul>
<li><p>vue 中的按键别名：<code>回车enter</code>，<code>删除delete</code>，<code>退出esc</code>，<code>空格space</code>， <code>换行tap(必须配合keydown使用)</code>， <code>上up</code>，<code>下down</code>，<code>左left</code>，<code>右right</code></p>
</li>
<li><p>系统修饰键：<code>ctrl</code>，<code>alt</code>，<code>shift</code>，<code>meta</code></p>
<ul>
<li>配合 keyup 使用时：需再按下其他键，随后释放其他键才能触发</li>
<li>配合 keydown 使用时：正常触发</li>
</ul>
</li>
<li><p>Vue.config.keyCodes.自定义键名=键码</p>
</li>
<li><p>vue 中未提供的按键别名，可使用按键原始名去绑定，注意要转换为 kebab-case（短横线命名）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;tips&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;showhello&quot;</span>&gt;</span>`</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;tips&quot;</span> @<span class="attr">keyup.ctrl.y</span>=<span class="string">&quot;showhello&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h3><p>v-if 与 v-show 的区别：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-show</span>=<span class="string">&quot;false&quot;</span>&gt;</span> test<span class="tag">&lt;/<span class="name">h2</span>&gt;</span> <span class="comment">&lt;!--元素还存在--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;false&quot;</span>&gt;</span> test<span class="tag">&lt;/<span class="name">h2</span>&gt;</span> <span class="comment">&lt;!--元素直接消失,中间不能被打断--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-else-if</span>=<span class="string">&quot;true&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span>&gt;</span>test<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">template</span>&gt;</span> <span class="comment">&lt;!--template不影响结构，但必须和v-if配合使用--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-else</span>&gt;</span> test<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="渲染文本"><a href="#渲染文本" class="headerlink" title="渲染文本"></a>渲染文本</h3><ul>
<li><p><code>v-text</code> 指令,向其所在的节点中渲染文本内容,其会替换掉节点中的内容，<code>&#123;&#123;xxx&#125;&#125;</code>插值语法则不会,可以替换指定内容。</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-text</span>=<span class="string">&quot;keyword&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>v-html</code> 指令,向其所在的节点中渲染文本内容,其会替换掉节点中的内容,且会解析 html 标签，<code>v-text</code>则不会。其具有安全性问题，在网页上动态渲染 html 标签是非常危险的，易导致 XSS 攻击。</p>
</li>
</ul>
<h3 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;#root&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--遍历数组--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;n in persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;n.id&quot;</span> &gt;</span></span><br><span class="line">    &#123;&#123;index&#125;&#125; <span class="comment">&lt;!--索引值--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--遍历对象--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(val,k,index2) of persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index2&quot;</span> &gt;</span></span><br><span class="line">    &#123;&#123;index2&#125;&#125; <span class="comment">&lt;!--索引值--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 除此之外还可以遍历字符串，数字--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> vm=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript"> <span class="attr">persons</span>:[</span></span><br><span class="line"><span class="language-javascript">  &#123;<span class="attr">id</span>:<span class="number">001</span>,<span class="attr">name</span>:<span class="string">&#x27;xiaoMei&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">  &#123;<span class="attr">id</span>:<span class="number">002</span>,<span class="attr">name</span>:<span class="string">&#x27;xiaoHong&#x27;</span>,<span class="attr">age</span>:<span class="number">22</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">  &#123;<span class="attr">id</span>:<span class="number">003</span>,<span class="attr">name</span>:<span class="string">&#x27;xiaoLan&#x27;</span>,<span class="attr">age</span>:<span class="number">12</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">  ]</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>key给节点提供唯一标识<ul>
<li>不写key，则默认用index</li>
<li>虚拟 DOM 中的 key 的作用：key 是虚拟 DOM 对象的标识，当数据发送变化时，vue 会根据新数据生成新的虚拟 DOM，随后 vue 将新的虚拟 DOM 与旧的虚拟 DOM 进行差异比较</li>
<li>对比规则为：<ul>
<li>旧虚拟 DOM 中找到与新虚拟 DOM 相同的 key：<ul>
<li>若虚拟 DOM 中的内容没有改变，则直接使用之前的真实 DOM</li>
<li>若虚拟 DOM 中的内容改变了，则生成新的真实 DOM，随后替换掉页面中之前的真实 DOM</li>
</ul>
</li>
<li>旧虚拟 DOM 中未找到与新虚拟 DOM 相同的 key：创建新的真实 DOM，随后渲染到页面。</li>
</ul>
</li>
<li>index 作为 key 可能发生的问题：对数据进行逆序添加、删除时，会产生没有必要的真实 dom，界面虽然没问题，但效率低。当结构中存在输入类的 DOM 时，界面会出现问题。</li>
</ul>
</li>
</ul>
<h3 id="其他指令"><a href="#其他指令" class="headerlink" title="其他指令"></a>其他指令</h3><ul>
<li><p><code>v-cloak</code>指令，Vue 实例创建完毕并接管容器后，会删除所有 v-cloak 属性，常用于解决网速不好加载 vue 慢而显示问题</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-attr">[v-cloak]</span>&#123;<span class="attribute">display</span>:none;&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-cloak</span>&gt;</span> &#123;&#123;keyword&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>v-once</code>指令，其所在的节点在初次渲染后，就视为静态内容了，以后即使数据变化了，其也不再变化</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-once</span>&gt;</span> &#123;&#123;keyword&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>v-pre</code>指令，跳过其所在节点的编译过程，可用于跳过没有指令语法、插值语法的节点，加快编译速度。</p>
</li>
</ul>
<h3 id="自定义指令"><a href="#自定义指令" class="headerlink" title="自定义指令"></a>自定义指令</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">  <span class="attr">data</span>:&#123;&#125;,</span><br><span class="line">  <span class="attr">directives</span>:&#123;</span><br><span class="line">  <span class="comment">//局部指令</span></span><br><span class="line">  <span class="comment">//指令与元素成功绑定时即一开始就被调用，当指令所在模板被重新解析时会被调用。</span></span><br><span class="line">  <span class="comment">//简写</span></span><br><span class="line">  <span class="title function_">test</span>(<span class="params">element,binding</span>)&#123; <span class="comment">//element,binding为规定写法</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>); <span class="comment">//这里的this为window</span></span><br><span class="line">    element.<span class="property">innerText</span>=bindding.<span class="property">value</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//标准写法</span></span><br><span class="line">  <span class="attr">test2</span>:&#123; <span class="comment">//命名：多个单词用-分割，使用时不用-,后一个首字母改为大写</span></span><br><span class="line">    <span class="title function_">bind</span>(<span class="params">element,binding</span>)&#123;<span class="comment">//指令与元素成功绑定时调用&#125;,</span></span><br><span class="line">    <span class="title function_">inserted</span>(<span class="params">element,binding</span>)&#123;<span class="comment">//指令所在元素插入页面时调用&#125;,</span></span><br><span class="line">    <span class="title function_">update</span>(<span class="params">element,binding</span>)&#123;<span class="comment">//指令所在模板被重新解析时被调用&#125;</span></span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//全局指令</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(指令名，回调函数);</span><br></pre></td></tr></table></figure>

<h2 id="MVVM-模型"><a href="#MVVM-模型" class="headerlink" title="MVVM 模型"></a>MVVM 模型</h2><blockquote>
<p>一种软件架构</p>
</blockquote>
<ul>
<li>M:模型 model:对应 data 中的数据</li>
<li>V：视图 view:模板</li>
<li>VM：视图模型 view model：vue 实例</li>
<li>数据代理</li>
</ul>
<p><code>Object.defineproperty()</code>第一个参数为对象，第二个为对象的属性，第三个为配置项</p>
<p>如添加属性：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">let person&#123;</span><br><span class="line">name:&#x27;xiaomei&#x27;</span><br><span class="line">&#125;</span><br><span class="line">Object.defineproperty(person,&#x27;age&#x27;,&#123;</span><br><span class="line">value:18,</span><br><span class="line">//默认情况下添加的属性不可枚举，即无法遍历出来</span><br><span class="line">enumerable:true  //true表示可以枚举</span><br><span class="line">//默认情况下添加的属性的值无法更改</span><br><span class="line">writable:true //控制属性是否可修改</span><br><span class="line">//默认情况下添加的属性无法删除</span><br><span class="line">configurable: true ////控制属性是否可删除</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//当读取person的age属性时，get函数会被调用，且返回age的值</span><br><span class="line">get:function()&#123;</span><br><span class="line">return &#x27;hello&#x27;</span><br><span class="line">&#125;</span><br><span class="line">//当修改person的age属性时，set函数会被调用</span><br><span class="line">set:function(value)&#123;</span><br><span class="line">age=value;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>通过一个对象对另一个对象中的属性的操作</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">var object=&#123;//原数据</span><br><span class="line">    name:&#x27;xiaomei&#x27;,</span><br><span class="line">    sex:&#x27;female&#x27;,</span><br><span class="line">&#125;</span><br><span class="line">var test=&#123;</span><br><span class="line">    age:3,</span><br><span class="line">    hobby:&#x27;swing&#x27;</span><br><span class="line">&#125;</span><br><span class="line">Object.defineProperty(object,&#x27;age&#x27;,&#123;</span><br><span class="line">//默认情况下添加的属性不可枚举，即无法遍历出来</span><br><span class="line"></span><br><span class="line">get()&#123;</span><br><span class="line"></span><br><span class="line">    console.log(&#x27;getter&#x27;)</span><br><span class="line">    return test.age;  //通过object中的age控制test中的age,即数据代理</span><br><span class="line">&#125;,</span><br><span class="line">set(n)&#123;</span><br><span class="line">console.log(&quot;set&quot;,n)</span><br><span class="line">test.age=n;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>vue 中的数据代理：通过 vm 对象来代理 data 对象中属性的操作</p>
<p>通过 Object.defineProperty()把 data 对象中所有属性添加到 vm 上，为每一个添加到 vm 上的属性，都指定一个 getter/setter 方法,在它们内部去对 data 中的数据进行操作</p>
<h2 id="数据监听"><a href="#数据监听" class="headerlink" title="数据监听"></a>数据监听</h2><p>通过<code>vm._data</code>也可以访问到 data 中的数据,但其是经过加工的,即形成 getter、setter 形式</p>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//###只能监测一层</span><br><span class="line">let data=&#123;name:&#x27;xiaomei&#x27;&#125;</span><br><span class="line">//创建一个监视的实例对象，用于监视data中的属性变化</span><br><span class="line">const obs=new Observer(data);</span><br><span class="line">function Observer(obj)&#123;</span><br><span class="line">//汇总对象中所有的属性形成一个数组</span><br><span class="line">const keys=Object.keys(obj);</span><br><span class="line">//遍历</span><br><span class="line">keys.forEach((k)=&gt;&#123;</span><br><span class="line">Object.defineProperty(this,k,&#123;</span><br><span class="line">get()&#123;</span><br><span class="line">return obj[k];</span><br><span class="line">&#125;,</span><br><span class="line">set(val)&#123;</span><br><span class="line">console.log(&#x27;数据被修改了&#x27;);</span><br><span class="line">obj[k]=val</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>原理：通过 setter 实现监测，且要在 new Vue 时就传入要监测的数据;</p>
<ul>
<li>对象中后追加的属性，vue 默认不做响应式处理；如要给后添加的属性做响应式处理，需要用<code>Vue.set(对象,&#39;添加的属性&#39;,&#39;属性值&#39;)或vm.$set(对象,&#39;添加的属性&#39;,&#39;属性值&#39;)</code></li>
<li>删除属性也会做响应式更新，可使用<code>this.$delete(&#39;属性&#39;)</code>删除</li>
<li>数组更新检测<br>vue 将被侦听的数组的变更方法进行了包裹，所以会触发视图的更新，即先调用原生方法对数组进行修改，接着重新解模板，进行更新页面。被包裹的方法有<code>push()</code>,<code>pop()</code>,<code>shift()</code>,<code>unshift()</code>,<code>splice()</code>,<code>sort()</code>,<code>reverse()</code>.或使用<code>Vue.set(数组,下标,&#39;修改的值&#39;)或vm.$set(数组,下标,&#39;修改的值&#39;)</code></li>
</ul>
<blockquote>
<p>!注意：Vue.set();和 vm.$set()不能给 vm 或 vm 的根数据对象添加属性</p>
</blockquote>
<h2 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h2><p>要用的属性不存在，利用已有属性计算而得来</p>
<p>内部有缓存机制，多次调用时只运行一次，效率更高,但不能开启异步任务如:<code>setTimeout()</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>:<span class="string">&#x27;.box&#x27;</span>,</span><br><span class="line">  <span class="attr">data</span>:&#123;</span><br><span class="line">  <span class="attr">name</span>:<span class="string">&#x27;xiaomei&#x27;</span>,</span><br><span class="line">  <span class="attr">hoby</span>:<span class="string">&#x27;reading&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">computed</span>:&#123;</span><br><span class="line">    <span class="attr">fullName</span>:&#123;</span><br><span class="line">    <span class="comment">//初次读取fullName时，get会被调用;所依赖的数据改变时会调用,即data中的属性被改变时。</span></span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>+<span class="string">&#x27;-&#x27;</span>+<span class="variable language_">this</span>.<span class="property">hoby</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//当fullname被修改时，会被调用</span></span><br><span class="line">    <span class="title function_">set</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    //当数据只读不修改时，可采用简写</span></span><br><span class="line"><span class="comment">    fullName()&#123;</span></span><br><span class="line"><span class="comment">    return this.name+&#x27;-&#x27;+this.hoby;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="监听属性"><a href="#监听属性" class="headerlink" title="监听属性"></a>监听属性</h2><p>能开启异步操作如:<code>setTimeout(()=&gt;&#123;&#125;,1000)</code>;所有不被 vue 所管理的函数最好写成箭头函数，这样 this 的指向才是 vm</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>:<span class="string">&#x27;#test&#x27;</span>,</span><br><span class="line">  <span class="attr">data</span>:&#123;</span><br><span class="line">  <span class="attr">istrue</span>: <span class="literal">false</span></span><br><span class="line">  <span class="attr">number</span>:&#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span>:<span class="number">2</span>&#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>:&#123;&#125;,</span><br><span class="line">  <span class="attr">computed</span>:&#123;&#125;,</span><br><span class="line">  wantch&#123;</span><br><span class="line">   <span class="string">&#x27;istrue&#x27;</span>:&#123;</span><br><span class="line">      <span class="attr">immediate</span>:<span class="literal">true</span>, <span class="comment">///初始化时调用一下handler</span></span><br><span class="line">      <span class="comment">//当istrue发生改变时调用</span></span><br><span class="line">      <span class="title function_">handler</span>(<span class="params">newValue,oldValue</span>)&#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(newValue,oldValue);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//简写，当只有handler()时</span></span><br><span class="line">    <span class="comment">/*istrue(newValue,oldValue)&#123;console.log(&#x27;test&#x27;);&#125;*/</span></span><br><span class="line"></span><br><span class="line">  <span class="string">&#x27;number&#x27;</span>:&#123;</span><br><span class="line">    <span class="attr">deep</span>:<span class="literal">true</span>, <span class="comment">//深度监视，当对象内的属性发生变化时,能检测到多层级内容的改变</span></span><br><span class="line">    <span class="title function_">handler</span>(<span class="params">newValue,oldValue</span>)&#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(newValue,oldValue);</span><br><span class="line">    &#125;&#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="comment">/*//第二种写法</span></span><br><span class="line"><span class="comment">vm.$watch(&#x27;istrue&#x27;,&#123; handler()&#123;&#125; &#125; );</span></span><br><span class="line"><span class="comment">//简写</span></span><br><span class="line"><span class="comment">vm.$watch(&#x27;istrue&#x27;,function()&#123; console.log(&#x27;test&#x27;);&#125;);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h2><p>对要显示的数据进行特定格式化后在显示（常用于一些简单逻辑的处理）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!--使用过滤器--&gt;</span></span></span><br><span class="line"><span class="language-xml">    &#123;&#123;time|timeFormater1()|timeFormater2&#125;&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!--或者v-bind:属性=&quot;xxx|过滤器名&quot;--&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!--过滤器可额外接收参数，多个过滤器可串联，原始数据未改变，产生的是新的数据--&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line">&lt;body&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">time</span>:<span class="number">24356765432</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">computed</span>:&#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//注册过滤器</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">filters</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">timeFormater1</span>(<span class="params">value</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> value; <span class="comment">//返回数据</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">timeFormater2</span>(<span class="params">value</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> value; <span class="comment">//返回数据</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//注册全局过滤器</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&#x27;myName&#x27;</span>,<span class="keyword">function</span>(<span class="params">value</span>)&#123;<span class="keyword">return</span> value;&#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="绑定样式"><a href="#绑定样式" class="headerlink" title="绑定样式"></a>绑定样式</h2><ul>
<li><p>动态指定类名<br><code>&lt;div class=&#39;box&#39; :class=&#39;xxx&#39; &gt;test&lt;/div&gt;</code><br>xxx 可为<code>字符串</code>、数组<code>[&#39;box1&#39;,&#39;box2&#39;]</code>、对象<code>&#123;box1:false,box2:true&#125;</code>。</p>
</li>
<li><p>动态指定内联样式<br><code>&lt;div class=&#39;box&#39;  :style=&quot;xxx&quot; &gt;test&lt;/div&gt;</code><br>xxx 可为<code>字符串</code>、数组<code>[&#123;color:&#39;red&#39;&#125;,&#123;background:&#39;red&#39;&#125;]</code>、对象<code>&#123;color:&#39;red&#39;&#125;</code>。</p>
</li>
</ul>
<h2 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h2><p>又名生命周期回调函数、生命周期函数、生命周期钩子，是 vue 在关键时刻帮我们调用的一些特殊名称的函数，其名字不可更改，其中的 this 指向 vm 或组件实例对象。</p>
<table>
<thead>
<tr>
<th>生命周期</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>初始化：生命周期、事件</td>
<td>但数据代理还未开始</td>
</tr>
<tr>
<td>beforeCreate</td>
<td>无法通过 vm 访问到 data 中的数据、 methods 中的方法</td>
</tr>
<tr>
<td>初始化</td>
<td>数据检测、数据代理</td>
</tr>
<tr>
<td>created</td>
<td>可以通过 vm 可访问到 data 中的数据、methods 中的方法</td>
</tr>
<tr>
<td>解析模板，生成虚拟 DOM，（内存中）</td>
<td>此时页面还不能显示解析好的内容</td>
</tr>
<tr>
<td>beforeMount</td>
<td>页面呈现的是未经 Vue 编译的 DOM 结构，此时所有对 DOM 的操作，最终都不奏效</td>
</tr>
<tr>
<td>创建 vm $el</td>
<td>将内存中的虚拟 DOM 转为真实 DOM 插入页面</td>
</tr>
<tr>
<td>mounted</td>
<td>页面中呈现的是经过 Vue 编译的 DOM，对 DOM 的操作均有效，到此初始化过程结束。一般在此进行开启定时器、发送网络请求、订阅消息、绑定自定义事件等操作</td>
</tr>
<tr>
<td>beforeUpdate</td>
<td>此时数据是新的，但页面是旧的，即页面未与数据保持同步</td>
</tr>
<tr>
<td>根据新的数据，生成新的虚拟 DOM，</td>
<td>随后与旧的虚拟 DOM 进行比较，最终完成页面的更新</td>
</tr>
<tr>
<td>updated</td>
<td>此时数据和页面保持同步</td>
</tr>
<tr>
<td>beforeDestroy</td>
<td>此时 vm 中所有的 data、methods、指令等都处于可用状态，马上要执行销毁过程，一般在此进行关闭定时器、取消订阅消息、解绑自定义事件等操作</td>
</tr>
<tr>
<td>destroyed</td>
<td>销毁 vue 实例后自定义事件会失效，但原生 DOM 事件依然有效</td>
</tr>
</tbody></table>
<h2 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h2><p>实现应用中局部功能代码和资源的集合</p>
<blockquote>
<p>模块：向外提供特定功能的 js 程序</p>
</blockquote>
<ul>
<li>非单文件组件：一个文件中包含有 n 个组件</li>
</ul>
<p>创建 school 组件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//简写</span></span><br><span class="line"><span class="keyword">const</span> school=&#123;&#125;;</span><br><span class="line"><span class="comment">//标准写法</span></span><br><span class="line"><span class="keyword">const</span> school=<span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span><br><span class="line"><span class="comment">//组件定义时，不要写el配置项,最终所有的组件都要进过一个vm的管理</span></span><br><span class="line"><span class="comment">//名字</span></span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xuexiao&#x27;</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用template可以配置组件结果。</span></span><br><span class="line"><span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">&lt;div&gt;</span></span><br><span class="line"><span class="string">&lt;h3&gt;test&lt;/h3&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;`</span>,</span><br><span class="line"></span><br><span class="line"><span class="title function_">data</span>(<span class="params"></span>)&#123; <span class="comment">//data必须写成函数，为避免组件被复用时，数据存在引用关系</span></span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line"> <span class="attr">schoolName</span>:<span class="string">&#x27;BST&#x27;</span>,</span><br><span class="line"> <span class="attr">address</span>:<span class="string">&#x27;beijing&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>定义 app 组件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app=<span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;&#125;);</span><br></pre></td></tr></table></figure>

<p>创建 vm</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line"><span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line"><span class="attr">template</span>:<span class="string">&#x27;&lt;app&gt;&lt;/app&gt;&#x27;</span>,</span><br><span class="line"><span class="comment">//局部注册组件</span></span><br><span class="line"><span class="attr">components</span>:&#123;</span><br><span class="line"> <span class="attr">xuexioa</span>:school,  <span class="comment">//组件名：一个单词通常首字母大小，多个单词通常用-分隔，或首字母大写（需要Vue脚手架支持）</span></span><br><span class="line"> app</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//全局注册组件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;xuexiao&#x27;</span>,school);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./compoents/App.vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> vm =<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line"><span class="attr">components</span>:&#123;<span class="title class_">App</span>&#125;,</span><br><span class="line"><span class="attr">render</span>:<span class="function"><span class="params">h</span>=&gt;</span><span class="title function_">h</span>(<span class="string">&#x27;App&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./compoents/App.vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> vm =<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line"><span class="attr">render</span>:<span class="function"><span class="params">h</span>=&gt;</span><span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>使用组件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xuexiao</span>&gt;</span><span class="tag">&lt;/<span class="name">xuexiao</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">xuexiao</span> /&gt;</span><span class="comment">&lt;!--需要脚手架支持，否则多个组件时，后续组件将不能渲染--&gt;</span></span><br></pre></td></tr></table></figure>

<p>关于 VueComponent，组件本质是一个名为 VueComponent 的构造函数，是由 Vue.extend 生成的。当我们写<code>&lt;xuexiao&gt;&lt;/xuexiao&gt;</code>，Vue 解析时会帮我们创建 school 组件的实例对象，即 vue 帮我们执行<code>new VueComponent();</code>。当我们每次调用 Vue.extend()时,返回的都是一个全新的 VueComponent。在组件配置中，data 函数、methods 中的函数、watch 中的函数等，它们的 this 都指向 VueComponent 实例对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个构造函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Demo</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">a</span>=<span class="number">1</span>;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">b</span>=<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建一个Demo实例对象</span></span><br><span class="line"><span class="keyword">const</span> d=<span class="keyword">new</span> <span class="title class_">Demo</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Demo</span>.<span class="property"><span class="keyword">prototype</span></span>); <span class="comment">//显示原型属性</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(d.<span class="property">__proto__</span>); <span class="comment">//隐式原型属性</span></span><br><span class="line"><span class="comment">//显示原型属性与隐式原型属性都指向原型对象</span></span><br><span class="line"><span class="comment">//通过显示原型属性操作原型对象</span></span><br><span class="line"><span class="title class_">Demo</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">e</span>=<span class="number">21</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>!!重要内置关系：VueComponent.prototype.<strong>proto</strong>===Vue.prototype;其可以让组件实例对象访问到 Vue 原型上的属性和方法。</p>
</blockquote>
<ul>
<li>单文件组件：一个文件中只包含有一个组件<ul>
<li>school.vue 组件</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!--组件的结构--&gt;</span><br><span class="line"> &lt;div class=&quot;demo&quot;&gt;</span><br><span class="line"> &lt;h2&gt;&#123;&#123;schoolName&#125;&#125;&lt;/h2&gt;</span><br><span class="line"> &lt;h2&gt;&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//组件交互的代码</span><br><span class="line"> export default&#123;</span><br><span class="line"> name:&#x27;School&#x27;,</span><br><span class="line"> data()&#123;</span><br><span class="line"> return&#123;</span><br><span class="line">   schoolName:&#x27;daxue&#x27;</span><br><span class="line">   address:&#x27;beijing&#x27;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;,</span><br><span class="line"> methods:&#123;</span><br><span class="line">    showName()&#123;</span><br><span class="line">  alert(this.schoolName);</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/*样式*/</span><br><span class="line">.demoo&#123;</span><br><span class="line">background-color:red;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>App.vue 组件</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;School/&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入组件</span><br><span class="line">import School from &#x27;./School&#x27;</span><br><span class="line"></span><br><span class="line">export default&#123;</span><br><span class="line">name:&#x27;App&#x27;,</span><br><span class="line">components:&#123;School&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>main.js</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line"><span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line"><span class="attr">components</span>:&#123;<span class="title class_">App</span>&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>index.html</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&#x27;utf-8&quot;/&gt;</span></span></span><br><span class="line"><span class="string"><span class="tag"> &lt;title&gt;test&lt;/title&gt;</span></span></span><br><span class="line"><span class="string"><span class="tag">&lt;/head&gt;</span></span></span><br><span class="line"><span class="string"><span class="tag">&lt;body&gt;</span></span></span><br><span class="line"><span class="string"><span class="tag">&lt;div id=&quot;root&quot;&gt;&lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="tag">&lt;script type=&quot;text/javascript&quot; src=&quot;./vue.js&quot;&gt;&lt;/script&gt;</span></span></span><br><span class="line"><span class="string"><span class="tag">&lt;script type=&quot;text/javascript&quot; src=&quot;./main.js&quot;&gt;&lt;/script&gt;</span></span></span><br><span class="line"><span class="string"><span class="tag">&lt;/body&gt;</span></span></span><br><span class="line"><span class="string"><span class="tag">&lt;/html&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="脚手架-vue-cli-command-line-interface"><a href="#脚手架-vue-cli-command-line-interface" class="headerlink" title="脚手架 vue.cli(command line interface)"></a>脚手架 vue.cli(command line interface)</h2><ol>
<li>全局安装@vue/cli:<code>npm install -g @vue/cli</code></li>
<li>切换到要创建项目的目录，然后创建项目：<code>vue create xxxx</code></li>
<li>启动项目：<code>npm run serve</code></li>
</ol>
<blockquote>
<ol>
<li>配置 npm 淘宝镜像：<code>npm config set registry https://....</code></li>
<li>Vue 脚手架隐藏了所有 webpack 相关的配置，若想查看具体 webpack 配置，执行：<code>vue inspect &gt; output.js</code></li>
</ol>
</blockquote>
<ul>
<li>main.js 项目的入口文件</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入vue.runtime.xxx.js，其是运行版的vue,只包含核心功能，没有模板解析器,而完整版的Vue才有。</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//引入App组件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">//关闭生产提示</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span>=<span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建VUe实例对象</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line"><span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line"><span class="comment">//将App组件放入容器中</span></span><br><span class="line"><span class="attr">render</span>:<span class="function"><span class="params">h</span>=&gt;</span><span class="title function_">h</span>(app), <span class="comment">//没有模板解析器，不能使用template配置项，需要使用render函数接收到的createElement函数去指定具体内容</span></span><br><span class="line"><span class="title function_">render</span>(<span class="params">createElement</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">createElement</span>(<span class="string">&#x27;h1&#x27;</span>,<span class="string">&#x27;test&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>vue.config.js 配置</li>
</ul>
<p>使用 vue.config.js 可以对脚手架进行个性化定制</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>=&#123;</span><br><span class="line"> <span class="attr">pages</span>:&#123;</span><br><span class="line">   <span class="attr">index</span>:&#123;</span><br><span class="line">  <span class="comment">//入口</span></span><br><span class="line">  <span class="attr">entry</span>:<span class="string">&#x27;src/main.js&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"> <span class="attr">lintOnSave</span>:<span class="literal">false</span>, <span class="comment">//关闭语法检查</span></span><br><span class="line"> <span class="comment">//代理</span></span><br><span class="line"> <span class="attr">devServer</span>:&#123;</span><br><span class="line">  <span class="attr">proxy</span>:&#123;</span><br><span class="line">   <span class="string">&#x27;/api&#x27;</span>::&#123;</span><br><span class="line">    <span class="attr">target</span>:<span class="string">&#x27;http://xxxx&#x27;</span></span><br><span class="line">    <span class="attr">changeOrigin</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="attr">pathRewrite</span>:&#123;</span><br><span class="line">     <span class="string">&#x27;^/api&#x27;</span>:<span class="string">&#x27;/api&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="attr">configureWebpack</span>:<span class="function">(<span class="params">config</span>)=&gt;</span>&#123;<span class="comment">//地址</span></span><br><span class="line">  config.<span class="property">resolve</span>=&#123;</span><br><span class="line">   <span class="attr">extensions</span>:[<span class="string">&#x27;.js&#x27;</span>,<span class="string">&#x27;.json&#x27;</span>,<span class="string">&#x27;.vue&#x27;</span>],</span><br><span class="line">   <span class="attr">alias</span>:&#123;</span><br><span class="line">    <span class="string">&#x27;@&#x27;</span>:path.<span class="title function_">resolve</span>(__dirname,<span class="string">&#x27;./src&#x27;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>脚手架文件结构</li>
</ul>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">|--node_modules</span><br><span class="line">|--public</span><br><span class="line">|--src</span><br><span class="line">    |--assets:静态资源文件夹</span><br><span class="line">    |--component:存放组件文件夹</span><br><span class="line">    |--App.vue：汇总所有组件</span><br><span class="line">    |--mian.js：入口文件</span><br><span class="line">|--.gitignore: git版本管制忽略的配置</span><br><span class="line">|--babel.config.js</span><br><span class="line">|--package.json: 应用包配置文件</span><br><span class="line">|--package-lock.json: 包版本控制文件</span><br></pre></td></tr></table></figure>

<ul>
<li>ref 属性</li>
</ul>
<p>id 的替代者,用来给元素或组件注册引用信息,应用在 html 标签上获取的是真实 DOM 元素，应用组件标签上获取的是组件的实例对象</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;h1 v-text=&quot;msg&quot; ref=&quot;title&quot;&gt;&lt;/h1&gt;</span><br><span class="line">&lt;button ref=&quot;btn&quot; @click=&quot;showDOM&quot;&gt;outPut_DOM&lt;/button&gt;</span><br><span class="line">&lt;School ref=&quot;sch&quot; /&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import School from &#x27;./component/school&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line"> name:&#x27;App&#x27;,</span><br><span class="line"> components:&#123;School&#125;</span><br><span class="line"> data()&#123;</span><br><span class="line"> return&#123;</span><br><span class="line"> msg:&#x27;hello&#x27;</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;,</span><br><span class="line"> methods:&#123;</span><br><span class="line"> showDOM()&#123;</span><br><span class="line"> console.log(this.$ref.title); //真实DOM元素</span><br><span class="line"> console.log(this.$ref.sch); //School组件的实例对象</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>props 配置项</li>
</ul>
<p>让组件接收外部传来的数据,props 是只读的，Vue 底层会监测(非深度监测)props，若发生修改会发出警告。若要修改数据，请复制一份到 data 中,再修改。</p>
<blockquote>
<p>Vue 使用 props 时父组件给子组件传值后，子组件可用 props 配置项接收，但不要忘了加引号！！！！！！！否则使用它会出现 undefined！<br>v-modle 绑定的值不应是 props 传过来的值，当其为对象类型时，修改对象中的属性时，vue 无法发现<br>props和data的属性重复时，props的优先级更高</p>
</blockquote>
<p>子组件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line"><span class="attr">data</span>:&#123;&#125;,</span><br><span class="line"><span class="comment">//简单声明接收</span></span><br><span class="line"><span class="attr">props</span>:[<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;age&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>]</span><br><span class="line"><span class="comment">//接收的同时对数据进行类型限制</span></span><br><span class="line"><span class="attr">props</span>:&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="title class_">String</span>,</span><br><span class="line"><span class="attr">age</span>:<span class="title class_">Number</span>,</span><br><span class="line"><span class="attr">sex</span>:<span class="title class_">String</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//接收的同时对数据进行类型限制和默认值的指定</span></span><br><span class="line"><span class="attr">props</span>:&#123;</span><br><span class="line"><span class="attr">name</span>:&#123;</span><br><span class="line"> <span class="attr">type</span>:<span class="title class_">String</span>,</span><br><span class="line">   <span class="attr">required</span>:<span class="literal">true</span>, <span class="comment">//name必填</span></span><br><span class="line">  &#125;,</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>父组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line"> &lt;!--传递数据--&gt;</span><br><span class="line"> &lt;Student name=&quot;xiaoMei&quot; sex=&quot;female&quot; :age=&quot;12&quot;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Student from &#x27;./components/Student&#x27;</span><br><span class="line">export default&#123;</span><br><span class="line"> name:&#x27;App&quot;,</span><br><span class="line"> components:&#123;Student&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>props 适用于父组件和子组件的通信，子组件与父组件的通信要求父先给子一个函数，子再通过形参的形式传递数据</p>
</blockquote>
<h2 id="自定义事件"><a href="#自定义事件" class="headerlink" title="自定义事件"></a>自定义事件</h2><p>子组件跟父组件通信可使用 Vue 的自定义事件，父组件通过@xxx=“function(){}”给子组件绑定自定义事件，然后子组件通过$emit 触发事件，第一个参数为触发的事件，第二个为要传递的数据，便可实现子与父的通信。组件中使用原生事件需要<code>native</code>修饰符<br>适用于子组件与父组件通信<br>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- 通过父组件给子组件绑定一个自定义事件：用于子给父传递数据 --&gt;</span><br><span class="line">&lt;Student v-on:test=&quot;getStudentName&quot;/&gt;</span><br><span class="line">&lt;!-- 第二种写法,使用ref--&gt;</span><br><span class="line">&lt;!-- &lt;student ref=&quot;student&quot;/&gt;  --&gt;</span><br><span class="line">&lt;!-- &lt;student ref=&quot;student&quot;  @click.native=&quot;show&quot;/&gt;  组件绑定原生DOM事件，需要使用native修饰符 --&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line">import Student from &#x27;./components/Student&#x27;</span><br><span class="line"></span><br><span class="line">export default&#123;</span><br><span class="line">name:&#x27;App&#x27;, components:&#123;School,Student&#125;</span><br><span class="line">data()&#123;</span><br><span class="line"> return &#123;</span><br><span class="line">    msg: &#x27;test1!!!!!!!!&#x27;</span><br><span class="line"> &#125;&#125;</span><br><span class="line">methods:&#123;</span><br><span class="line"> getStudentName(name)&#123;</span><br><span class="line">  console.log(name);</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;,</span><br><span class="line"> // 第二种写法,使用ref--&gt;</span><br><span class="line"> /*</span><br><span class="line"> mounted()&#123;</span><br><span class="line"> this.$refs.student.$on(&#x27;test&#x27;,this.getStudentName);</span><br><span class="line"> //this.$refs.student.$on(&#x27;test&#x27;,(name,...params)=&gt;&#123;...//要用箭头函数，否则this指向出错&#125;);</span><br><span class="line"> &#125;</span><br><span class="line"> */</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>Student.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;h2&gt;&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;h2&gt;&#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;button @click=&quot;sendStudentName&quot;&gt;test&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;Student&#x27;</span><br><span class="line">data()&#123;</span><br><span class="line">return&#123;</span><br><span class="line">name:&#x27;xiaoHu&#x27;,</span><br><span class="line">sex:&#x27;man&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">sendStudentName()&#123;</span><br><span class="line">//触发student组件实例身上的test(getStudentName)事件;即this.$emit(&#x27;传过来的事件名&#x27;,参数数据）；</span><br><span class="line">this.$emit(&#x27;test&#x27;,this.name,xx,32);</span><br><span class="line">&#125;</span><br><span class="line">unbind()&#123;</span><br><span class="line">//this.$off(&#x27;demo1&#x27;); //解绑一个自定义事件</span><br><span class="line">//this.$off(&#123;&#x27;xx&#x27;,&#x27;xx&#x27;,&#x27;xx&#x27;&#125;); //解绑多个自定义事件</span><br><span class="line">this.$off(); //解绑所有自定义事件</span><br><span class="line">&#125;,</span><br><span class="line">death()&#123;</span><br><span class="line">this.$destroy(); //销毁当前student组件的实例，销毁后所有student实例的自定义事件全部失效</span><br><span class="line">&#125;</span><br><span class="line"> &#125;</span><br><span class="line"> &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="全局事件总线"><a href="#全局事件总线" class="headerlink" title="全局事件总线"></a>全局事件总线</h2><p>适用与任意组件间的通信</p>
<p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line"> el:&#x27;#root&#x27;,</span><br><span class="line"> render:h=&gt;h(App),</span><br><span class="line"> beforeCreate()&#123;</span><br><span class="line">    Vue.prototype.$bus=this //安装全局事件总线</span><br><span class="line"> &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>School.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line"> name:&#x27;school&#x27;,</span><br><span class="line"> data()&#123;</span><br><span class="line"> return&#123;</span><br><span class="line"> name:&#x27;xuexiao&#x27;,</span><br><span class="line"> address:&#x27;biejing&#x27;</span><br><span class="line"> &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"> mounted()&#123;</span><br><span class="line"> //接受数据</span><br><span class="line"> this.$bus.$on(&#x27;hello&#x27;,(data)=&gt;&#123;</span><br><span class="line"> console.log(&#x27;recieve data&#x27;,data);</span><br><span class="line"> &#125;);</span><br><span class="line"> &#125;,</span><br><span class="line"> beforeDestroy()&#123;</span><br><span class="line"> //解绑事件</span><br><span class="line"> this.$bus.$off(&#x27;hello&#x27;)&#125;</span><br><span class="line"> &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>School.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;temlate&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default(&#123;</span><br><span class="line"> name:&#x27;School&#x27;,</span><br><span class="line"> data()&#123;</span><br><span class="line"> return&#123;</span><br><span class="line"> name:&#x27;小米&#x27;,</span><br><span class="line"> sex:&#x27;woman&#x27;,</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;,</span><br><span class="line"> methods:&#123;</span><br><span class="line"> sendStudentName()&#123;</span><br><span class="line"> //提供数据</span><br><span class="line"> this.$bus.$emit(&#x27;hello&#x27;,32)</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;,</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="消息发布和订阅"><a href="#消息发布和订阅" class="headerlink" title="消息发布和订阅"></a>消息发布和订阅</h2><p>适用于任意组件间通信，需要信息的组件订阅消息，提供信息的组件的发布消息</p>
<p>School.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//安装pubsub: npm i pubsub-js</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">export default&#123;</span><br><span class="line"> name:&#x27;School&#x27;,</span><br><span class="line"> data()&#123;</span><br><span class="line"> return&#123;</span><br><span class="line"> name:&#x27;xuexiao&#x27;,</span><br><span class="line"> address:&#x27;beijing&#x27;</span><br><span class="line"> &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"> mounted()&#123;</span><br><span class="line"> //订阅消息，接收数据</span><br><span class="line"> this.pubId=pubsub.subscribe(&#x27;hello&#x27;,function(msgName,data)&#123;</span><br><span class="line"> console.log(&#x27;有人发布hello消息&#x27;,msgName,data);</span><br><span class="line"> console.log(this);</span><br><span class="line">  &#125;)</span><br><span class="line"> &#125;,</span><br><span class="line"> beforeDestroy()&#123;</span><br><span class="line"> pubsub.unsubscribe(this.pubId);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>student.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">export default (&#123;</span><br><span class="line"> name:&#x27;Student&#x27;,</span><br><span class="line"> data()&#123;</span><br><span class="line"> return&#123;</span><br><span class="line"> name:&#x27;xiaomei&#x27;,</span><br><span class="line"> sex:&#x27;woman&#x27;</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;,</span><br><span class="line"> methods:&#123;</span><br><span class="line"> ///提供数据</span><br><span class="line"> sendData()&#123;</span><br><span class="line"> pubsub.publish(&#x27;hello&#x27;,2222);</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;,</span><br><span class="line"> &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>nextTick</li>
</ul>
<p>语法：<code>this.$nextTick(回调函数)</code><br>作用：在下一次 DOM 更新结束后执行其指定的回调,用于当改变数据后，要基于更新后的新 DOM 进行某些操作时，要在 nextTick 所指定的回调函数中执行</p>
<ul>
<li>mixins(混入)配置项</li>
</ul>
<blockquote>
<p>组件之的属性优先级更高，生命周期函数会一起执行<br>可以把多个组件共用的配置提取成一个混入对象<br>school 组件</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;h2 @click=&quot;showName&quot; &gt;&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引用一个test</span><br><span class="line">import&#123;test&#125; from &#x27;../mixin&#x27;</span><br><span class="line">//import&#123;test,test2&#125; from &#x27;../mixn&#x27;</span><br><span class="line"></span><br><span class="line">export default&#123;</span><br><span class="line"> name:&#x27;School&#x27;,</span><br><span class="line"> data()&#123;</span><br><span class="line"> return &#123;name:&#x27;daxue&#x27;&#125;</span><br><span class="line"> &#125;,</span><br><span class="line"> mixins:[test]</span><br><span class="line"> //mixins:[test,test2]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//全局混入</span><br><span class="line">//Vue.mixin(xxx)</span><br><span class="line">//Vue.mixin(xxx2)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>mixin.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//定义混合</span><br><span class="line">export const test=&#123;</span><br><span class="line"> methods:&#123;</span><br><span class="line">  showNamw()&#123;alert(this.name);&#125;</span><br><span class="line">  &#125;,</span><br><span class="line"> mounted()&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">export const test2=&#123;</span><br><span class="line"> data()&#123;</span><br><span class="line"> return&#123;</span><br><span class="line">  x:2,</span><br><span class="line">  y:1</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"> mounted()&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>插件:用于增强 Vue</li>
</ul>
<p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//引入Vue</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">//引入APP</span><br><span class="line">import APP from &#x27;./App.vue&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import plugins from &#x27;./plugins&#x27;</span><br><span class="line"></span><br><span class="line">//使用插件</span><br><span class="line">Vue.use(plugins,33,2);</span><br><span class="line"></span><br><span class="line">//创建VM</span><br><span class="line">new Vue(&#123;</span><br><span class="line"> el:&#x27;#root&#x27;,</span><br><span class="line"> render:h=&gt;h(App)</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure>

<p>plugins.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//定义插件</span><br><span class="line">export default&#123;</span><br><span class="line">install (Vue,x,y)&#123;</span><br><span class="line">console.log(x,y);</span><br><span class="line">//添加全局过滤器</span><br><span class="line">Vue.filter(....)</span><br><span class="line">//添加实例方法</span><br><span class="line">Vue.prototype.$myMethod=function()&#123;..&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>scoped 样式<br>让样式只在本组件内有效，即局部生效，防止冲突。写法：<code>&lt;style scoped&gt;&lt;/style&gt;</code><br>其在标签上加上属性<code>data-v-xxxxx</code>，配合标签属性选择器<code>demo[data-v-xxxxx]</code></li>
</ul>
<blockquote>
<p>组件化编码流程：1.拆分成静态组件。2.实现动态组件。3.实现交互绑定事件</p>
</blockquote>
<ul>
<li>vue 封装的动画与过渡</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;ransition name=&quot;hello&quot; appear&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">/*动画*/</span><br><span class="line">.hello-enter-active&#123;</span><br><span class="line"> animation: test 0.5s linear;</span><br><span class="line">&#125;</span><br><span class="line">.hello-leave-active&#123;</span><br><span class="line"> animation: test 0.3s linear reverse;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes test&#123;&#125;</span><br><span class="line"></span><br><span class="line">/*详细写法</span><br><span class="line">/*进入的起点*/</span><br><span class="line">.hello-enter&#123;</span><br><span class="line"> transform:translateX(-100x);</span><br><span class="line">&#125;</span><br><span class="line">/*进入的终点*/</span><br><span class="line">.hello-enter-to&#123;</span><br><span class="line"> transform:translateX(0px);</span><br><span class="line">&#125;</span><br><span class="line">/**/</span><br><span class="line">.hello-leave&#123;</span><br><span class="line"> transform:translateX(0px);</span><br><span class="line">&#125;</span><br><span class="line">/**/</span><br><span class="line">.hello-leave-to&#123;</span><br><span class="line"> transform:translateX(-100px);</span><br><span class="line">&#125;</span><br><span class="line">*/</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="vue-脚手架配置代理服务"><a href="#vue-脚手架配置代理服务" class="headerlink" title="vue 脚手架配置代理服务"></a>vue 脚手架配置代理服务</h2><p>vue.config.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">module.exports=&#123;</span><br><span class="line"></span><br><span class="line"> pages:&#123;</span><br><span class="line">  index:&#123;</span><br><span class="line">   //入口</span><br><span class="line">  entry:&#x27;src/main.js&#x27;</span><br><span class="line">   &#125;,</span><br><span class="line"> &#125;,</span><br><span class="line">lintOnSave:false, //关闭语法检测</span><br><span class="line">//开启代理服务器（一）:配置简单，但不能配置多个代理</span><br><span class="line">/*</span><br><span class="line">devServer:&#123;</span><br><span class="line"> proxy:&#x27;http://localhost:3333&#x27;</span><br><span class="line">&#125;*/</span><br><span class="line">//开启代理服务器（二）:可以配置多个代理</span><br><span class="line">devServer:&#123;</span><br><span class="line">proxy:&#123;</span><br><span class="line">&#x27;/api&#x27;:&#123; //匹配所有以&#x27;/api&#x27;开头的请求路径</span><br><span class="line">target:&#x27;&lt;url&gt;&#x27;,</span><br><span class="line">ws:true, //用于支持websocket</span><br><span class="line">changeOrigin:true //用于控制请求头中的host值,true时，服务器请求头伪装成localhost：5050，false时为localhost:8080</span><br><span class="line">&#125;,</span><br><span class="line">&#x27;/test&#x27;:&#123;</span><br><span class="line">target:&#x27;&lt;other_url&gt;&#x27;</span><br><span class="line">&#125;,</span><br><span class="line">&#x27;/test2&#x27;&#123;</span><br><span class="line">target:&#x27;http://localhost:5000&#x27;,</span><br><span class="line">pathRewrite:&#123;&#x27;^/test2&#x27;:&#x27;&#x27;&#125;, //清除地址前面的协议域名端口http://localhost:8080</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line"> name:&#x27;App&#x27;,</span><br><span class="line"> methods:&#123;</span><br><span class="line"> getStudents()&#123;</span><br><span class="line"> aixos.get(&#x27;http://localhost:8081/students&#x27;).then(</span><br><span class="line"> response=&gt;&#123;</span><br><span class="line"> console.log(&#x27;请求成功&#x27;,data);</span><br><span class="line"> &#125;,</span><br><span class="line"> error=&gt;&#123;</span><br><span class="line"> console.log(&#x27;请求fail&#x27;,message);</span><br><span class="line"> &#125;);</span><br><span class="line">//aioxs.post(地址,&#123;key:value,key2:value2&#125;).then(function(response)&#123;&#125;,function(error)&#123;&#125;)</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="插槽"><a href="#插槽" class="headerlink" title="插槽"></a>插槽</h2><p>用于父组件与子组件的通信</p>
<p>Category.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;category&quot;&gt;</span><br><span class="line">&lt;h3&gt;&#123;&#123;title&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;!--定义插槽--&gt;</span><br><span class="line">&lt;!-- 默认插槽 --&gt;</span><br><span class="line">&lt;slot &gt;默认 当没有传递具体结构时，会显示&lt;/slot&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 具名插槽 --&gt;</span><br><span class="line">&lt;slot name=&quot;center&quot;&gt;默认 当没有传递具体结构时，会显示&lt;/slot&gt;</span><br><span class="line">&lt;slot name=&quot;footer&quot;&gt;默认 当没有传递具体结构时，会显示&lt;/slot&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 作用域插槽:数据在组件的自身，但根据数据生成的结构需要组件的使用者来决定 --&gt;</span><br><span class="line">&lt;slot :games=&quot;test&quot;  :games2:&#x27;list&#x27;&gt;默认 当没有传递具体结构时，会显示&lt;/slot&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line"> name:&#x27;Category&#x27;,</span><br><span class="line"> data()&#123;</span><br><span class="line"> return &#123;</span><br><span class="line"> test:[&#x27;xxx&#x27;,&#x27;0989&#x27;,&#x27;33&#x27;],</span><br><span class="line"> list:[&#x27;&#x27;,&#x27;&#x27;,&#x27;&#x27;,&#x27;&#x27;]</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;,</span><br><span class="line"> props:[&#x27;listData&#x27;,&#x27;title&#x27;]</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;Category&gt;</span><br><span class="line">&lt;img slot=&quot;center&quot; src=&quot;xxx&quot;&gt;</span><br><span class="line">&lt;a slot=&quot;footer&quot; href=&quot;xxxx&quot;&gt;&lt;/a&gt;</span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">&lt;Category&gt;</span><br><span class="line">&lt;template scope=&quot;test1&quot;&gt;</span><br><span class="line">&lt;h1&gt;&#123;&#123;test1.games&#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;&#123;&#123;test1.games2&#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a>vuex</h2><p>专门在 vue 中实现集中式状态（数据）管理的一个 vue 插件,对 vue 应用中多个组件的共享状态进行集中式的管理（读与写），也是一种组件间通信的方式，适用于任意组件间的通信。</p>
<p>使用时机：多个组件需要共享数据时</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/fJo8ZF"><img src="https://z3.ax1x.com/2021/08/10/fJo8ZF.png" alt="fJo8ZF.png"></a></p>
<h3 id="store"><a href="#store" class="headerlink" title="store"></a>store</h3><p>创建文件：src/store/index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//使用vuex插件</span><br><span class="line">Vue.use(Vuex);</span><br><span class="line"></span><br><span class="line">//action--用于响应组件中的动作</span><br><span class="line">const actions=&#123;&#125;</span><br><span class="line">//mutations--用于操作数据state</span><br><span class="line">const mutations=&#123;&#125;</span><br><span class="line">//state--用于储存数据</span><br><span class="line">const state=&#123;&#125;</span><br><span class="line"></span><br><span class="line">//创建store</span><br><span class="line">const store =new Vuex.Store(&#123;</span><br><span class="line">actions,</span><br><span class="line">mutatuons,</span><br><span class="line">state,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//暴露store</span><br><span class="line">expore default store</span><br></pre></td></tr></table></figure>

<p>在 main.js 中创建 vm 时传入 store 配置项</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import Vue form &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;/App.vue&#x27;</span><br><span class="line">//引用插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">import Vuex form &#x27;vuex&#x27;</span><br><span class="line">import store form  &#x27;./store&#x27;</span><br><span class="line"></span><br><span class="line">//使用插件</span><br><span class="line">Vue.use(vueResource);</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">el:&#x27;#app&#x27;,</span><br><span class="line">render:h=&gt;h(App),</span><br><span class="line">store,</span><br><span class="line">beforeCreate()&#123;</span><br><span class="line">Vue.prototype.$bus=this</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h4><p>初始化数据、配置 actions、mutations，操作文件 store.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import Vuex form &#x27;vuex&#x27;</span><br><span class="line">Vue.use (Vuex);</span><br><span class="line"></span><br><span class="line">const actions=&#123;</span><br><span class="line">//响应组件中的动组</span><br><span class="line">jia:function(context,value)&#123;</span><br><span class="line"> //context里中存放着一些方法</span><br><span class="line">context.commit(&#x27;JIA&#x27;,value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const mutations=&#123;</span><br><span class="line">//执行jia</span><br><span class="line">JIA:function(state,value)&#123;</span><br><span class="line">state.sum+=value;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//初始化数据</span><br><span class="line">const state=&#123;sum=0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.store(&#123;</span><br><span class="line">actions:actions,</span><br><span class="line">mutations,</span><br><span class="line">state,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>组件中读取 vuex 中的数据：<code>$store.state.sum</code><br>组件中修改 vuex 中的数据：<code>$store.dispatch(&#39;actions中的方法名&#39;,数据)</code>或<code>$store.commit(&#39;mutatuins中的方法名&#39;,数据)</code></p>
<blockquote>
<p>若没有网络请求或其他业务逻辑，组件中也可以越过 actions，即不写 dispatch,直接编写 commit</p>
</blockquote>
<h4 id="四个-map-方法的使用"><a href="#四个-map-方法的使用" class="headerlink" title="四个 map 方法的使用"></a>四个 map 方法的使用</h4><ul>
<li>mapState:用于帮助我们映射 state 中的数据为计算属性</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">computed:&#123;</span><br><span class="line">//借助mapState生成计算属性，对象写法</span><br><span class="line">...mapState(&#123;sum:&#x27;sum&#x27;,school:&#x27;shchool&#x27;,subject:&#x27;subject&#x27;&#125;);</span><br><span class="line">//借助mapState生成计算属性，对象写法</span><br><span class="line">...mapState([&#x27;sum&#x27;,&#x27;shchool&#x27;,&#x27;subject&#x27;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>mapGetters: 帮助我们映射 getters 中的数据为计算属性</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">computed:&#123;</span><br><span class="line">...mapGetters(&#123;b:&#x27;b&#x27;&#125;);</span><br><span class="line">...mapGetters([&#x27;b&#x27;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>mapActions 方法：帮助我们生成与 action 对法的方法，即包含<code>$store.dispatch(xxx)</code>的函数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">...mapActions(&#123;inicrementOdd:&#x27;jiaOdd&#x27;,incrementWait:&#x27;jiaWait&#x27;&#125;)</span><br><span class="line">...mapActions([&#x27;jiaOdd&#x27;,&#x27;jiaWait&#x27;])</span><br></pre></td></tr></table></figure>

<ul>
<li>mapMutations 方法：用于帮助我们生成与 mutations 对话的方法，即：包含$store.commit(xxx)的函数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">...mapMutations(&#123;increment:&#x27;JIA&#x27;,decrement:&#x27;JIAN&#x27;&#125;)</span><br><span class="line">...mapMutations([&#x27;JIA&#x27;,&#x27;JIAN&#x27;])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>mapActions 与 mapMutations 使用时，若需要传递参数需要在模板中绑定事件时传递好参数，否则参数是事件对象</p>
</blockquote>
<h3 id="store-1"><a href="#store-1" class="headerlink" title="store"></a>store</h3><p>index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">//创建store</span><br><span class="line">import vue from &#x27;vue&#x27;</span><br><span class="line">import vuex from &#x27;vuex&#x27;</span><br><span class="line">//应用vuex插件</span><br><span class="line">Vue.use(vuex);</span><br><span class="line"></span><br><span class="line">const test=&#123;</span><br><span class="line">//namespaced:true,</span><br><span class="line">action:&#123;&#125;,</span><br><span class="line">mutations:&#123;&#125;,</span><br><span class="line">state:&#123;&#125;,</span><br><span class="line">getters:&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">//store：actions、mutations、state、getters</span><br><span class="line"></span><br><span class="line">//创建暴露store</span><br><span class="line">export default new Vuex.store&#123;</span><br><span class="line"> modules:&#123;</span><br><span class="line"> a:test,</span><br><span class="line"> b:xxx</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>test.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">,,,</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;mapState,mapGetters,mapMutations,mapActions &#125; form &#x27;vuex&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;test&#x27;</span><br><span class="line">data()&#123;&#125;,</span><br><span class="line">computed:&#123;</span><br><span class="line">personList()&#123;</span><br><span class="line"> return this.$store.state.personAbout</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="模块化-命名空间"><a href="#模块化-命名空间" class="headerlink" title="模块化+命名空间"></a>模块化+命名空间</h3><p>为了让代码更好维护，让多种数据分类更加明确</p>
<p>修改 store.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">const countAbout=&#123;</span><br><span class="line">namespaced:true, //开启命名空间</span><br><span class="line">state:&#123;x:1&#125;,</span><br><span class="line">mutatuions:&#123;.........&#125;,</span><br><span class="line">actions:&#123;..&#125;,</span><br><span class="line">getters:&#123;</span><br><span class="line"></span><br><span class="line">bigSum(state)&#123;</span><br><span class="line"> return state.sum+1;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const personAbout=&#123;</span><br><span class="line">namespaced:true,</span><br><span class="line">state:&#123;..&#125;,</span><br><span class="line">mutations:&#123;&#125;,</span><br><span class="line">actions:&#123;&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const store=new Vuex.Store(&#123;</span><br><span class="line">modules:&#123;</span><br><span class="line">countAbout,</span><br><span class="line">personAbout</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>开启命名空间后，组件读取 state 数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.$store.state.personAbout.list</span><br><span class="line">//借助mapState读取</span><br><span class="line">...mapState(&#x27;countAbout&#x27;,[&#x27;sum,&#x27;school&#x27;,&#x27;subject&#x27;]);</span><br></pre></td></tr></table></figure>

<p>开启命名空间后，组件读取 getters 数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.$store.getters(&#x27;personAbout/firstPersonName&#x27;)</span><br><span class="line">//借助mapGetters读取</span><br><span class="line">...mapGetters(&#x27;countAbout&#x27;,[&#x27;bigSum&#x27;]);</span><br></pre></td></tr></table></figure>

<p>开启命名空间后，组件读取 dispatch 数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.$store.dispatch(&#x27;personAbout/addPersonWang&#x27;person`)</span><br><span class="line">//借助mapActions读取</span><br><span class="line">...mapActions(&#x27;countAbout&#x27;,&#123;incrementOdd:&#x27;jiaOdd&#x27;,incrementWait:&#x27;jiaWait&#x27;&#125;);</span><br></pre></td></tr></table></figure>

<p>开启命名空间后，组件读取 commit 数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">this.$store.commit(&#x27;personAbout/ADD_PERSON&#x27;,person)</span><br><span class="line">...mapMutations(&#x27;countAbout&#x27;,&#123;increment:&quot;JIA&quot;,decrement:&quot;JIAN&quot;&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><p>路由就是一组映射（key-value）的对应关系,key 为路径，value 是 function 或 Component</p>
<ul>
<li>后端路由:value 是 function,用于处理客户端提交的请求，即服务端根据请求路径找到匹配的函数处理数据后，返回响应数据</li>
</ul>
<blockquote>
<p>路由组件一般放在 pages 文件夹，一般组件则放在 Component 文件夹；通过切换，隐藏了的路由组件，默认是被销毁的，需要的时候在去挂载；每个组件都有$route属性，里面存储着自己的路由信息<br>；整个应用只有一个route，可通过组件的$router 属性获取到。</p>
</blockquote>
<h4 id="vue-router：vue-的一个插件库，用来实现-SPA-应用（单个-web-应用，整个页面只有一个完整页面，只会做页面的局部更新，数据需要通过-ajax-请求获取）"><a href="#vue-router：vue-的一个插件库，用来实现-SPA-应用（单个-web-应用，整个页面只有一个完整页面，只会做页面的局部更新，数据需要通过-ajax-请求获取）" class="headerlink" title="vue-router：vue 的一个插件库，用来实现 SPA 应用（单个 web 应用，整个页面只有一个完整页面，只会做页面的局部更新，数据需要通过 ajax 请求获取）"></a>vue-router：vue 的一个插件库，用来实现 SPA 应用（单个 web 应用，整个页面只有一个完整页面，只会做页面的局部更新，数据需要通过 ajax 请求获取）</h4><p>src/router/index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">//引入路由</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About form &#x27;../components/About.vue&#x27;</span><br><span class="line">import Home form &#x27;../components/Home.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建并暴露一个路由器</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line"></span><br><span class="line">routes:[</span><br><span class="line">&#123;path:&quot;/about&quot;,</span><br><span class="line">component:About</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">path:&quot;/home&quot;</span><br><span class="line">component:Home</span><br><span class="line">children:[ //多级路由</span><br><span class="line">&#123;</span><br><span class="line">path:&#x27;news&#x27;, //不能写‘/news’</span><br><span class="line">component:News,</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//引入Vue</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">//引入APP</span><br><span class="line">import App form &#x27;./App.vue&#x27;</span><br><span class="line">//引入VueRouter</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入路由器</span><br><span class="line">import router form &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">//应用插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"></span><br><span class="line">//创建vm</span><br><span class="line">new Vue(&#123;</span><br><span class="line">el:&quot;#app&quot;,</span><br><span class="line">render:h=&gt;h(App),</span><br><span class="line">router:router</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>index.js 跳转</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!--用route-link代替a标签去跳转--&gt;</span><br><span class="line">&lt;!--active-class属性：该元素激活时触发样式，可配置高亮样式--&gt;</span><br><span class="line">&lt;router-link  class=&quot;&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">&lt;router-link  class=&quot;&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">&lt;router-link  class=&quot;&quot; to=&quot;/home/news&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">&lt;!--跳转路由并携带query参数（字符串写法）--&gt;</span><br><span class="line">&lt;router-link  class=&quot;&quot; to=&quot;/home/news?id=xxx&amp;titel=xxx&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">&lt;!--跳转路由并携带query参数（对象写法）--&gt;</span><br><span class="line">&lt;router-link  class=&quot;&quot; to=&quot;</span><br><span class="line">&#123;path:&#x27;/home/news&#x27;,</span><br><span class="line">query:&#123;id:xxx,titel:xxx&#125;</span><br><span class="line">&#125;&quot;&gt;&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;router-view&gt;&lt;/route-view&gt; &lt;!--指定组件呈现的位置--&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>接收 query 参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$route.query.id</span><br></pre></td></tr></table></figure>

<h4 id="命名路由"><a href="#命名路由" class="headerlink" title="命名路由"></a>命名路由</h4><p>简化路由跳转</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">path:&#x27;/demo&#x27;,</span><br><span class="line">component:Demo,</span><br><span class="line">children:[</span><br><span class="line">&#123;</span><br><span class="line"> path:&#x27;test&#x27;</span><br><span class="line"> component:Test,</span><br><span class="line"> chilren:[</span><br><span class="line">  &#123;</span><br><span class="line">  name:&#x27;hello&#x27; //给路由命名</span><br><span class="line">  path:&#x27;welcome&#x27;,</span><br><span class="line">  component:Hello</span><br><span class="line">  &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">name:weather</span><br><span class="line">path:&#x27;weather/:id/:title&#x27;, //使用占位符声明接收params参数</span><br><span class="line">component:Weather</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>跳转</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link :to=&quot;name:hello&quot;&gt;test&lt;/router-link&gt;</span><br><span class="line">&lt;router-link :to=&quot;</span><br><span class="line">&#123;</span><br><span class="line">name:hello,</span><br><span class="line">query:&#123;id:xxx,title:xxx&#125;</span><br><span class="line">&#125;&quot;&gt;test&lt;/router-link&gt;</span><br><span class="line">&lt;!--跳转路由并携带params参数（字符串写法）--&gt;</span><br><span class="line">&lt;router-link  class=&quot;&quot; to=&quot;/home/news/id/title&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">&lt;!--跳转路由并携带params参数（对象写法）--&gt;</span><br><span class="line">&lt;router-link  class=&quot;&quot; to=&quot;</span><br><span class="line">&#123;name:&#x27;weather&#x27;,</span><br><span class="line">params:&#123;id:xxx,titel:xxx&#125;</span><br><span class="line">&#125;&quot;&gt;&lt;/router-link&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>携带 params 参数时，若使用 to 的对象写法，则不能使用 path 配置项，必须用 name 配置下</p>
</blockquote>
<p>接收 params 参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$route.params.id</span><br></pre></td></tr></table></figure>

<h3 id="路由的-props-配置"><a href="#路由的-props-配置" class="headerlink" title="路由的 props 配置"></a>路由的 props 配置</h3><p>index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">export default new VueRouter(&#123;</span><br><span class="line"></span><br><span class="line">routes:[</span><br><span class="line">&#123;</span><br><span class="line">path:&#x27;/home&#x27;,</span><br><span class="line">component:Home,</span><br><span class="line">children:[</span><br><span class="line">&#123;</span><br><span class="line">name:&#x27;test&#x27;,</span><br><span class="line">path:&#x27;detail/:id/:title&#x27;,</span><br><span class="line">compomemt:Detail,</span><br><span class="line">//props的第一种写法，值为对象，该对象中的所有key-value都会以props的形式传给Detail组件</span><br><span class="line">props:&#123;a:1,b:&#x27;hello&#x27;&#125;</span><br><span class="line">//props的第二种写法，值为布尔值，若布尔值为真，就会把该路由组件收到的所有params参数，以props的形式传给detail组件。只能传params参数</span><br><span class="line">props：true</span><br><span class="line">//props的第三种写法，值为函数,该函数返回的对象中每一组key-value都会通过props传给Detail组件</span><br><span class="line">props($route)&#123;</span><br><span class="line">return &#123;id:$route.query.id,title:$route.query.title&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>Detail.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line"> &lt;li&gt;&lt;/li&gt;</span><br><span class="line"> &lt;li&gt;&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">name:&#x27;Detail&#x27;,</span><br><span class="line">props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">computed:&#123;xxx&#125;,</span><br><span class="line">mounted()&#123;xxx&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><router-link>的 replace 属性<ul>
<li>作用：控制路由跳转时操作的浏览器历史记录的模式</li>
<li>历史记录的写入方式：<code>push</code>追加历史记录，<code>replace</code>替换当前记录；路由跳转时默认为<code>push</code></li>
<li><router-link replace >test</router-link></li>
</ul>
</li>
</ul>
<p>message.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">name:&#x27;massage&#x27;,</span><br><span class="line">data()&#123;&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">pushShow(m)&#123;</span><br><span class="line">this.$router.push(&#123;</span><br><span class="line"></span><br><span class="line"> name:&#x27;test&#x27;,</span><br><span class="line"> query:&#123;</span><br><span class="line">  id:m.id,</span><br><span class="line">  title:m.title</span><br><span class="line"> &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Banner.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;</span><br><span class="line"> methods:&#123;</span><br><span class="line"> back()&#123;this.$router.back()&#125;,</span><br><span class="line"> forward()&#123;this.$router.forward()&#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="编程式路由导航"><a href="#编程式路由导航" class="headerlink" title="编程式路由导航"></a>编程式路由导航</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">this.$router.push(&#123;</span><br><span class="line"> name:&#x27;test&#x27;,</span><br><span class="line"> params:&#123;id:xxx,title:xxx&#125;</span><br><span class="line"> &#125;)</span><br><span class="line"></span><br><span class="line">this.$router.replace(&#123;</span><br><span class="line"> name:&#x27;test&#x27;,</span><br><span class="line"> params:&#123;id:xxx,title:xxx&#125;</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>

<h3 id="缓存路由组件"><a href="#缓存路由组件" class="headerlink" title="缓存路由组件"></a>缓存路由组件</h3><p>让不展示的路由组件保持挂载，不被销毁</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive include=&quot;News&quot;&gt;</span><br><span class="line">&lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure>

<p>home.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line"> &lt;ul&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">   &lt;router-link to=&quot;/home/new&quot;&gt;news&lt;/router-link&gt;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">   &lt;router-link to=&quot;/home/message&quot;&gt;message&lt;/router-link&gt;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line"> &lt;/ul&gt;</span><br><span class="line">&lt;!--缓存多个路由组件--&gt;</span><br><span class="line">&lt;!-- &lt;keep-alive :include=&quot;[&#x27;&#x27;,&#x27;&#x27;]&quot;&gt;--&gt;</span><br><span class="line">&lt;!--缓存一个路由组价--&gt;</span><br><span class="line">&lt;keep-alive include=&quot;News&quot;&gt;</span><br><span class="line"> &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line"> name:&#x27;Home&#x27;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>New.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"> export default&#123;</span><br><span class="line"> name:&#x27;News&#x27;,</span><br><span class="line"> data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">  opacity:1</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"> //路由组件所独有的两个钩子，用于捕获路由组件的激活状态</span><br><span class="line"> activated()&#123;console.log(&#x27;News组件被激活了&#x27;)&#125;</span><br><span class="line"> deactivated()&#123;console.log(&#x27;News组件失活了&#x27;)&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="路由守卫"><a href="#路由守卫" class="headerlink" title="路由守卫"></a>路由守卫</h3><p>对路由进行权限控制</p>
<ul>
<li>全局守卫</li>
</ul>
<p>index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">const router=new VueRounter(&#123;</span><br><span class="line"> routes:[</span><br><span class="line">  &#123;</span><br><span class="line">  name:&#x27;test&#x27;,</span><br><span class="line">  path:&#x27;/about&#x27;,</span><br><span class="line">  component:About</span><br><span class="line">  meta:&#123;isAuth:true,title:&#x27;新闻&#x27;&#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"> ]</span><br><span class="line">//全局前置路由守卫---初始化时被调用，每次路由切换之前被调用</span><br><span class="line">router.beforeEach((to,from,next)=&gt;&#123;</span><br><span class="line">if(to.meta.isAuth)&#123;//判断当前路由是否需要进行权限控制</span><br><span class="line"> if(localStorage.getItem(&#x27;shool&#x27;)===&#x27;test&#x27;)&#123;next();&#125;</span><br><span class="line"> else&#123;alert(&#x27;学校名不对&#x27;)&#125;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">next(); //放行</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//全局前置路由守卫---初始化时被调用，每次路由切换之后被调用</span><br><span class="line">router.afterEach((to,from,next)=&gt;&#123;</span><br><span class="line">console.log(&#x27;后置路由守卫&#x27;);</span><br><span class="line">dovument.title=to.meta.title||&#x27;testTitle&#x27;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">export default router;</span><br></pre></td></tr></table></figure>

<ul>
<li>独享守卫</li>
</ul>
<p>index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">name:&#x27;news&#x27;,</span><br><span class="line">path:&#x27;news&#x27;,</span><br><span class="line">component:News,</span><br><span class="line">meta:&#123;isAuth:true,title:&#x27;新闻&#x27;&#125;,</span><br><span class="line">beforeEnter:(to,from,next)=&gt;&#123;</span><br><span class="line">if(to.meta.isAuth)&#123;//判断当前路由是否需要进行权限控制</span><br><span class="line"> if(localStorage.getItem(&#x27;shool&#x27;)===&#x27;test&#x27;)&#123;next();&#125;</span><br><span class="line"> else&#123;alert(&#x27;学校名不对&#x27;)&#125;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">next(); //放行</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>组件内守卫</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//进入守卫：进入该组件时被调用</span><br><span class="line">beforeRouteEnter(to,from,next)&#123;&#125;,</span><br><span class="line">//离开守卫：离开该组件时被调用</span><br><span class="line">beforeRouteLeave(to,from,next)&#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="路由器工作模式"><a href="#路由器工作模式" class="headerlink" title="路由器工作模式"></a>路由器工作模式</h3><p>对于一个 url 来说<code>#</code>及其后的内容就是 hash 值;hash 值不会包含在 http 请求中，即 hash 值不会带给服务器。</p>
<ul>
<li>hash 模式:</li>
</ul>
<p>地址中永远带着#号，不美观；通过第三方手机 app 分享时可能会标记为不合法；但其兼容性好；</p>
<ul>
<li>history 模式:</li>
</ul>
<p>地址干净，兼容比 hash 略差，应用部署上线时需要后端人员支持，解决刷新页面服务端 404 的问题；</p>
<h2 id="Vue-UI-组件库"><a href="#Vue-UI-组件库" class="headerlink" title="Vue UI 组件库"></a>Vue UI 组件库</h2><p>移动端：<code>Vant</code>,<code>Cube UI</code>,<code>Mint UI</code></p>
<p>PC 端：<code>Element UI</code>, <code>IView UI</code></p>
<p>main.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">//引入ElementUI组件库</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ElementUI</span> <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"><span class="comment">//引入ElementUI全部样式</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">ues</span>(<span class="title class_">ElementUI</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line"> <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span></span><br><span class="line"> <span class="attr">render</span>:<span class="function"><span class="params">h</span>=&gt;</span><span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>balel.config.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>=&#123;</span><br><span class="line"><span class="attr">presets</span>:[</span><br><span class="line"> <span class="string">&#x27;@vue/cli-plugin-babel/preset&#x27;</span>,</span><br><span class="line"> [<span class="string">&quot;@babel/present-env&quot;</span>,&#123;<span class="string">&quot;modules&quot;</span>:<span class="literal">false</span>&#125;],</span><br><span class="line">],</span><br><span class="line"><span class="attr">plugins</span>:[</span><br><span class="line">[</span><br><span class="line"> <span class="string">&quot;component&quot;</span>,</span><br><span class="line"> &#123;</span><br><span class="line"> <span class="string">&quot;libraryName&quot;</span>:<span class="string">&#x27;element-ui&#x27;</span>,</span><br><span class="line"> <span class="string">&quot;styleLibraryName&quot;</span>:<span class="string">&quot;theme-chalk&quot;</span></span><br><span class="line"> &#125;</span><br><span class="line">]</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="vue-刷新当前页面"><a href="#vue-刷新当前页面" class="headerlink" title="vue 刷新当前页面"></a>vue 刷新当前页面</h3><p>用 vue-router 重新路由到当前页面，页面是不进行刷新的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//###ctrl+F5刷新</span></span><br><span class="line">location.<span class="title function_">reload</span>()；</span><br><span class="line"><span class="comment">//或</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">router</span>.<span class="title function_">go</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//局部刷新</span></span><br><span class="line"><span class="number">1.</span> 跳转到一个空白页，再跳转回来</span><br><span class="line"><span class="number">2.</span> v-<span class="keyword">if</span>控制router-view的存亡来实现刷新</span><br></pre></td></tr></table></figure>

<h3 id="VUE-实现-checkbox-的勾选"><a href="#VUE-实现-checkbox-的勾选" class="headerlink" title="VUE 实现 checkbox 的勾选"></a>VUE 实现 checkbox 的勾选</h3><p>给选择按钮绑定 v-mode 变量，值为 true 时就是选中状态，绑定点击事件，执行勾选操作</p>
<h3 id="自定义-checkbox-样式"><a href="#自定义-checkbox-样式" class="headerlink" title="自定义 checkbox 样式"></a>自定义 checkbox 样式</h3><p>通过 label 标签将 input 包裹住，通过 label for 绑定 input id，<br>将 input 设置 opacity: 0;不可见，再通过给设置 lable 标签或其中 div 来设置 checkbox 的默认样式及选中状态样式</p>
<h3 id="特殊符号（Unicode）"><a href="#特殊符号（Unicode）" class="headerlink" title="特殊符号（Unicode）"></a>特殊符号（Unicode）</h3><p><code>https://www.cnblogs.com/Whikiey/archive/2011/01/05/1926220.html</code></p>
<h3 id="vue-中native修饰符只对组件有效"><a href="#vue-中native修饰符只对组件有效" class="headerlink" title="vue 中native修饰符只对组件有效"></a>vue 中<code>native</code>修饰符只对组件有效</h3><h3 id="v-model-双向绑定-computed-属性，-若不同时加-get-和-set-则报错"><a href="#v-model-双向绑定-computed-属性，-若不同时加-get-和-set-则报错" class="headerlink" title="v-model 双向绑定 computed 属性， 若不同时加 get 和 set 则报错"></a>v-model 双向绑定 computed 属性， 若不同时加 get 和 set 则报错</h3><h3 id="当一层-flex-布局的时候，设置子元素的-width-100-就没有问题"><a href="#当一层-flex-布局的时候，设置子元素的-width-100-就没有问题" class="headerlink" title="当一层 flex 布局的时候，设置子元素的 width:100%就没有问题"></a>当一层 flex 布局的时候，设置子元素的 width:100%就没有问题</h3><p>当页面中多层 flex 布局嵌套的时候，设置其中子元素的 width：100%会不起作用。可把元素设置为绝对定位来解决该问题。</p>
<h3 id="动态修改样式"><a href="#动态修改样式" class="headerlink" title="动态修改样式"></a>动态修改样式</h3><p>可通过 v-bind 绑定 style+配合模板字符串或者<code>&lt;h2 :style=&quot;&#123;key(属性名):value(属性值)&#125;&quot;&gt;</code>或者<code>&lt;h2 :style=&quot;&#39;key(属性名):&#39;+value(值)+&#39;px&#39;&quot;&gt;</code>来实现。</p>
<h2 id="webStorage"><a href="#webStorage" class="headerlink" title="webStorage"></a>webStorage</h2><p>存储内容大小一般支持 5MB 左右<br>浏览器端通过 Window.sessionStorage 和 Window.localStorage 属性来实现本地存储。<br>相关 api：</p>
<ol>
<li>xxxxStorage.setItem(‘key’,’value’);接受一个键和值作为参数，把键值添加到存储中，若存在则更新。</li>
<li>xxxxStorage.getItem(‘person’);接受一个键名作为参数,返回键名对应的值。</li>
<li>xxxStorage.removeItem(‘key);接受一个键名作为参数,删除键名和其对应的值。</li>
<li>xxxStorage.clear();清空存储中的所有数据。</li>
</ol>
<p>注意：1.SessionStorage 存储内容会随浏览器窗口的关闭而消失；2.LocalStorage 存储的内容，需手动清除才会消失。3.xxxxx.Storage.getItem(xx);若 xx 对应的值获取不到则返回 null；4.JSON.parse(null)的结果依然是 null。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.baidu.com/2021/05/22/21-23-11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/22/21-23-11/" class="post-title-link" itemprop="url">JavaScript语法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-22 21:23:11" itemprop="dateCreated datePublished" datetime="2021-05-22T21:23:11+08:00">2021-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-05-14 12:06:33" itemprop="dateModified" datetime="2023-05-14T12:06:33+08:00">2023-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index"><span itemprop="name">web</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><p>运行在客户端的脚本语言；不需要编译，运行过程中由js引擎逐行解释并执行,也可以用于后端node.js技术<br>浏览器引擎：<br>渲染引擎：内核<br>js引擎：js解释器</p>
<ul>
<li>面向对象编程</li>
</ul>
<p>类：一类具有相同特征事物的抽象概念;<br>对象：具体的某一个个体，具有唯一性的实例；</p>
<p>编程思想：</p>
<ol>
<li>分析有哪些实体</li>
<li>设计实体的属性和功能</li>
<li>实体间的相互作用</li>
</ol>
<ul>
<li>书写位置<ol>
<li>行内式：<code>&lt;input type=&quot;botton&quot; onclick=&quot;alert(&#39;hello!!&#39;) /&gt;</code>Html推荐双引号，js推荐单引号</li>
</ol>
</li>
</ul>
<blockquote>
<p>注释：外部脚本不能包含 <code>&lt;script&gt;</code> 标签。<br>优势：分离了 HTML 和代码,使 HTML 和 JavaScript 更易于阅读和维护,已缓存的 JavaScript 文件可加速页面加载<br>可通过完整的 URL 或相对于当前网页的路径引用外部脚本：<code>&lt;script src=&quot;www.xxx.com/..&quot;&gt;&lt;script&gt;</code></p>
</blockquote>
<ol start="2">
<li>外部链接：<code>&lt;script src=&quot;xxx.js&quot;&gt;&lt;/script&gt;</code>,标签中间不能写代码，会忽略</li>
<li>内联式：<code>&lt;script&gt;alert(&#39;hello&#39;)&lt;/script&gt;</code></li>
</ol>
<blockquote>
<p>js脚本可被放置与 HTML 页面的 <code>&lt;body&gt;</code> 或<code>&lt;head&gt;</code> 部分中，或兼而有之。<br>提示：把脚本置于<code>&lt;body&gt;</code> 元素的底部，可改善显示速度，因为脚本编译会拖慢显示。<br>注释：旧的 JavaScript 例子也许会使用 type 属性：<code>&lt;script type=&quot;text/javascript&quot;&gt;</code>。<br>注释：type 属性不是必需的。JavaScript 是 HTML 中的默认脚本语言。</p>
</blockquote>
<h3 id="输入输出语句"><a href="#输入输出语句" class="headerlink" title="输入输出语句"></a>输入输出语句</h3><ul>
<li>alert(msg):浏览器弹窗提示</li>
<li>console.log(msg):控制台打印信息</li>
<li>innerHTML:写入HTML元素</li>
</ul>
<blockquote>
<p>innerHTML 和 outerHTML 的区别：1）innerHTML:从对象的起始位置到终止位置的全部内容, 不包括HTML标签。2）outerHTML:除了包含innerHTML的全部内容外, 还包含对象标签本身。<br>如需访问 HTML 元素，JavaScript 可使用 document.getElementById(id) 方法。如：<code>document.getElementById(&quot;demo&quot;).innerHTML = 5 + 6;</code></p>
</blockquote>
<ul>
<li>document.write()：写入HTML输出</li>
</ul>
<blockquote>
<p>会解析标签<br>注意：在 HTML 文档完全加载后使用 document.write() 将会删除所有的标签 ;</p>
</blockquote>
<ul>
<li>prompt(info):浏览器弹出，用户输入</li>
</ul>
<h3 id="堆栈"><a href="#堆栈" class="headerlink" title="堆栈"></a>堆栈</h3><h4 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h4><p> 由编译器自动分配释放 ，存放函数的参数值，局部变量的值等。其操作方式类似于数据结构中的栈。<br> 基本数据类型变量保存在栈内存中，因为基本数据类型占用空间小、大小固定，通过值来访问，属于被频繁使用的数据。</p>
<blockquote>
<p>闭包中的基本数据类型变量是保存在堆内存里的，当函数执行完弹出调用栈后，返回一个内部函数的一个引用，这时候函数的变量就会转移到堆上，因此内部函数依然能访问到上一层函数的变量。</p>
</blockquote>
<h4 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h4><p>一般由程序员分配释放， 若程序员不释放，程序结束时可能由OS回收 。注意它与数据结构中的堆是两回事，分配方式倒是类似于链表<br>引用数据类型存储在堆内存中，引用数据类型占据空间大、大小不固定，如果存储在栈中，将影响程序的运行性能。<br>引用数据类型会在栈中存储一个指针，这个指针指向堆内存空间中该实体的起始地址。<br>当解释器寻找引用值时，会先检索其在栈中的地址，取得地址后，从堆中获得实体。</p>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>变量是弱类型的,重复声明 JavaScript  变量，将不会丢它的值。</p>
<table>
<thead>
<tr>
<th>情况</th>
<th>说明</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>var age;console.log(age)</td>
<td>只声明不负值</td>
<td>undefined</td>
</tr>
<tr>
<td>console.log(age)</td>
<td>不声明，不负值</td>
<td>报错</td>
</tr>
<tr>
<td>age=10;console.log(age)</td>
<td>不声明，只赋值</td>
<td>10(如果您为尚未声明的变量赋值，此变量会自动成为全局变量。)</td>
</tr>
</tbody></table>
<p>可以在字符串添加转义字符来使用引号：</p>
<p>如果变量在函数内没有声明（没有使用 var 关键字），该变量为全局变量。</p>
<h4 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h4><ul>
<li>区分大小写</li>
<li>不能数字开头</li>
<li>可使用的符号作开头：下划线<code>_</code>，美元符<code>$</code></li>
</ul>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>动态数据类型。同一变量可做不同数据类型使用</p>
<p>基本数据类型：<code>number</code> <code>boolean</code> <code>string</code> <code>undefined</code> <code>null</code>,<code>BigInt</code>,<code>Symbol</code><br>复杂(引用)数据类型:<code>object</code></p>
<h4 id="查看数据类型"><a href="#查看数据类型" class="headerlink" title="查看数据类型"></a>查看数据类型</h4><ul>
<li>typeof</li>
</ul>
<p>typeof 运算符不是变量。它属于运算符。运算符（比如 + - * /）没有数据类型。<br>但是，typeof 始终会返回字符串（包含运算数的类型）。</p>
<p><code>console.log(typeof age);</code><br><code>console.log(typeof(age));</code></p>
<ul>
<li>instanceof运算符</li>
</ul>
<blockquote>
<p>只能判断复杂类型<br>instanceof，用于检测某个对象的原型链是否包含某个构造函数的 prototype 属性。<br>instanceof 适用于检测对象，它是基于原型链运作的。<br>instanceof 除了适用于任何 object 的类型检查之外，也可以用来检测内置对象，比如：Array、RegExp、Object、Function<br>instanceof 对基本数据类型检测不起作用，主要是因为基本数据类型没有原型链。</p>
</blockquote>
<ul>
<li>constructor 属性</li>
</ul>
<p>constructor 属性返回所有 JavaScript 变量的构造器函数。<br><code>undefined</code>,<code>null</code>没有constructor</p>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;Bill&quot;</span>.<span class="property">constructor</span>                 <span class="comment">// 返回 &quot;function String()  &#123; [native code] &#125;&quot;</span></span><br><span class="line">(<span class="number">3.14</span>).<span class="property">constructor</span>                 <span class="comment">// 返回 &quot;function Number()  &#123; [native code] &#125;&quot;</span></span><br><span class="line"><span class="literal">false</span>.<span class="property">constructor</span>                  <span class="comment">// 返回 &quot;function Boolean() &#123; [native code] &#125;&quot;</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].<span class="property">constructor</span>              <span class="comment">// 返回 &quot;function Array()   &#123; [native code] &#125;&quot;</span></span><br><span class="line">&#123;<span class="attr">name</span>:<span class="string">&#x27;Bill&#x27;</span>, <span class="attr">age</span>:<span class="number">62</span>&#125;.<span class="property">constructor</span>  <span class="comment">// 返回&quot; function Object()  &#123; [native code] &#125;&quot;</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>().<span class="property">constructor</span>             <span class="comment">// 返回 &quot;function Date()    &#123; [native code] &#125;&quot;</span></span><br><span class="line"><span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;.<span class="property">constructor</span>         <span class="comment">// 返回 &quot;function Function()&#123; [native code] &#125;&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="布尔类型"><a href="#布尔类型" class="headerlink" title="布尔类型"></a>布尔类型</h4><p><code>var flag=true;</code><br>true参加数学加法时当做1，false为0；</p>
<p>true:<code>-15</code> <code>&quot;false&quot;</code><br>false:<code>0</code> <code>-0</code> <code>&quot;&quot;</code> <code>undefined</code> <code>null</code>  <code>false</code>  <code>NaN</code></p>
<h4 id="undefined与null"><a href="#undefined与null" class="headerlink" title="undefined与null"></a><code>undefined</code>与<code>null</code></h4><p>undefined 表示尚未初始化的变量的值,这个变量从根本上就没有定义，而 null 表示该变量有意缺少对象指向,这个值虽然定义了，但它并未指向任何内存中的对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">null</span> == <span class="literal">undefined</span>  <span class="comment">// true</span></span><br><span class="line"><span class="literal">null</span> === <span class="literal">undefined</span>  <span class="comment">// false</span></span><br><span class="line">!!<span class="literal">null</span> === !!<span class="literal">undefined</span>  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;<span class="attr">a</span>: <span class="literal">undefined</span>&#125;)  <span class="comment">// &#x27;&#123;&#125;&#x27;</span></span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;<span class="attr">b</span>: <span class="literal">null</span>&#125;)  <span class="comment">// &#x27;&#123;b: null&#125;&#x27;</span></span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;<span class="attr">a</span>: <span class="literal">undefined</span>, <span class="attr">b</span>: <span class="literal">null</span>&#125;)  <span class="comment">// &#x27;&#123;b: null&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj1 = &#123; <span class="attr">a</span>: <span class="literal">undefined</span> &#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">a</span>)  <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj2.<span class="property">a</span>)  <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p><code>undefined</code>与数字相加后结果为<code>NaN</code>;而<code>null</code>会隐式转换为0<br><code>undefined</code>其类型也将是<code>undefined</code>。而<code>null</code>的类型为对象。</p>
<blockquote>
<p>ypeof null 输出为 ‘object’ 其实是一个底层的错误，但直到现阶段都无法被修复。<br>原因是，在 JavaScript 初始版本中，值以 32位 存储。前 3位 表示数据类型的标记，其余位则是值。<br>对于所有的对象，它的前 3位 都以 000 作为类型标记位。在 JavaScript 早期版本中， null 被认为是一个特殊的值，用来对应 C 中的 空指针 。但 JavaScript 中没有 C 中的指针，所以 null 意味着什么都没有或者 void 并以 全0(32个) 表示。<br>因此每当 JavaScript 读取 null 时，它前端的 3位 将它视为 对象类型 ，这也是为什么 typeof null 返回 ‘object’ 的原因。<br>任何变量均可通过设置值等于 <code>undefined</code> （<code>void 0</code>） 或<code>null</code>进行清空。</p>
</blockquote>
<h4 id="数字型"><a href="#数字型" class="headerlink" title="数字型"></a>数字型</h4><p>绝不要用前导零写数字（比如 07）。<br><code>Infinity</code>:无穷大；<br><code>-Infinity</code>:无穷小；<br>除以 0（零）也会生成 Infinity</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x =  <span class="number">2</span> / <span class="number">0</span>;          <span class="comment">// x 将是 Infinity</span></span><br><span class="line"><span class="keyword">var</span> y = -<span class="number">2</span> / <span class="number">0</span>;          <span class="comment">// y 将是 -Infinity</span></span><br></pre></td></tr></table></figure>

<h5 id="NaN-非数字"><a href="#NaN-非数字" class="headerlink" title="NaN:非数字"></a><code>NaN</code>:非数字</h5><blockquote>
<p>NaN 是数，typeof NaN 返回 number<br>尝试用一个非数字字符串进行除法会得到 NaN<br>可使用全局 JavaScript 函数 <code>isNaN()</code> 来确定某个值是否是数：</p>
</blockquote>
<p>JavaScript 数值始终是 <code>64 位</code>的浮点数,其中 0 到 51 存储数字（片段），52 到 62 存储指数，63 位存储符号</p>
<h5 id="精度"><a href="#精度" class="headerlink" title="精度"></a>精度</h5><p>整数（不使用指数或科学计数法）会被精确到 <code>15 位</code>。<br>小数的最大数是 <code>17 位</code>，但是浮点的算数并不总是 100% 精准</p>
<h5 id="数字字符串"><a href="#数字字符串" class="headerlink" title="数字字符串"></a>数字字符串</h5><p>JavaScript 字符串可以拥有数字内容：</p>
<p>在所有数字运算中，JavaScript 会尝试将字符串转换为数字：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="string">&quot;100&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> y = <span class="string">&quot;10&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> z = x / y;       <span class="comment">// z 将是 10</span></span><br><span class="line"><span class="keyword">var</span> z = x * y;       <span class="comment">// z 将是 1000</span></span><br><span class="line"><span class="keyword">var</span> z = x - y;       <span class="comment">// z 将是 90</span></span><br><span class="line"><span class="comment">//警告！！</span></span><br><span class="line"><span class="comment">//JavaScript 的加法和级联（concatenation）都使用 + 运算符。</span></span><br><span class="line"><span class="comment">//如果您对一个数和一个字符串相加，结果也是字符串级联：</span></span><br><span class="line"><span class="keyword">var</span> z = x + y;       <span class="comment">// z 不会是 110（而是 10010）</span></span><br></pre></td></tr></table></figure>

<h5 id="数值属性"><a href="#数值属性" class="headerlink" title="数值属性"></a>数值属性</h5><table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>MAX_VALUE</td>
<td>返回 JavaScript 中可能的最大数。</td>
</tr>
<tr>
<td>MIN_VALUE</td>
<td>返回 JavaScript 中可能的最小数。</td>
</tr>
<tr>
<td>NEGATIVE_INFINITY</td>
<td>表示负的无穷大（溢出返回）。</td>
</tr>
<tr>
<td>NaN</td>
<td>表示非数字值（”Not-a-Number”）。</td>
</tr>
<tr>
<td>POSITIVE_INFINITY</td>
<td>表示无穷大（溢出返回）。</td>
</tr>
</tbody></table>
<blockquote>
<p>数字属性不可用于变量<br>数字属性属于名为 number 的 JavaScript 数字对象包装器。<br>这些属性只能作为 Number.MAX_VALUE 访问。<br>使用 myNumber.MAX_VALUE，其中 myNumber 是变量、表达式或值，将返回 undefined：</p>
</blockquote>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">6</span>;</span><br><span class="line"><span class="keyword">var</span> y = x.<span class="property">MAX_VALUE</span>;    <span class="comment">// y 成为 undefined</span></span><br><span class="line"><span class="comment">//只能如下使用</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="title class_">Number</span>.<span class="property">MIN_VALUE</span>; <span class="comment">//返回 JavaScript 中可能的最小数字。</span></span><br></pre></td></tr></table></figure>

<h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><p>使用单引号或双引号，推荐单引号。在js中字符串既是基本数据类型，又是复合数据类型.</p>
<h5 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h5><ol>
<li><p>new运算符声明(对象）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;100&quot;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>省略new</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="title class_">String</span>(<span class="string">&quot;jjj&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>字符串常量声明</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">&quot;jjj&quot;</span>;</span><br></pre></td></tr></table></figure></li>
</ol>
<p> 嵌套：<code>var str=&#39;啥&quot;嘎&quot;嘎和&#39;; var str=&quot;航空&#39;港行&#39;供货商&quot;;</code>也可以加转义符<code>\</code><br> 字符串长度：<code>var str=&#39;画口红管工行&#39;;  alert(str.length);</code></p>
<blockquote>
<p>注：中文UTF-8（三个字符代表一个汉字），gbk（两个字符表示一个汉字）但计数时都当成一个字来计数。</p>
</blockquote>
<p>字符串拼接：<code>字符串+任何类型=拼接后的字符串</code></p>
<h4 id="js-判断字符串中是否包含某个字符串"><a href="#js-判断字符串中是否包含某个字符串" class="headerlink" title="js 判断字符串中是否包含某个字符串"></a>js 判断字符串中是否包含某个字符串</h4><ul>
<li><p><code>indexOf()</code> 与<code>lastIndexOf</code><br> <code>indexOf()</code> 方法可返回某个指定的字符串值在字符串中首次出现的位置。（从0开始，未找到返回-1）<br> <code>lastIndexOf()</code> 方法返回指定文本在字符串中最后一次出现的索引,其为从后向前进行检索<br> 两种方法都接受作为检索起始位置的第二个参数。如<code>str.indexOf(&quot;China&quot;, 18);</code></p>
<pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">indexOf</span>(<span class="string">&quot;3&quot;</span>,<span class="number">0</span>) != -<span class="number">1</span> );  <span class="comment">// 未找到文本将返回-1</span></span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p><code>include(str,position)</code><br> 是否可以在另一个字符串中找到一个字符串，并根据情况返回 true 或 false<br>方法接受作为检索起始位置的第二个参数。如<code>str.include(&quot;China&quot;, 18);</code></p>
<pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">indexOf</span>(<span class="string">&quot;3&quot;</span>,<span class="number">0</span>) != -<span class="number">1</span> );  <span class="comment">// 未找到文本将返回-1</span></span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p><code>search()</code><br>search() 方法用于检索字符串中指定的子字符串，或与正则表达式相匹配的子字符串，首次出现的位置。如果没有找到任何匹配的子串，则返回 -1。</p>
</li>
</ul>
<blockquote>
<p>传入的不是正则会隐式转换为正则</p>
</blockquote>
<pre><code>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">search</span>(<span class="string">&quot;3&quot;</span>) != -<span class="number">1</span> );  <span class="comment">//并返回匹配位置的下标</span></span><br></pre></td></tr></table></figure>
</code></pre>
<ul>
<li><code>match()</code></li>
</ul>
<p>用于检索字符串中指定的子字符串，或正则表达式相匹配的子串数组,否则返回null</p>
<pre><code>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="title class_">RegExp</span>(<span class="regexp">/3/</span>);</span><br><span class="line"><span class="keyword">if</span>(str.<span class="title function_">match</span>(reg))&#123;</span><br><span class="line">    <span class="comment">// 包含        </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<ul>
<li><p><code>test()</code><br><code>test()</code> 方法用于检索字符串中匹配的正则是否存在。若有则返回 true 否则 false。</p>
<pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="title class_">RegExp</span>(<span class="regexp">/3/</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(str)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p><code>exec()</code><br>exec() 方法用于检索字符串中的正则表达式的匹配。返回一个数组，其中存放匹配的结果。如果未找到匹配，则返回值为 null。</p>
<pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="title class_">RegExp</span>(<span class="regexp">/3/</span>);</span><br><span class="line"><span class="keyword">if</span>(reg.<span class="title function_">exec</span>(str))&#123;</span><br><span class="line">    <span class="comment">// 包含        </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
<h4 id="提取部分字符串"><a href="#提取部分字符串" class="headerlink" title="提取部分字符串"></a>提取部分字符串</h4><ul>
<li><code>slice(start, end)</code><br>提取<code>[start,end)</code>这部分字符串，返回新的字符串<br>如果某个参数为负，则从字符串的结尾开始计数。<br>如果省略第二个参数，则该 <code>slice()</code> 将删除前面的部分，保留后面的部分。<br>提示：负值位置不适用 Internet Explorer 8 及其更早版本。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;Apple, Banana, Mango&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> res = str.<span class="title function_">slice</span>(<span class="number">7</span>,<span class="number">13</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>substring(start, end)</code></li>
</ul>
<p><code>substring()</code> 类似于 <code>slice()</code>。提取<code>[start,end)</code>这部分字符串，返回新的字符串<br>不同之处在于 <code>substring()</code>无法接受负的索引，后一个值大于前一个时会调换参数。<br>如果省略第二个参数，则该<code>substring()</code> 将删除前面的部分，保留后面的部分。</p>
<ul>
<li><code>substr(start, length)</code>(废弃)<br>不同之处在于第二个参数规定被提取部分的长度。<br>如果首个参数为负，则从字符串的结尾计算位置。第二个参数不能为负，因为它定义的是长度。<br>如果省略第二个参数，则该 substring() 将删除前面的部分，保留后面的部分。</li>
</ul>
<h4 id="替换文本"><a href="#替换文本" class="headerlink" title="替换文本"></a>替换文本</h4><ul>
<li><code>replace()</code></li>
</ul>
<p><code>str.replace(oldstr,newstr);</code>该方法用另一个值替换在字符串中指定的值,会返回替换成功的新字符串：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">&quot;Please visit Microsoft!&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> n = str.<span class="title function_">replace</span>(<span class="string">&quot;Microsoft&quot;</span>, <span class="string">&quot;W3School&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>默认地，<code>replace()</code> 只替换首个匹配：如需替换所有匹配，请使用正则表达式的 <code>g</code> 标志（用于全局搜索)<br><code>replace()</code> 对大小写敏感。如需执行大小写不敏感的替换，请使用正则表达式 <code>i</code>（大小写不敏感）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">&quot;Please visit Microsoft!&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> n = str.<span class="title function_">replace</span>(<span class="regexp">/MICROSOFT/gi</span>, <span class="string">&quot;W3School&quot;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="转换为大写和小写"><a href="#转换为大写和小写" class="headerlink" title="转换为大写和小写"></a>转换为大写和小写</h4><p>通过 <code>toUpperCase()</code> 把字符串转换为大写：<br>通过 <code>toLowerCase()</code> 把字符串转换为小写：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text1 = <span class="string">&quot;Hello World!&quot;</span>;       <span class="comment">// 字符串</span></span><br><span class="line"><span class="keyword">var</span> text2 = text1.<span class="title function_">toUpperCase</span>();  <span class="comment">// text2 是被转换为大写的 text1</span></span><br></pre></td></tr></table></figure>

<h4 id="concat-连接两个或多个字符串"><a href="#concat-连接两个或多个字符串" class="headerlink" title="concat() 连接两个或多个字符串"></a>concat() 连接两个或多个字符串</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text1 = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> text2 = <span class="string">&quot;World&quot;</span>;</span><br><span class="line">text3 = text1.<span class="title function_">concat</span>(text2);</span><br><span class="line">text4 = text1.<span class="title function_">concat</span>(<span class="string">&quot;jjjjjj&quot;</span>,text2,<span class="string">&quot;jj&quot;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="删除字符串两端的空白符"><a href="#删除字符串两端的空白符" class="headerlink" title="删除字符串两端的空白符"></a>删除字符串两端的空白符</h4><p><code>trim()</code> 方法删除字符串两端的空白符<br><code>trimEnd()</code> 方法删除字符串末尾的空白符<br><code>trimStart()</code> 方法删除字符串开头的空白符</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;       Hello World!        &quot;</span>;</span><br><span class="line"><span class="title function_">alert</span>(str.<span class="title function_">trim</span>());</span><br><span class="line"><span class="comment">//Internet Explorer 8 或更低版本不支持 trim() 方法。</span></span><br><span class="line"><span class="comment">//如需支持 IE 8，您可搭配正则表达式使用 replace() 方法代替：</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;       Hello World!        &quot;</span>;</span><br><span class="line"><span class="title function_">alert</span>(str.<span class="title function_">replace</span>(<span class="regexp">/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g</span>, <span class="string">&#x27;&#x27;</span>));</span><br></pre></td></tr></table></figure>

<h4 id="提取字符串中的一个字符"><a href="#提取字符串中的一个字符" class="headerlink" title="提取字符串中的一个字符"></a>提取字符串中的一个字符</h4><p>这是两个提取字符串字符的安全方法：</p>
<ul>
<li>charAt(position)<br>charAt() 方法返回字符串中指定下标（位置）的字符串：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;HELLO WORLD&quot;</span>;</span><br><span class="line">str.<span class="title function_">charAt</span>(<span class="number">0</span>);            <span class="comment">// 返回 H</span></span><br></pre></td></tr></table></figure>

<ul>
<li>charCodeAt(position)</li>
</ul>
<p>charCodeAt() 方法返回字符串中指定索引的字符 unicode 编码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;HELLO WORLD&quot;</span>;</span><br><span class="line">str.<span class="title function_">charCodeAt</span>(<span class="number">0</span>);         <span class="comment">// 返回 72</span></span><br></pre></td></tr></table></figure>

<ul>
<li>String.fromCharCode(码值1，码值2…）<br>用于将ASCII码转换为对应字符,返回值为组合的字符串</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="title class_">String</span>.<span class="title function_">fromCharCode</span>(<span class="number">99</span>,<span class="number">93</span>,<span class="number">83</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>属性访问（Property Access）</li>
</ul>
<p>使用属性访问有点不太靠谱：</p>
<p> 不适用 Internet Explorer 7 或更早的版本<br> 它让字符串看起来像是数组（其实并不是）<br> 如果找不到字符，[ ] 返回 undefined，而 charAt() 返回空字符串。<br> 字符串是只读的，无法像数组一样通过索引下标去修改单个字符，除非整个修改。str[0] = “A” 不会产生错误（但也不会工作！）</p>
<blockquote>
<p>提示：如果您希望按照数组的方式处理字符串，可以先把它转换为数组。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;HELLO WORLD&quot;</span>;</span><br><span class="line">str[<span class="number">0</span>];                   <span class="comment">// 返回 H</span></span><br></pre></td></tr></table></figure>

<ul>
<li>把字符串转换为数组</li>
</ul>
<p>可以通过 split(分割符/正则,限制返回的数量)分割字符串，返回分割的子串组成的数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> txt = <span class="string">&quot;a,b,c,d,e&quot;</span>;   <span class="comment">// 字符串</span></span><br><span class="line">txt.<span class="title function_">split</span>(<span class="string">&quot;,&quot;</span>);          <span class="comment">// 用逗号分隔</span></span><br><span class="line">txt.<span class="title function_">split</span>(<span class="string">&quot; &quot;</span>);          <span class="comment">// 用空格分隔</span></span><br><span class="line">txt.<span class="title function_">split</span>(<span class="string">&quot;|&quot;</span>);          <span class="comment">// 用竖线分隔</span></span><br><span class="line"><span class="comment">//如果省略分隔符，被返回的数组将是整个字符串即[&quot;string&quot;]。</span></span><br><span class="line"><span class="comment">//若没有匹配，被返回的数组也是整个字符串即[&quot;string&quot;]</span></span><br><span class="line"><span class="comment">//如果分隔符是 &quot;&quot;，被返回的数组将是间隔单个字符的数组</span></span><br></pre></td></tr></table></figure>

<h5 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h5><p>正则表达式是构成搜索模式（search pattern）的字符序列。<br>语法：<code>/pattern/modifiers;</code>如：<code>var patt = /hello/i;</code></p>
<h6 id="声明-1"><a href="#声明-1" class="headerlink" title="声明"></a>声明</h6><ol>
<li>new声明</li>
</ol>
<p>参数：第一个为字符串，第二个为修饰符(修饰符无顺序）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> box1=<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;ig&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> box1= <span class="title class_">RegExp</span>(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;ig&quot;</span>);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>省略new声明</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> box1=<span class="regexp">/hello/gi</span>;</span><br></pre></td></tr></table></figure>

<p>正则表达式修饰符<br>修饰符可用于大小写不敏感的更全局的搜素：</p>
<table>
<thead>
<tr>
<th>修饰符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>i</td>
<td>执行对大小写不敏感的匹配。</td>
</tr>
<tr>
<td>g</td>
<td>执行全局匹配（查找所有匹配而非在找到第一个匹配后停止）。</td>
</tr>
<tr>
<td>m</td>
<td>执行多行匹配。</td>
</tr>
</tbody></table>
<blockquote>
<p>字符串中，遇到换行，重新开始计算行首；</p>
</blockquote>
<p>正则表达式模式<br>括号用于查找一定范围的字符串：</p>
<table>
<thead>
<tr>
<th>表达式</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>[]</code></td>
<td>查找方括号之间的任何符合的字符。</td>
</tr>
<tr>
<td><code>[^]</code></td>
<td>匹配除括号内的字符</td>
</tr>
<tr>
<td><code>[0-9]</code></td>
<td>查找任何从 0 至 9 的数字。</td>
</tr>
<tr>
<td>`(x</td>
<td>y)`</td>
</tr>
</tbody></table>
<p>元字符（Metacharacter）是拥有特殊含义的字符：</p>
<table>
<thead>
<tr>
<th>元字符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>.</td>
<td>匹配单个任意字符</td>
</tr>
<tr>
<td>\d</td>
<td>查找数字。</td>
</tr>
<tr>
<td>\D</td>
<td>匹配非数字</td>
</tr>
<tr>
<td>\s</td>
<td>查找空白符、空格、制表符、换行符。</td>
</tr>
<tr>
<td>\S</td>
<td>匹配非空白字符</td>
</tr>
<tr>
<td>\b</td>
<td>匹配空格字符。</td>
</tr>
<tr>
<td>\n</td>
<td>查找换行符。</td>
</tr>
<tr>
<td>\r</td>
<td>查找回车符。</td>
</tr>
<tr>
<td>\t</td>
<td>查找制表符。</td>
</tr>
<tr>
<td>\0</td>
<td>查找null符。</td>
</tr>
</tbody></table>
<p>锚字符<br>|||<br>|-|-|<br>|^|行首匹配|<br>|$|行尾匹配|</p>
<p>重复字符：(n为任意的单个字符）</p>
<table>
<thead>
<tr>
<th>量词</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>n?</td>
<td>匹配任何包含零个或一个 n 的字符。</td>
</tr>
<tr>
<td>n+</td>
<td>匹配任何包含至少一个 n 的字符。</td>
</tr>
<tr>
<td>n*</td>
<td>匹配任何包含零个或多个 n 的字符。</td>
</tr>
<tr>
<td>n{m,n}</td>
<td>匹配至少m个，至多n个</td>
</tr>
<tr>
<td>n{m}</td>
<td>必须匹配m个</td>
</tr>
<tr>
<td>(abd)+</td>
<td>小括号中的部分代表一个字符串处理</td>
</tr>
</tbody></table>
<h4 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h4><h5 id="数字转为字符串"><a href="#数字转为字符串" class="headerlink" title="数字转为字符串"></a>数字转为字符串</h5><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>toString()</td>
<td><code>var num=1;alert(num.toString());</code></td>
</tr>
<tr>
<td>String()强制转换</td>
<td><code>var num=1; alert(String(num));</code></td>
</tr>
<tr>
<td><code>+</code>拼接，只要有一边是字符串，另一半也会转为字符串</td>
<td><code>var num=1; alert(num+&quot;&quot;);</code></td>
</tr>
</tbody></table>
<ul>
<li>能够使用 toString() 方法把数输出为十六进制、八进制或二进制。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myNumber = <span class="number">128</span>;</span><br><span class="line">myNumber.<span class="title function_">toString</span>(<span class="number">16</span>);     <span class="comment">// 返回 80</span></span><br><span class="line">myNumber.<span class="title function_">toString</span>(<span class="number">8</span>);      <span class="comment">// 返回 200</span></span><br><span class="line">myNumber.<span class="title function_">toString</span>(<span class="number">2</span>);      <span class="comment">// 返回 10000000</span></span><br></pre></td></tr></table></figure>

<ul>
<li>toExponential() 返回字符串值，它包含已被四舍五入并使用指数计数法的数字。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">9.656</span>;</span><br><span class="line">x.<span class="title function_">toExponential</span>(<span class="number">2</span>);     <span class="comment">// 返回 9.66e+0</span></span><br><span class="line">x.<span class="title function_">toExponential</span>(<span class="number">4</span>);     <span class="comment">// 返回 9.6560e+0</span></span><br><span class="line">x.<span class="title function_">toExponential</span>(<span class="number">6</span>);     <span class="comment">// 返回 9.656000e+0</span></span><br></pre></td></tr></table></figure>

<ul>
<li>toFixed() 返回字符串值，它包含了指定位数小数的数字：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">9.656</span>;</span><br><span class="line">x.<span class="title function_">toFixed</span>(<span class="number">0</span>);           <span class="comment">// 返回 10</span></span><br><span class="line">x.<span class="title function_">toFixed</span>(<span class="number">2</span>);           <span class="comment">// 返回 9.66</span></span><br><span class="line">x.<span class="title function_">toFixed</span>(<span class="number">4</span>);           <span class="comment">// 返回 9.6560</span></span><br><span class="line">x.<span class="title function_">toFixed</span>(<span class="number">6</span>);           <span class="comment">// 返回 9.656000</span></span><br></pre></td></tr></table></figure>

<ul>
<li>toPrecision() 返回字符串值，它包含了指定长度的数字：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">9.656</span>;</span><br><span class="line">x.<span class="title function_">toPrecision</span>();        <span class="comment">// 返回 9.656</span></span><br><span class="line">x.<span class="title function_">toPrecision</span>(<span class="number">2</span>);       <span class="comment">// 返回 9.7</span></span><br><span class="line">x.<span class="title function_">toPrecision</span>(<span class="number">4</span>);       <span class="comment">// 返回 9.656</span></span><br><span class="line">x.<span class="title function_">toPrecision</span>(<span class="number">6</span>);       <span class="comment">// 返回 9.65600</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>在 JavaScript 中，数字可以是原始值（typeof = number）或对象（typeof = object）。<br>在 JavaScript 内部使用 valueOf() 方法可将 Number 对象转换为原始值。<br>所有 JavaScript 数据类型都有 valueOf() 和 toString() 方法。</p>
</blockquote>
<h5 id="字符串转数字"><a href="#字符串转数字" class="headerlink" title="字符串转数字"></a>字符串转数字</h5><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><code>parseInt(string)</code>保留整数,去掉单位;只返回首个数字;如果无法转换为数值，则返回 NaN</td>
<td><code>parseInt(&#39;11&#39;);</code></td>
</tr>
<tr>
<td><code>parseFloat(string)</code>只返回首个数字,包括小数部分</td>
<td><code>parseFloat(&#39;222&#39;);</code></td>
</tr>
<tr>
<td><code>Number()</code>强制转换</td>
<td><code>Number(&#39;22&#39;);</code></td>
</tr>
<tr>
<td>js隐式转换（减，乘，除)</td>
<td><code>&#39;11&#39;-0</code></td>
</tr>
</tbody></table>
<blockquote>
<p>Number() 还可以把日期转换为数字：<code>Number(new Date(&quot;2019-04-15&quot;));    // 返回 1506729600000</code>方法返回 1970 年 1 月 1 日至今的毫秒数。</p>
</blockquote>
<p><code>==</code>符号会把字符串的数据类型转换为数字型再比较。<br><code>===</code>两侧的值和数据类型一样才相等。</p>
<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><h4 id="一元操作符"><a href="#一元操作符" class="headerlink" title="一元操作符"></a>一元操作符</h4><ul>
<li>自增和自减操作符<code>--</code>,<code>++</code><br><code>++i,i++</code>单独使用没有区别</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//先加再用</span></span><br><span class="line"><span class="keyword">let</span> i=<span class="number">1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(++i + <span class="number">2</span>)<span class="comment">//4</span></span><br><span class="line"><span class="comment">//先用再加</span></span><br><span class="line"><span class="keyword">let</span> a=<span class="number">1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a++ + <span class="number">2</span>)<span class="comment">//3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b=<span class="number">1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b++ + <span class="number">3</span> ++b)<span class="comment">//7</span></span><br></pre></td></tr></table></figure>

<ul>
<li>一元加减操作符</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> c = <span class="title class_">BigInt</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(+a)  <span class="comment">// -1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(+b)  <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(+c)  <span class="comment">// NaN</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">2</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(-a)  <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(-b)  <span class="comment">// -2</span></span><br></pre></td></tr></table></figure>

<h4 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h4><ul>
<li>逻辑非</li>
</ul>
<p>如果操作数是对象，则返回 false；<br>如果操作数是空字符串，则返回 true；<br>如果操作数是非空字符串，则返回 false；<br>如果操作数是数值0，则返回 true；<br>如果操作数是非0数值（包括 Infinity)，则返回 false；<br>如果操作数是 null，则返回 true；<br>如果操作数是 NaN，则返回 true；<br>如果操作数是 undefined， 则返回 true.</p>
<p>逻辑非操作符也可以用于将任何值转化为布尔值，同时使用两个!，相当于调用了Boolean()方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">!!<span class="string">&quot;blue&quot;</span> <span class="comment">// true</span></span><br><span class="line">!!<span class="number">0</span>;     <span class="comment">// false</span></span><br><span class="line">!!<span class="title class_">NaN</span>    <span class="comment">// false</span></span><br><span class="line">!!<span class="string">&quot;&quot;</span>     <span class="comment">// false</span></span><br><span class="line">!!<span class="number">12345</span>  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<ul>
<li>逻辑与<br><code>表达式1&amp;&amp;表达式2</code>如果第一个表达式为真，则返回表达式2，否则返回表达式1</li>
</ul>
<blockquote>
<p><code>0</code> <code>&#39;&#39;</code> <code>null</code> <code>undefind</code> <code>NaN</code>为假</p>
</blockquote>
<ul>
<li>逻辑或<br><code>表达式1||表达式2</code>如果表达式1为真则返回表达式1，否则返回表达式2</li>
</ul>
<h4 id="比较操作符"><a href="#比较操作符" class="headerlink" title="比较操作符"></a>比较操作符</h4><ul>
<li>等于（==）不等于（!=）</li>
</ul>
<p>首先会判断两者类型是否相同，相同的话就比较两者的大小；<br>类型不相同的话，就会进行类型转换；<br>会先判断是否在对比 null 和 undefined，是的话就会返回 true<br>判断两者类型是否为 string 和 number，是的话就会根据ASCII将字符串转换为 number<br>判断两者类型是否为 string 和 string，是的话就会根据ASCII将字符串转换为 number,从左到右比较，第一位相等就比较下一位，由此类推<br>判断其中一方是否为 boolean，是的话就会把 boolean 转为 number 再进行判断<br>判断其中一方是否为 object 且另一方为 string、number 或者 symbol，是的话就会把 object 转为原始类型再进行判断</p>
<ul>
<li>全等（===）不全等（!==）<br>只有当两个操作数的数据类型和值都相等时，才会返回true。它并不会进行数据类型的转化。​</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//NaN不等于任何值，包括它本身 </span></span><br><span class="line"><span class="title class_">NaN</span>==<span class="title class_">NaN</span> <span class="comment">//false</span></span><br><span class="line"><span class="title class_">NaN</span>===<span class="title class_">NaN</span> <span class="comment">//false</span></span><br><span class="line"><span class="literal">null</span>==<span class="literal">undefined</span> <span class="comment">//true</span></span><br><span class="line"><span class="literal">null</span>===<span class="literal">undefined</span> <span class="comment">//false</span></span><br><span class="line"><span class="number">1</span>==<span class="string">&#x27;1&#x27;</span> <span class="comment">//true</span></span><br><span class="line"><span class="number">1</span>===<span class="string">&#x27;1&#x27;</span> <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//浏览器自己隐式创建的包装对象和我们显式创建的包装对象不严格相等，我们举个例子说明下：</span></span><br><span class="line"><span class="keyword">var</span> name =  <span class="string">&quot;神奇的程序员&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> info = <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;神奇的程序员&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name == info);    <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name === info);   <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">- 浮点数相等比较</span><br><span class="line"><span class="string">``</span><span class="string">`js</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1 / 3 === (1 - 2 / 3); // false</span></span><br><span class="line"><span class="string">// 浮点数在运算过程中会产生误差，因为计算机无法精确表示无限循环小数。要比较两个浮点数是否相等，只能计算它们之差的绝对值，看是否小于某个阈值</span></span><br><span class="line"><span class="string">Math.abs(1 / 3 - (1 - 2 / 3)) &lt; 0.0000001; // true</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>

<h4 id="关系操作符"><a href="#关系操作符" class="headerlink" title="关系操作符"></a>关系操作符</h4><p>小于（&lt;）<br>大于（&gt;）<br>小于等于（&lt;=）<br>大于等于（&gt;=）</p>
<p>如果这两个操作数都是数值，则执行数值比较；<br>如果两个操作数都是字符串，则比较两个字符串对应的字符编码值；<br>如果一个操作数是数值，则将另一个操作数转换为一个数值，然后执行数值比较；<br>如果一个操作数是对象，则调用这个对象的valueOf()方法，并用得到的结果根据前面的规则执行比较；<br>如果一个操作数是布尔值，则先将其转换为数值，然后再执行比较。</p>
<h4 id="空值合并操作符（-）"><a href="#空值合并操作符（-）" class="headerlink" title="空值合并操作符（??）"></a>空值合并操作符（<code>??</code>）</h4><p>只有 ?? 左边为 null 或 undefined时才返回右边的值：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dogName = <span class="literal">false</span>; </span><br><span class="line"><span class="keyword">const</span> name =  dogName ?? <span class="string">&#x27;default&#x27;</span>;  <span class="comment">// name = false;</span></span><br></pre></td></tr></table></figure>

<h4 id="可选链操作符（-）"><a href="#可选链操作符（-）" class="headerlink" title="可选链操作符（?.）"></a>可选链操作符（<code>?.</code>）</h4><p>在引用为null 或 undefined 的情况下不会引起错误，该表达式短路返回值是 undefined。与函数调用一起使用时，如果给定的函数不存在，则返回 undefined。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> name = system?.<span class="property">user</span>?.<span class="property">addr</span>?.<span class="property">province</span>?.<span class="property">name</span> || <span class="string">&#x27;default&#x27;</span>;</span><br><span class="line">a?.[x]</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line">a == <span class="literal">null</span> ? <span class="literal">undefined</span> : a[x]</span><br><span class="line"></span><br><span class="line">a?.<span class="title function_">b</span>()</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line">a == <span class="literal">null</span> ? <span class="literal">undefined</span> : a.<span class="title function_">b</span>()</span><br><span class="line"></span><br><span class="line">a?.()</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line">a == <span class="literal">null</span> ? <span class="literal">undefined</span> : <span class="title function_">a</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="void操作符"><a href="#void操作符" class="headerlink" title="void操作符"></a><code>void</code>操作符</h4><p><code>void</code> 是一元运算符，它可以出现在任意类型的操作数之前执行操作数，会忽略操作数的返回值，返回一个 undefined。void 常用于 HTML 脚本中执行 JavaScript 表达式，但不需要返回表达式的计算结果。比如对于链接标签，我们并不想让它发生跳转，就可以设置<code>href=&quot;javascript:void(0)</code><br>由于 <code>void</code> 运算符的优先级比较高，高于普通运算符的优先级，所以在使用时应该使用小括号明确 <code>void</code> 运算符操作的操作数，避免引发错误。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = b = c = <span class="number">2</span>;  <span class="comment">// 定义并初始化变量的值</span></span><br><span class="line">d = <span class="keyword">void</span> (a -= (b *= (c += <span class="number">5</span>)));  <span class="comment">// 执行void运算符，并把返回值赋予变量d</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);  <span class="comment">// -12</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);  <span class="comment">// 14</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c);  <span class="comment">// 7</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(d);  <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<h4 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h4><p>1）原码</p>
<p>原码就是一个数的二进制数。例如：10的原码为0000 1010</p>
<p>2）反码</p>
<p>正数的反码与原码相同，如：10    反码为 0000 1010<br>负数的反码为除符号位，按位取反，即0变1，1变0。</p>
<p>3）补码</p>
<p>正数的补码与原码相同，如：10    补码为 0000 1010<br>负数的补码是原码除符号位外的所有位取反即0变1，1变0，然后加1，也就是反码加1。</p>
<p>位运算符处理 32 位数。</p>
<p>该运算中的任何数值运算数都会被转换为 32 位的数。结果会被转换回 JavaScript 数。</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>例子</th>
<th>等同于</th>
<th>结果</th>
<th>十进制</th>
</tr>
</thead>
<tbody><tr>
<td><code>&amp;</code></td>
<td>与</td>
<td>5 &amp; 1</td>
<td>0101 &amp; 0001</td>
<td>0001</td>
<td>1</td>
</tr>
<tr>
<td>`</td>
<td>`</td>
<td>或</td>
<td>5 | 1</td>
<td>0101 | 0001</td>
<td>0101</td>
</tr>
<tr>
<td><code>~</code></td>
<td>非</td>
<td>~ 5</td>
<td>~0101</td>
<td>1010</td>
<td>10</td>
</tr>
<tr>
<td><code>^</code></td>
<td>异或</td>
<td>5 ^ 1</td>
<td>0101 ^ 0001</td>
<td>0100</td>
<td>4</td>
</tr>
<tr>
<td><code>&lt;&lt;</code></td>
<td>各二进制位全部左移若干位,高位丢弃，低位补0</td>
<td>5 &lt;&lt; 1</td>
<td>0101 &lt;&lt; 1</td>
<td>1010</td>
<td>10</td>
</tr>
<tr>
<td><code>&gt;&gt;</code></td>
<td>各二进制位全部右移若干位，正数左补0，负数左补1，右边丢弃</td>
<td>5 &gt;&gt; 1</td>
<td>0101 &gt;&gt; 1</td>
<td>0010</td>
<td>2</td>
</tr>
<tr>
<td><code>&gt;&gt;&gt;</code></td>
<td>零填充右位移</td>
<td>5 &gt;&gt;&gt; 1</td>
<td>0101 &gt;&gt;&gt; 1</td>
<td>0010</td>
<td>2</td>
</tr>
</tbody></table>
<blockquote>
<p>无符号右移操作符（&gt;&gt;&gt;）会将数值的32位全部右移。对于正数，有符号右移操作符和无符号右移操作符的结果是一样的。对于负数的操作，两者就会有较大的差异。<br>无符号右移操作符将负数的二进制表示当成正数的二进制表示来处理。所以，对负数进行无符号右移操作之后就会变的特别大。</p>
</blockquote>
<blockquote>
<p>上例使用 4 位无符号的例子。但是 JavaScript 使用 32 位有符号数。</p>
</blockquote>
<blockquote>
<p>因此，在 JavaScript 中，~ 5 不会返回 10，而是返回 -6。</p>
</blockquote>
<blockquote>
<p>~00000000000000000000000000000101 将返回 11111111111111111111111111111010。</p>
</blockquote>
<p>幂运算符为<code>**</code>而不是<code>^</code>,也可以用<code>Math.pow(x,y)</code>实现</p>
<h4 id="加减乘除操作符"><a href="#加减乘除操作符" class="headerlink" title="加减乘除操作符"></a>加减乘除操作符</h4><ul>
<li>加</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> + <span class="number">2</span>             <span class="comment">// 3</span></span><br><span class="line"><span class="string">&quot;1&quot;</span> + <span class="string">&quot;2&quot;</span>         <span class="comment">// &quot;12&quot;</span></span><br><span class="line"><span class="string">&quot;1&quot;</span> + <span class="number">2</span>           <span class="comment">// &quot;12&quot;</span></span><br><span class="line"><span class="number">1</span> + &#123;&#125;            <span class="comment">// &quot;1[object Object]&quot;</span></span><br><span class="line"><span class="literal">true</span> + <span class="literal">false</span>      <span class="comment">// 1  布尔值会先转为数字，再进行运算</span></span><br><span class="line"><span class="number">1</span> + <span class="literal">null</span>          <span class="comment">// 1 null会转化为0，再进行计算</span></span><br><span class="line"><span class="number">1</span> + <span class="literal">undefined</span>     <span class="comment">// NaN undefined转化为数字是NaN</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>如果有一个操作数是NaN，则结果是NaN；<br>如果是Infinity加Infinity，则结果是Infinity；<br>如果是-Infinity加-Infinity，则结果是-Infinity；<br>如果是Infinity加-Infinity，则结果是NaN；<br>如果是+0加+0，则结果是+0；<br>如果是-0加-0，则结果是-0；<br>如果是+0加-0，则结果是+0。</p>
<ul>
<li>减<br>减法操作和加法操作符类似， 但是减法操作符只能用于数值的计算，不能用于字符串的拼接</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span> - <span class="number">1</span>      <span class="comment">// 2</span></span><br><span class="line"><span class="number">3</span> - <span class="literal">true</span>   <span class="comment">// 2</span></span><br><span class="line"><span class="number">3</span> - <span class="string">&quot;&quot;</span>     <span class="comment">// 3</span></span><br><span class="line"><span class="number">3</span> - <span class="literal">null</span>   <span class="comment">// 3</span></span><br><span class="line"><span class="title class_">NaN</span> - <span class="number">1</span>    <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>

<p>如果是Infinity减Infinity，则结果是NaN；<br>如果是-Infinity减-Infinity，则结果是NaN；<br>如果是Infinity减-Infinity，则结果是Infinity；<br>如果是-Infinity减Infinity，则结果是-Infinity；<br>如果是+0减+0，则结果是+0；<br>如果是-0减+0，则结果是-0；<br>如果是-0减-0，则结果是+0。</p>
<ul>
<li><p>乘<br>如果有一个操作数是NaN，则结果是NaN；<br>如果Infinity与0相乘，则结果是NaN；<br>如果Infinity与非0数值相乘，则结果是Infinity或-Infinity，取决于有符号操作数的符号；<br>如果Infinity与Infinity相乘，则结果是Infinity。</p>
</li>
<li><p>除法<code>/</code><br>如果有一个操作数是NaN，则结果是NaN；<br>如果0除以0，则结果是NaN；<br>如果Infinity除以Infinity，则结果是Infinity。<br>如果是非零的有限数被零除，则结果是Infinity或-Infinity，取决于有符号操作数的符号；<br>如果是Infinity被任何非零数值除，则结果是Infinity或-Infinity，取决于有符号操作数的符号。</p>
</li>
<li><p>取余<code>%</code><br>如果被除数是无穷大值而除数是有限大的数值，则结果是NaN；<br>如果被除数是有限大的数值而除数是零，则结果是NaN；<br>如果是Infinity被Infinity除，则结果是NaN；<br>如果被除数是有限大的数值而除数是无穷大的数值，则结果是被除数；<br>如果被除数是零，则结果是零。</p>
</li>
<li><p>幂运算<code>**</code></p>
</li>
</ul>
<p><code>Math.pow(2, 10);    // 1024</code></p>
<h4 id="运算符号优先级"><a href="#运算符号优先级" class="headerlink" title="运算符号优先级"></a>运算符号优先级</h4><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>小括号</td>
<td><code>()</code></td>
</tr>
<tr>
<td>一元运算符</td>
<td><code>++</code>,<code>--</code>,<code>!</code></td>
</tr>
<tr>
<td>算数运算符</td>
<td>先<code>*</code>,<code>/</code>,<code>%</code>,<code>**</code>,后<code>+</code>,<code>-</code>,</td>
</tr>
<tr>
<td>关系运算符</td>
<td><code>&gt;</code>,<code>&gt;=</code>,<code>&lt;=</code>,<code>&lt;</code>,</td>
</tr>
<tr>
<td>相等运算符</td>
<td><code>==</code>,<code>===</code>,<code>!==</code>,<code>!=</code>,</td>
</tr>
<tr>
<td>逻辑运算符</td>
<td>先<code>&amp;&amp;</code>后`</td>
</tr>
<tr>
<td>赋值</td>
<td><code>=</code></td>
</tr>
<tr>
<td>逗号</td>
<td><code>,</code></td>
</tr>
</tbody></table>
<h3 id="创建数组"><a href="#创建数组" class="headerlink" title="创建数组"></a>创建数组</h3><p>数组是对象<br>请不要最后一个元素之后写逗号（比如 “BMW”,）可能存在跨浏览器兼容性问题。<br>JavaScript 方法 toString() 把数组转换为数组值（逗号分隔）的字符串。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//利用new创建数组</span></span><br><span class="line"><span class="keyword">var</span> a=<span class="keyword">new</span> <span class="title class_">Array</span>(); <span class="comment">//注意大写</span></span><br><span class="line"><span class="keyword">var</span> a=<span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">2</span>); <span class="comment">//只有一个数字时，为直接创建长度为2的空数组</span></span><br><span class="line"><span class="keyword">var</span> cars = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="string">&quot;Saab&quot;</span>, <span class="string">&quot;Volvo&quot;</span>, <span class="string">&quot;BMW&quot;</span>); <span class="comment">//也可以直接赋值</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数组字面量方式创建</span></span><br><span class="line"><span class="keyword">var</span> a=[];</span><br><span class="line"><span class="keyword">var</span> a=[<span class="string">&#x27;xxx&#x27;</span>,<span class="number">77</span>,<span class="literal">true</span>];</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取数组元素：数组名[索引号]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a[<span class="number">0</span>]);</span><br><span class="line"><span class="comment">//二位数组,只对字符串有用</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a[<span class="number">0</span>][<span class="number">0</span>]); <span class="comment">//结果为第二个x</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a[<span class="number">2</span>][<span class="number">0</span>]); <span class="comment">//结果为undefined</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数组长度：数组名.length</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="property">length</span>); <span class="comment">//新增数组元素</span></span><br><span class="line"><span class="comment">//修改数组索引追加数组元素</span></span><br><span class="line"><span class="comment">//不能直接给数组名赋值，否则会覆盖以前的数据</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//变量里存放的是数组的地址</span></span><br><span class="line"><span class="keyword">var</span> arr=[<span class="string">&quot;jjj&quot;</span>,<span class="string">&quot;222&quot;</span>,<span class="literal">true</span>,<span class="number">222</span>];</span><br><span class="line"><span class="keyword">var</span> arr1=arr</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1);</span><br><span class="line">arr1.<span class="title function_">push</span>(<span class="string">&quot;end&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;push:&quot;</span>,arr1);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr); <span class="comment">//arr也会一起变化</span></span><br></pre></td></tr></table></figure>

<h3 id="数组遍历"><a href="#数组遍历" class="headerlink" title="数组遍历"></a>数组遍历</h3><ul>
<li>for循环</li>
<li>for ..in 快速遍历（没有判断,速度更快）</li>
<li>forEach</li>
<li>for….of</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array=[<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> array)&#123;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(i,array[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">array.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">item,n,array</span>)&#123;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(n,item);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> item <span class="keyword">of</span> array)&#123;</span><br><span class="line"><span class="comment">//item为当前遍历到的元素</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数组的操作方法"><a href="#数组的操作方法" class="headerlink" title="数组的操作方法"></a>数组的操作方法</h3><p>10种：push,pop,shift,unshift,splice,slice,concat,join,sort,reverse</p>
<ul>
<li><p>JS数组添加元素</p>
<ol>
<li>在末尾追加push()；</li>
</ol>
</li>
</ul>
<p>示例代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//向arr数组的末尾追加元素，</span></span><br><span class="line">arr.<span class="title function_">push</span>(<span class="string">&#x27;lemon&#x27;</span>, <span class="string">&#x27;cucumber&#x27;</span>);</span><br><span class="line"><span class="title function_">alert</span>(arr);</span><br><span class="line"><span class="comment">//push()方法会返回新数组的长度</span></span><br></pre></td></tr></table></figure>

<p>也可以使用 length 属性向数组添加新元素：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fruits = [<span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Mango&quot;</span>];</span><br><span class="line">fruits[fruits.<span class="property">length</span>] = <span class="string">&quot;Lemon&quot;</span>;     <span class="comment">// 向 fruits 添加一个新元素 (Lemon)</span></span><br><span class="line"><span class="comment">//添加具有高索引的元素会在数组中创建未定义的undefined</span></span><br><span class="line">fruits[<span class="number">10</span>] = <span class="string">&quot;Lemon&quot;</span>;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>在第一位添加unshift()；</li>
</ol>
<p>示例代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//向arr数组的第一位添加元素，</span></span><br><span class="line">arr.<span class="title function_">unshift</span>(<span class="string">&#x27;peach&#x27;</span>, <span class="string">&#x27;pear&#x27;</span>); <span class="comment">//返回新数组的长度。</span></span><br><span class="line"><span class="title function_">alert</span>(arr);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>在指定位置添加splice();</li>
</ol>
<p>示例代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">///从数组中添加/删除项目，然后返回被删除的项目,如果有的话。</span></span><br><span class="line">arr.<span class="title function_">splice</span>(<span class="number">3</span>,<span class="number">0</span>,<span class="string">&#x27;元素1&#x27;</span>,<span class="string">&#x27;元素2&#x27;</span>); </span><br><span class="line"><span class="title function_">alert</span>(arr);</span><br><span class="line"><span class="comment">//arrayObject.splice(index,howmany,item1,.....,itemX)</span></span><br><span class="line"><span class="comment">//index 必需。整数，规定添加/删除项目的位置，使用负数可从数组结尾处规定位置。</span></span><br><span class="line"><span class="comment">//howmany 必需。要删除的项目数量。如果设置为 0，则不会删除项目。</span></span><br></pre></td></tr></table></figure>

<ul>
<li>pop() 方法从数组中删除最后一个元素：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fruits = [<span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Mango&quot;</span>];</span><br><span class="line">fruits.<span class="title function_">pop</span>();              <span class="comment">// 从 fruits 删除最后一个元素（&quot;Mango&quot;）</span></span><br></pre></td></tr></table></figure>

<ul>
<li>pop() 方法返回被删除的值：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fruits = [<span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Mango&quot;</span>];</span><br><span class="line"><span class="keyword">var</span> x = fruits.<span class="title function_">pop</span>();      <span class="comment">// x 的值是 &quot;Mango&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>shift() 方法会删除首个数组元素，</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fruits = [<span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Mango&quot;</span>];</span><br><span class="line">fruits.<span class="title function_">shift</span>();            <span class="comment">// 从 fruits 删除第一个元素 &quot;Banana&quot;</span></span><br><span class="line"><span class="comment">//shift() 方法返回被删除的字符串即 返回 &quot;Banana&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>删除元素<br>既然 JavaScript 数组属于对象，其中的元素就可以使用 JavaScript delete 运算符来删除：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fruits = [<span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Mango&quot;</span>];</span><br><span class="line"><span class="keyword">delete</span> fruits[<span class="number">0</span>];           <span class="comment">// 把 fruits 中的首个元素改为 undefined</span></span><br><span class="line"><span class="comment">//用 delete 会在数组留下未定义的空洞。请使用 pop() 或 shift() 取而代之。</span></span><br><span class="line"><span class="comment">//原型中声明的属性和对象自带的属性无法被删除；</span></span><br><span class="line"><span class="comment">//通过var声明的变量和通过function声明的函数拥有dontdelete特性，是不能被删除。</span></span><br></pre></td></tr></table></figure>

<p>使用 splice() 来删除元素</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过聪明的参数设定，您能够使用 splice() 在数组中不留“空洞”的情况下移除元素：</span></span><br><span class="line"><span class="keyword">var</span> fruits = [<span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Mango&quot;</span>];</span><br><span class="line">fruits.<span class="title function_">splice</span>(<span class="number">0</span>, <span class="number">1</span>);        <span class="comment">// 删除 fruits 中的第一个元素</span></span><br></pre></td></tr></table></figure>

<ul>
<li>拼接数组<br>splice() 方法可用于向数组添加新项：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fruits = [<span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Mango&quot;</span>];</span><br><span class="line">fruits.<span class="title function_">splice</span>(<span class="number">2</span>, <span class="number">0</span>, <span class="string">&quot;Lemon&quot;</span>, <span class="string">&quot;Kiwi&quot;</span>);</span><br><span class="line"><span class="comment">//第一个参数（2）定义了应添加新元素的位置（拼接）。</span></span><br><span class="line"><span class="comment">//第二个参数（0）定义应删除多少元素。</span></span><br><span class="line"><span class="comment">//其余参数（“Lemon”，“Kiwi”）定义要添加的新元素。</span></span><br><span class="line"><span class="comment">//splice() 方法返回一个包含已删除项的数组：</span></span><br></pre></td></tr></table></figure>

<ul>
<li>concat() 方法通过合并（连接）现有数组来创建一个新数组：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myGirls = [<span class="string">&quot;Cecilie&quot;</span>, <span class="string">&quot;Lone&quot;</span>];</span><br><span class="line"><span class="keyword">var</span> myBoys = [<span class="string">&quot;Emil&quot;</span>, <span class="string">&quot;Tobias&quot;</span>, <span class="string">&quot;Linus&quot;</span>];</span><br><span class="line"><span class="keyword">var</span> myChildren = myGirls.<span class="title function_">concat</span>(myBoys,<span class="string">&quot;jjjj&quot;</span>,<span class="number">11</span>);   <span class="comment">// 连接 myGirls 和 myBoys,&quot;jjj&quot;等</span></span><br><span class="line"><span class="comment">//concat() 方法不会更改现有数组。它总是返回一个新数组。</span></span><br><span class="line"><span class="comment">//concat() 方法可以使用任意数量的数组参数：</span></span><br></pre></td></tr></table></figure>

<ul>
<li>join() 方法</li>
</ul>
<p>会将数组内的所有元素结合为一个字符串。当然您还可以规定分隔符(默认以逗号分割)：<code>array.join(&quot;,&quot;)</code></p>
<ul>
<li>裁剪数组<br>slice(start,end) 方法用数组的某个片段切出新数组。原数组不会发生改变</li>
</ul>
<p>本例从数组元素 1 （”Orange”）开始切出一段数组：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fruits = [<span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Lemon&quot;</span>, <span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Mango&quot;</span>];</span><br><span class="line"><span class="keyword">var</span> citrus = fruits.<span class="title function_">slice</span>(<span class="number">1</span>);  <span class="comment">//默认到结尾</span></span><br></pre></td></tr></table></figure>

<ul>
<li>sort() 方法以字母顺序对数组进行排序：</li>
</ul>
<p>该函数很适合字符串（”Apple” 会排在 “Banana” 之前）。</p>
<p>不过，如果数字按照字符串来排序，则 “25” 大于 “100”，因为 “2” 大于 “1”。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fruits = [<span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Mango&quot;</span>];</span><br><span class="line">fruits.<span class="title function_">sort</span>();            <span class="comment">// 对 fruits 中的元素进行排序</span></span><br></pre></td></tr></table></figure>

<p>sort() 方法在对数值排序时会产生不正确的结果。</p>
<p>我们通过一个比值函数来修正此问题：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> points = [<span class="number">40</span>, <span class="number">100</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">25</span>, <span class="number">10</span>];</span><br><span class="line">points.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">a, b</span>)&#123;<span class="keyword">return</span> a - b&#125;); </span><br><span class="line"><span class="comment">//比值函数</span></span><br><span class="line"><span class="comment">//比较函数的目的是定义另一种排序顺序。</span></span><br><span class="line"><span class="comment">//比较函数应该返回一个负，零或正值，这取决于参数：</span></span><br><span class="line"><span class="comment">//function(a, b)&#123;return a-b&#125;</span></span><br><span class="line"><span class="comment">//当 sort() 函数比较两个值时，会将值发送到比较函数，并根据所返回的值（负、零或正值）对这些值进行排序。</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>对数组使用 Math.max()<br>您可以使用 Math.max.array 来查找数组中的最高值;或使用 Math.min.apply 来查找数组中的最低值</p>
</li>
<li><p>反转数组<br>reverse() 方法反转数组中的元素。</p>
</li>
</ul>
<p>您可以使用它以降序对数组进行排序：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fruits = [<span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Mango&quot;</span>];</span><br><span class="line">fruits.<span class="title function_">sort</span>();            <span class="comment">// 对 fruits 中的元素进行排序</span></span><br><span class="line">fruits.<span class="title function_">reverse</span>();         <span class="comment">// 反转元素顺序</span></span><br></pre></td></tr></table></figure>

<p>小程序查看对象中是否包含某个属性—–hasOwnProperty</p>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><ul>
<li>声明<br>在函数中，声明的参数是局部变量。只能在函数内访问。局部变量在函数开始时创建，在函数完成时被删除。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数关键字声明</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span>(<span class="params"></span>)&#123;<span class="comment">//具名函数</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;xxxxxxxxx&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数表达式声明</span></span><br><span class="line"><span class="keyword">var</span> b=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="comment">//匿名函数</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//function 函数名（形参1，形参2...）&#123;//形参即形式上的参数&#125;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">b</span>(<span class="params">n</span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">b</span>(<span class="string">&#x27;xxx&#x27;</span>);</span><br><span class="line"><span class="comment">//实参与形参个数一致时，正常输出</span></span><br><span class="line"><span class="comment">//实参小于形参时，多余的形参可看作不用声明的变量，结果为undefined</span></span><br><span class="line"><span class="comment">//实参多于形参时，只取到形参的个数</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数的返回值</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">c</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">return</span> 返回的内容；</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> n=<span class="title function_">c</span>();</span><br><span class="line"><span class="comment">//return 之后的代码不会执行；</span></span><br><span class="line"><span class="comment">//return只返回一个值，且只返回最后一个值。</span></span><br><span class="line"><span class="comment">//return可返回数组，字符串，</span></span><br><span class="line"><span class="comment">//如果没有return则返回undefind</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//###########</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">34</span>,<span class="number">9</span>);</span><br><span class="line"><span class="comment">//arguments里储存了所有传过来的实参，它是一个伪数组，具有length属性，可用索引的方式遍历，但不具有数组的push，pop等方法</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">写在这的代码会在整个页面加载完后再运行</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//简化写法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">$</span>(<span class="params">id</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">document</span>.<span class="title function_">getElenmentById</span>(id);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> text=$(<span class="string">&quot;button&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>递归</li>
</ul>
<p>函数自己调用自己，一般情况下有参数，有return</p>
<ol>
<li>首先找到临界值，即无需计算获得的值；</li>
<li>找到这一次和上一次的关系</li>
<li>假设当前函数已经可以使用，调用自身计算上一次。</li>
</ol>
<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><ul>
<li>JavaScript 变量的有效期</li>
</ul>
<p>JavaScript 变量的有效期始于其被创建时。<br>局部变量会在函数完成时被删除。<br>全局变量会在您关闭页面是被删除。</p>
<p>函数参数也是函数内的局部变量。<br>在 HTML 中，全局作用域是 window。所有全局变量均属于 window 对象。<br>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> carName = <span class="string">&quot;porsche&quot;</span>;</span><br><span class="line"><span class="comment">// 此处的代码能够使用 window.carName</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>JavaScript 声明会被提升<br>在 JavaScript 中，可以在使用变量之后对其进行声明。<br>换句话说，可以在声明变量之前使用它。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//js中没有块级作用域，如&#123;&#125; if&#123;&#125; for&#123;&#125;，只有全局作用域和局部作用域</span></span><br><span class="line"><span class="comment">//作用域链：内部函数访问外部函数变量，采用的是链式查找方式来取值的，其采取就近原则</span></span><br><span class="line"><span class="keyword">var</span> num=<span class="number">10</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span> ()&#123;</span><br><span class="line"><span class="keyword">var</span> num=<span class="number">20</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fun</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num) <span class="comment">//结果为20</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="title function_">fun</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//js引擎运行分两步</span></span><br><span class="line"><span class="comment">//预解析:js引擎会把js里的所有var， function提升到当前作用域的最前面，但不提升赋值操作</span></span><br><span class="line"><span class="comment">//代码执行：顺序从上往下执行</span></span><br><span class="line"><span class="title function_">fun</span>();</span><br><span class="line"><span class="keyword">var</span> fun=<span class="keyword">function</span>(<span class="params"></span>)&#123;xxx&#125;;<span class="comment">//会报错</span></span><br><span class="line"><span class="comment">//-------------</span></span><br><span class="line"><span class="title function_">fun</span>();</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fun</span>(<span class="params"></span>)&#123;xxx&#125;<span class="comment">//正常运行</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//预编译:创建AO对象;找已声明的变量,值都是undefined;实参形参值相等;找函数声明，会覆盖形参的值</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a,c</span>)&#123;</span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(c); <span class="comment">//2</span></span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">//function a()</span></span><br><span class="line"> <span class="keyword">function</span> <span class="title function_">a</span>(<span class="params"></span>)&#123; &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">var</span> a=<span class="number">12</span>;</span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(a);  <span class="comment">//12</span></span><br><span class="line"></span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(b);  <span class="comment">//undefined</span></span><br><span class="line"> <span class="keyword">var</span> b=<span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(b);  <span class="comment">//function b()</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>JavaScript 初始化不会被提升<br>JavaScript 只提升声明，而非初始化。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">5</span>; <span class="comment">// 初始化 x</span></span><br><span class="line">elem = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>); <span class="comment">// 查找元素</span></span><br><span class="line">elem.<span class="property">innerHTML</span> = x + <span class="string">&quot; &quot;</span> + y;           <span class="comment">// 显示 x 和 y</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> y = <span class="number">7</span>; <span class="comment">// 初始化 y</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="ES6-中的一些新特性"><a href="#ES6-中的一些新特性" class="headerlink" title="ES6 中的一些新特性"></a>ES6 中的一些新特性</h2><ul>
<li>JavaScript let</li>
<li>JavaScript const</li>
<li>幂 (**)</li>
<li>默认参数值</li>
<li>Array.find()<br>在数组中查找符合条件的元素，只要找到一个符合条件的元素，就终止遍历，返回值为找到的元素。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">45</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> res=arr.<span class="title function_">find</span>(<span class="keyword">function</span>(<span class="params">item,idex,array</span>)&#123;</span><br><span class="line"><span class="comment">//查找条件</span></span><br><span class="line"><span class="keyword">return</span> item&gt;<span class="number">5</span>;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>Array.findIndex()</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">array.<span class="title function_">findIndex</span>(<span class="function"><span class="params">item</span>=&gt;</span>item&gt;<span class="number">20</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>Array.copyWithin()</li>
</ul>
<blockquote>
<p>es6<br>第一个参数：从哪个下标开始<br>第二第三个参数：开始与结束的范围<code>[start,end)</code><br>把范围里的元素从第一个参数开始覆盖。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">3</span>];</span><br><span class="line">arr.<span class="title function_">copyWithin</span>(<span class="number">2</span>,<span class="number">5</span>,<span class="number">7</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>Object.assign();合并对象(es6)</li>
</ul>
<p>将所有传入的对象都合并到第一个对象里。浅拷贝，</p>
<ul>
<li>let 和 const 关键字(es6)<br>用 let 或 const 声明的变量和常量不会被提升！遇到大括号就形成作用域。</li>
</ul>
<blockquote>
<p>全局（在函数之外）声明的变量拥有全局作用域。<br>局部（函数内）声明的变量拥有函数作用域。</p>
</blockquote>
<p>通过 var 关键词声明的变量没有块作用域。将变量或者形参所在函数的大括号作为作用域处理。<br>在块 {} 内声明的变量可以从块之外进行访问。</p>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">var</span> x = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 此处可以使用 x</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在 ES2015 之前，JavaScript 是没有块作用域的。</p>
<p>可以使用 let 关键词声明拥有块作用域的变量。</p>
<p>在块 {} 内声明的变量无法从块外访问：</p>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> x = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 此处不可以使用 x</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>重新声明变量</li>
</ul>
<p>使用 var 关键字重新声明变量会带来问题。</p>
<p>在块中重新声明变量也将重新声明块外的变量：</p>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">10</span>;</span><br><span class="line"><span class="comment">// 此处 x 为 10</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">var</span> x = <span class="number">6</span>;</span><br><span class="line">  <span class="comment">// 此处 x 为 6</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 此处 x 为 6</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>使用 let 关键字重新声明变量可以解决这个问题。</p>
<p>在块中重新声明变量不会重新声明块外的变量：</p>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">10</span>;</span><br><span class="line"><span class="comment">// 此处 x 为 10</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> x = <span class="number">6</span>;</span><br><span class="line">  <span class="comment">// 此处 x 为 6</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 此处 x 为 10</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Internet Explorer 11 或更早的版本不完全支持 let 关键词。</p>
</blockquote>
<ul>
<li>var 与let 区别</li>
</ul>
<p>通过 var 关键词定义的全局变量属于 window 对象<br>通过 let 关键词定义的全局变量不属于 window 对象<br>允许在程序的任何位置使用 var 重新声明 JavaScript 变量<br>在相同的作用域，或在相同的块中，通过 let 重新声明一个 var 变量是不允许的<br>在相同的作用域，或在相同的块中，通过 let 重新声明一个 let 变量是不允许的<br>在相同的作用域，或在相同的块中，通过 var 重新声明一个 let 变量是不允许的<br>在不同的作用域或块中，通过 let 重新声明变量是允许的<br>通过 var 声明的变量会提升到顶端<br>通过 let 定义的变量不会被提升到顶端</p>
<ul>
<li>const常量</li>
</ul>
<p>通过 const 定义的变量与 let 变量类似，但不能重新赋值;<br>const 变量必须在声明时赋值,<br>const 变量不能在声明之前使用,不能重复声明</p>
<ul>
<li>但常量对象是可以更改</li>
</ul>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 您可以创建 const 对象：</span></span><br><span class="line"><span class="keyword">const</span> car = &#123;<span class="attr">type</span>:<span class="string">&quot;porsche&quot;</span>, <span class="attr">model</span>:<span class="string">&quot;911&quot;</span>, <span class="attr">color</span>:<span class="string">&quot;Black&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 您可以更改属性：</span></span><br><span class="line">car.<span class="property">color</span> = <span class="string">&quot;White&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 您可以添加属性：</span></span><br><span class="line">car.<span class="property">owner</span> = <span class="string">&quot;Bill&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>但是您无法重新为常量对象赋值：</p>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> car = &#123;<span class="attr">type</span>:<span class="string">&quot;porsche&quot;</span>, <span class="attr">model</span>:<span class="string">&quot;911&quot;</span>, <span class="attr">color</span>:<span class="string">&quot;Black&quot;</span>&#125;;</span><br><span class="line">car = &#123;<span class="attr">type</span>:<span class="string">&quot;Volvo&quot;</span>, <span class="attr">model</span>:<span class="string">&quot;XC60&quot;</span>, <span class="attr">color</span>:<span class="string">&quot;White&quot;</span>&#125;;    <span class="comment">// ERROR</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>同理常量数组可以更改；但是您无法重新为常量数组赋值<br>在同一作用域或块中，不允许将已有的 var 或 let 变量重新声明或重新赋值给 const;<br>在同一作用域或块中，为已有的 const 变量重新声明声明或赋值是不允许的;<br>在另外的作用域或块中重新声明 const 是允许的：</p>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> x = <span class="number">2</span>;       <span class="comment">// 允许</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">const</span> x = <span class="number">3</span>;   <span class="comment">// 允许</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">const</span> x = <span class="number">4</span>;   <span class="comment">// 允许</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Internet Explorer 10 或更早版本不支持 const 关键词。</p>
</blockquote>
<ul>
<li>声明严格模式</li>
</ul>
<p>通过在脚本或函数的开头添加 “use strict”; 来声明严格模式。(浏览器低版本不兼容)<br>在脚本开头进行声明，拥有全局作用域（脚本中的所有代码均以严格模式来执行）：<br>在函数中声明严格模式，拥有局部作用域（只有函数中的代码以严格模式执行）</p>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line">x = <span class="number">3.14</span>;       <span class="comment">// 这会引发错误，因为 x 尚未声明</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>严格模式中不允许的事项：<br>在不声明变量的情况下使用变量，是不允许的;<br>在不声明对象的情况下使用对象也是不允许的：<br>删除变量（或对象）是不允许的<code>delete:x;</code><br>删除函数是不允许的,重复参数名是不允许的,八进制数值文本是不允许的,转义字符是不允许的写入只读属性是不允许的,写入只能获取的属性是不允许的,删除不可删除的属性是不允许的,字符串 “eval” 不可用作变量,字符串 “arguments” 不可用作变量,with 语句是不允许的,处于安全考虑，不允许 eval() 在其被调用的作用域中创建变量,在类似 f() 的函数调用中，this 的值是全局对象。在严格模式中，现在它成为了 undefined。</li>
</ul>
<h3 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//利用对象字面量创建对象&#123;&#125;</span></span><br><span class="line"><span class="keyword">var</span> obj=&#123;&#125;; <span class="comment">//创建了一个空的对象</span></span><br><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line"><span class="attr">username</span>:<span class="string">&#x27;张山&#x27;</span>,</span><br><span class="line"><span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line"><span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span>,</span><br><span class="line"><span class="attr">hi</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello!!!!!!!!!!!!!!&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//#################</span></span><br><span class="line"><span class="comment">//利用new Object 创建对象</span></span><br><span class="line"><span class="keyword">var</span> obj1= <span class="keyword">new</span> <span class="title class_">Object</span>();<span class="comment">//创建一个空对象,可省略new</span></span><br><span class="line">obj1.<span class="property">username</span>=<span class="string">&#x27;张山&#x27;</span>;</span><br><span class="line">obj1.<span class="property">age</span>= <span class="number">18</span>;</span><br><span class="line">obj1.<span class="property">sex</span>=<span class="string">&#x27;男&#x27;</span>;</span><br><span class="line">obj1.<span class="property">hi</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello!!!!!!!!!!!!!!&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//里面的属性或方法，采用键值对的形式-&gt;  属性名： 属性值</span></span><br><span class="line"><span class="comment">//多个属性或方法中间用逗号隔开</span></span><br><span class="line"><span class="comment">//方法冒号后面跟的是一个匿名函数</span></span><br><span class="line"><span class="comment">//##################################</span></span><br><span class="line"><span class="comment">//调用对象的属性，采用 对象名.属性名</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">uname</span>);</span><br><span class="line"><span class="comment">//或者 对象名[&#x27;属性名&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1[<span class="string">&#x27;age&#x27;</span>]);</span><br><span class="line"><span class="comment">//调用对象的方法-&gt; 对象名.方法名</span></span><br><span class="line">obj1.<span class="title function_">hi</span>();</span><br><span class="line"><span class="comment">//如果您不使用 () 访问 fullName 方法，则将返回函数的具体内容</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//##############################</span></span><br><span class="line"><span class="comment">//遍历对象</span></span><br><span class="line"><span class="comment">//for(变量 in 对象)&#123;&#125;</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> obj)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(k);  </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//################################</span></span><br><span class="line"><span class="comment">//利用构造函数创建对象</span></span><br><span class="line"><span class="comment">//function 构造函数名()&#123;</span></span><br><span class="line"><span class="comment">//this.属性名=值;</span></span><br><span class="line"><span class="comment">//this.方法名=function()&#123;&#125;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">// new 构造函数名();</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params">username,age,sex</span>)&#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">name</span>=username;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">age</span>=age;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">sex</span>=sex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;刘德华&#x27;</span>,<span class="number">58</span>,<span class="string">&#x27;男&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>箭头函数（Arrow Function）<br>箭头函数允许使用简短的语法来编写函数表达式。</li>
</ul>
<p>您不需要 function 关键字、return 关键字以及花括号。</p>
<blockquote>
<p>注意:箭头函数不能用new，如果返回值是一个对象，一定要加（）；箭头函数中的this，指向的是上层函数的主人；</p>
</blockquote>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> x = <span class="keyword">function</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">   <span class="keyword">return</span> x *y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//多个参数，有返回值</span></span><br><span class="line"><span class="keyword">var</span>  <span class="title function_">x</span> = (<span class="params">x, y</span>) =&gt; x* y;</span><br><span class="line"><span class="comment">//或</span></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">x</span>=(<span class="params">x,Y</span>)=&gt;&#123;</span><br><span class="line">reruen x*y;</span><br><span class="line">&#125;</span><br><span class="line">--------------------</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> x+<span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//一个参数，有返回值</span></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">add</span>=x=&gt;x+<span class="number">10</span>;</span><br><span class="line"><span class="title function_">add</span>(<span class="number">5</span>);</span><br><span class="line"><span class="comment">//或</span></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">add</span>=x=&gt;&#123;</span><br><span class="line"><span class="keyword">return</span> x+<span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line">--------------------</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">show</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//无参数，无返回值</span></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">show</span>=(<span class="params"></span>)=&gt;&#123;</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">--------------------</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">xxx</span>(<span class="params">num</span>)&#123;</span><br><span class="line"><span class="title function_">alert</span>(num);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//有一个参数，无返回值</span></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">xxx</span>=num=&gt;&#123;</span><br><span class="line"><span class="title function_">alert</span>(num);</span><br><span class="line">&#125;</span><br><span class="line">----------------</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">show</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">return</span> &#123;<span class="attr">name</span>:<span class="string">&#x27;xxx&#x27;</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//返回对象</span></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">show</span>=(<span class="params"></span>)=&gt;(&#123;..&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>箭头功能没有自己的 this。它们不适合定义对象方法。<br>箭头功能未被提升。它们必须在使用前进行定义。</p>
<p>使用 const 比使用 var 更安全，因为函数表达式始终是常量值。<br>如果函数是单个语句，则只能省略 return 关键字和花括号。因此，保留它们可能是一个好习惯：</p>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">x</span> = (<span class="params">x, y</span>) =&gt; &#123; <span class="keyword">return</span> x * y &#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="内置对象-如同内置函数）如-Math、-Date、-Array、-String、"><a href="#内置对象-如同内置函数）如-Math、-Date、-Array、-String、" class="headerlink" title="内置对象(如同内置函数）如:Math、 Date、 Array、 String、"></a>内置对象(如同内置函数）如:Math、 Date、 Array、 String、</h4><p>Math对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="title class_">Math</span>.<span class="property">PI</span>  <span class="comment">//圆周率</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">abs</span>() <span class="comment">//求绝对值</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">max</span>() <span class="comment">//求最大</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">min</span>() <span class="comment">//求最小值</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">pow</span>(x,y)  <span class="comment">//x的y次幂</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">round</span>() <span class="comment">//四舍五入</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">random</span>() <span class="comment">//获取随机数</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">ceil</span>() <span class="comment">// 向上取整,有小数就整数部分加1</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">floor</span>() <span class="comment">// 向下取整,丢弃小数部分</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>获取当前时间</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//时间对象是静态的</span></span><br><span class="line"><span class="comment">//必须实例化</span></span><br><span class="line"><span class="keyword">var</span> nowdate=<span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nowdate);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//############</span></span><br><span class="line"><span class="comment">//Date()构造函数的参数</span></span><br><span class="line"><span class="comment">//自定义日期格式</span></span><br><span class="line"><span class="keyword">var</span> nowdate=<span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&quot;2020-2-22&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//日期格式化</span></span><br><span class="line"><span class="comment">//getFUllYear() //年</span></span><br><span class="line"><span class="comment">//getMonth()  //月</span></span><br><span class="line"><span class="comment">//getDate() //天</span></span><br><span class="line"><span class="comment">//getDay() //星期（周日0到周六6）</span></span><br><span class="line"><span class="comment">//getHours()</span></span><br><span class="line"><span class="comment">//getMinutes()</span></span><br><span class="line"><span class="comment">//getSeconds()</span></span><br><span class="line"><span class="keyword">var</span> date= <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(date.<span class="title function_">getHours</span>());</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//封装一个获取时间的方法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">gettime</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">var</span> time = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="keyword">var</span> h=time.<span class="title function_">getHours</span>();</span><br><span class="line">h= h&lt;<span class="number">10</span> ? <span class="string">&quot;0&quot;</span>+h : h;  <span class="comment">//小于10前面添加0</span></span><br><span class="line"><span class="keyword">var</span> m=time.<span class="title function_">getMinutes</span>();</span><br><span class="line"><span class="keyword">var</span> s=<span class="title function_">getSeconds</span>();</span><br><span class="line"><span class="keyword">return</span> h +<span class="string">&#x27;:&#x27;</span>+ m +<span class="string">&#x27;:&#x27;</span>+ s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">gettime</span>());</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//######################</span></span><br><span class="line"><span class="comment">//获取Date总毫秒数，距离1970.1.1的总毫秒数</span></span><br><span class="line"><span class="keyword">var</span> date= <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(date.<span class="title function_">valueOf</span>());</span><br><span class="line"><span class="comment">//或</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(date.<span class="title function_">getTime</span>());</span><br><span class="line"><span class="comment">//或</span></span><br><span class="line"><span class="keyword">var</span> date1= +<span class="keyword">new</span> <span class="title class_">Date</span>();  <span class="comment">//常用</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(date1);</span><br><span class="line"><span class="comment">//或</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>()); <span class="comment">//H5新增</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>js 时分秒转化为秒</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> time = <span class="string">&#x27;00:02:10&#x27;</span>;</span><br><span class="line">          <span class="keyword">var</span> hour = time.<span class="property">split</span>[<span class="string">&#x27;:&#x27;</span>](<span class="number">0</span>);</span><br><span class="line">          <span class="keyword">var</span> min = time.<span class="property">split</span>[<span class="string">&#x27;:&#x27;</span>](<span class="number">1</span>);</span><br><span class="line">          <span class="keyword">var</span> sec = time.<span class="property">split</span>[<span class="string">&#x27;:&#x27;</span>](<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">          s = <span class="title class_">Number</span>(hour*<span class="number">3600</span>) + <span class="title class_">Number</span>(min*<span class="number">60</span>) + <span class="title class_">Number</span>(sec);</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(s);<span class="comment">//130</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>设置日期对象的日期值</li>
</ul>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>setDate()</td>
<td>以数值（1-31）设置日</td>
</tr>
<tr>
<td>setFullYear()</td>
<td>设置年（可选月和日）</td>
</tr>
<tr>
<td>setHours()</td>
<td>设置小时（0-23）</td>
</tr>
<tr>
<td>setMilliseconds()</td>
<td>设置毫秒（0-999）</td>
</tr>
<tr>
<td>setMinutes()</td>
<td>设置分（0-59）</td>
</tr>
<tr>
<td>setMonth()</td>
<td>设置月（0-11）</td>
</tr>
<tr>
<td>setSeconds()</td>
<td>设置秒（0-59）</td>
</tr>
<tr>
<td>setTime()</td>
<td>设置时间（从 1970 年 1 月 1 日至今的毫秒数）</td>
</tr>
</tbody></table>
<p>setFullYear() 方法设置日期对象的年份。这个例子设置为 2020 年：</p>
<p>实例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="title class_">Date</span>();</span></span><br><span class="line"><span class="language-javascript">d.<span class="title function_">setFullYear</span>(<span class="number">2020</span>);</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">innerHTML</span> = d;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>比较日期</li>
</ul>
<p>日期可以很容易地进行比较。</p>
<p>下面的例子把今日与 2049 年 1 月 16 日进行比较：</p>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> today, someday, text;</span><br><span class="line">today = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">someday = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">someday.<span class="title function_">setFullYear</span>(<span class="number">2049</span>, <span class="number">0</span>, <span class="number">16</span>);</span><br><span class="line"><span class="keyword">if</span> (someday &gt; today) &#123;</span><br><span class="line">  text = <span class="string">&quot;今天在 2049 年 1 月 16 日之前&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  text = <span class="string">&quot;今天在 2049 年 1 月 16 日之后&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">innerHTML</span> = text;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h3><ul>
<li><p>setInterval(“函数”，毫秒数);<br>每隔对应的毫秒执行一次传入的函数;<br>返回值为：系统给启动定时器分配的编号；</p>
</li>
<li><p>clearInterval(定时器编号);<br>取消定时器</p>
</li>
</ul>
<h3 id="延时器"><a href="#延时器" class="headerlink" title="延时器"></a>延时器</h3><pre><code>只执行一次
</code></pre>
<ul>
<li>创建延时器<br>  <code>window.setTimeout(函数类型，延迟时间)</code><br>  返回值timeoutID是一个正整数，表示定时器的编号需要注意的是setTimeout()和setInterval()共用一个编号池，技术上，clearTimeout()和 clearInterval() 可以互换。但是，为了避免混淆，不要混用取消定时函数。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> timer1=<span class="variable language_">window</span>.<span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>)&#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;你好啊！！！&quot;</span>);</span><br><span class="line">            &#125;,<span class="number">3000</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>清除延时器</li>
</ul>
<p><code>window.clearTimeout(延时器名称)</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params"></span>)&#123;</span><br><span class="line">                <span class="comment">//清除延时器</span></span><br><span class="line">                <span class="variable language_">window</span>.<span class="built_in">clearTimeout</span>(timer1);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="JS-this-关键词指的是它所属的对象"><a href="#JS-this-关键词指的是它所属的对象" class="headerlink" title="JS this 关键词指的是它所属的对象"></a>JS this 关键词指的是它所属的对象</h3><p>它拥有不同的值，具体取决于它的使用位置：</p>
<ul>
<li>在方法中，this 指的是所有者对象。</li>
</ul>
<p>在对象方法中，this 指的是此方法的“拥有者”。<br>在本页最上面的例子中，this 指的是 person 对象。<br>person 对象是 fullName 方法的拥有者。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&quot;Bill&quot;</span>,</span><br><span class="line">  lastName : <span class="string">&quot;Gates&quot;</span>,</span><br><span class="line">  id       : <span class="number">678</span>,</span><br><span class="line">fullName : <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>单独的情况下，this 指的是全局对象。</li>
</ul>
<p>在单独使用时，拥有者是全局对象，因此 this 指的是全局对象。<br>在浏览器窗口中，全局对象是 [object Window]：</p>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> x = <span class="variable language_">this</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在严格模式中，如果单独使用，那么 this 指的是全局对象 [object Window]</p>
<ul>
<li>在函数中，this 指的是全局对象。</li>
</ul>
<p>在 JavaScript 函数中，函数的拥有者默认绑定 this。<br>因此，在函数中，this 指的是全局对象 [object Window]。</p>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>箭头函数没有自己的this，其中的this指的是window全局对象</p>
<p>在函数中使用时，在严格模式下，this 是未定义的（undefined）</p>
<ul>
<li>在事件中，this 指的是接收事件的元素。</li>
</ul>
<p>在 HTML 事件处理程序中，this 指的是接收此事件的 HTML 元素：</p>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;button onclick=<span class="string">&quot;this.style.display=&#x27;none&#x27;&quot;</span>&gt;</span><br><span class="line">  点击来删除我！</span><br><span class="line">&lt;/button&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>像 call() 和 apply() 这样的方法可以将 this 引用到任何对象。</p>
<ul>
<li><p>call<br>格式：函数名.call();<br>参数：第一个参数：传入该函数this指向的对象，传入什么强制指向什么。<br>  第二参数开始：将原函数的参数往后顺延一位。</p>
</li>
<li><p>apply<br>格式：函数名.apply()<br>参数：第一个参数：传入该函数this指向的对象，传入什么强制指向什么。<br>  第二个参数：数组 其放入我们所有原来的参数。</p>
</li>
<li><p>bind预设this指向</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">show</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> res=show.<span class="title function_">bind</span>(<span class="string">&quot;bind&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br></pre></td></tr></table></figure>

<p>call() 和 apply() 方法是预定义的 JavaScript 方法。<br>它们都可以用于将另一个对象作为参数调用对象方法。<br>在下面的例子中，当使用 person2 作为参数调用 person1.fullName 时，this 将引用 person2，即使它是 person1 的方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person1 = &#123;</span><br><span class="line">  <span class="attr">fullName</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person2 = &#123;</span><br><span class="line">  <span class="attr">firstName</span>:<span class="string">&quot;Bill&quot;</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&quot;Gates&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line">person1.<span class="property">fullName</span>.<span class="title function_">call</span>(person2);  <span class="comment">// 会返回 &quot;Bill Gates&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="js错误"><a href="#js错误" class="headerlink" title="js错误"></a>js错误</h2><ul>
<li><p>try 语句使您能够测试代码块中的错误。</p>
</li>
<li><p>catch 语句允许您处理错误。</p>
</li>
<li><p>throw 语句允许您创建自定义错误。</p>
</li>
<li><p>finally 使您能够执行代码，在 try 和 catch 之后，无论结果如何。</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">     供测试的代码块</span><br><span class="line"> <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;直接允许&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"> <span class="keyword">catch</span>(err) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">     处理错误的代码块</span><br><span class="line"><span class="comment">//如果try中的代码无异常则不执行catch中的代码</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">finally</span> &#123;</span><br><span class="line">     无论 <span class="keyword">try</span> / <span class="keyword">catch</span> 结果如何都执行的代码块</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//----------------------------------</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> message, x;</span><br><span class="line">    message = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;message&quot;</span>);</span><br><span class="line">    message.<span class="property">innerHTML</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    x = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">value</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123; </span><br><span class="line">        <span class="keyword">if</span>(x == <span class="string">&quot;&quot;</span>) <span class="keyword">throw</span> <span class="string">&quot;是空的&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isNaN</span>(x)) <span class="keyword">throw</span> <span class="string">&quot;不是数字&quot;</span>;</span><br><span class="line">         x = <span class="title class_">Number</span>(x);</span><br><span class="line">        <span class="keyword">if</span>(x &gt;  <span class="number">10</span>) <span class="keyword">throw</span> <span class="string">&quot;太大&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span>(x &lt;  <span class="number">5</span>) <span class="keyword">throw</span> <span class="string">&quot;太小&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span>(err) &#123;</span><br><span class="line">        message.<span class="property">innerHTML</span> = <span class="string">&quot;错误：&quot;</span> + err + <span class="string">&quot;.&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">value</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="JavaScript-闭包"><a href="#JavaScript-闭包" class="headerlink" title="JavaScript 闭包"></a>JavaScript 闭包</h3><ul>
<li><p>闭包特点：</p>
<ol>
<li>函数嵌套函数</li>
<li>内部函数使用外部函数的形参和变量</li>
<li>被引用的形参和变量不会被内存回收</li>
</ol>
</li>
<li><p>好处：</p>
<ol>
<li>变量能常驻内存当中</li>
<li>避免全局变量污染</li>
<li>可以声明私有成员</li>
</ol>
</li>
</ul>
<p>JavaScript 变量属于本地或全局作用域。</p>
<p>全局变量能够通过闭包实现局部（私有）。<br>闭包指的是有权访问父作用域的函数，即使在父函数关闭之后</p>
<blockquote>
<p>拥有相同名称的全局变量和局部变量是不同的变量。修改一个，不会改变其他。不通过关键词 var 创建的变量总是全局的，即使它们在函数中创建。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> add = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;<span class="keyword">return</span> counter += <span class="number">1</span>;&#125;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="title function_">add</span>();</span><br><span class="line"><span class="title function_">add</span>();</span><br><span class="line"><span class="title function_">add</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 计数器目前是 3 </span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">第一次调用add()，相当于执行了function()&#123;return (++counter)&#125;一次；第二次调用add()，相当于又执行了function()&#123;return (++counter)&#125;一次；又由于function()&#123;return (++counter)&#125;是闭包，引用了其父函数的变量counter，所以在函数调用完毕counter依然存在，没有清零。</span></span><br><span class="line"><span class="comment">    而且只在第一次给add赋值时，将counter设置为0。以后每次调用add()，counter都自增一次，没有重置。也就是前文说的，父函数只执行一次，每次调用都只执行了子函数。</span></span><br><span class="line"><span class="comment">    这是为什么呢？因为只有执行下面这个函数，counter才重置。而这个函数只在第一次给add赋值时执行过一次。以后每次调用add()，都相当于调用function()&#123;return(++counter)&#125;。</span></span><br><span class="line"><span class="comment">    function()&#123;</span></span><br><span class="line"><span class="comment">       var counter = 0;</span></span><br><span class="line"><span class="comment">       return function()&#123;</span></span><br><span class="line"><span class="comment">          return (++counter);</span></span><br><span class="line"><span class="comment">       &#125;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> moduleA=(<span class="keyword">function</span>(<span class="params">mod</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> conut=<span class="number">10</span>; <span class="comment">//私有变量</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showA</span>(<span class="params"></span>)&#123; <span class="comment">//私有函数</span></span><br><span class="line">count+=<span class="number">20</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(count);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showB</span>(<span class="params"></span>)&#123;</span><br><span class="line">count*=<span class="number">10</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(count);</span><br><span class="line">&#125;</span><br><span class="line">mod.<span class="property">outA</span>=showA;</span><br><span class="line">mod.<span class="property">outB</span>=showB;</span><br><span class="line"><span class="comment">//对外暴露</span></span><br><span class="line"><span class="keyword">return</span> mod;</span><br><span class="line">&#125;)(moduleA||&#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> moduleA=(<span class="keyword">function</span>(<span class="params">mod</span>)&#123;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showC</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;jjjj&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">mod.<span class="property">outC</span>=showC;</span><br><span class="line"><span class="keyword">return</span> mod;</span><br><span class="line">&#125;)(moduleA||&#123;&#125;);</span><br><span class="line"></span><br><span class="line">mouleA.<span class="title function_">outA</span>();</span><br><span class="line">mouleA.<span class="title function_">outB</span>();</span><br><span class="line">mouleA.<span class="title function_">outC</span>();</span><br></pre></td></tr></table></figure>

<ul>
<li>立即执行函数写法</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> test=(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">var</span> c=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> m1=<span class="keyword">function</span>(<span class="params"></span>)&#123;xxxx&#125;;</span><br><span class="line"><span class="keyword">var</span> m2=<span class="keyword">function</span>(<span class="params"></span>)&#123;xxxx&#125;;</span><br><span class="line"><span class="keyword">return</span>&#123;</span><br><span class="line"><span class="attr">m1</span>:m1,</span><br><span class="line"><span class="attr">m2</span>:m2</span><br><span class="line">&#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<h4 id="模块化规范"><a href="#模块化规范" class="headerlink" title="模块化规范"></a>模块化规范</h4><ul>
<li><p>CommonJs规范(nodejs)</p>
</li>
<li><p>AMD规范：</p>
<ul>
<li>声明：</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">define</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="comment">//代码</span></span><br><span class="line"><span class="keyword">return</span>&#123;</span><br><span class="line"><span class="attr">outA</span>:showA,</span><br><span class="line"><span class="attr">outB</span>:showB</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>引用：（异步执行）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">&quot;moduleA.js&quot;</span>,<span class="keyword">function</span>(<span class="params">moduleA</span>)&#123;</span><br><span class="line">moduleA.<span class="title function_">putA</span>();</span><br><span class="line">moduleA.<span class="title function_">putB</span>();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>ECMA6</li>
</ul>
<p>moduleB.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导出</span></span><br><span class="line"><span class="keyword">export</span>=&#123;</span><br><span class="line">   <span class="attr">outA</span>:showA</span><br><span class="line">   <span class="attr">outB</span>:showB</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> age=<span class="string">&#x27;xx&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> name=<span class="string">&#x27;xx&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">sayName</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//导入</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123;age,sayName,name&#125; <span class="keyword">from</span> <span class="string">&quot;./moduleA.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">sayName</span>()</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>moduleA.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//默认导出</span></span><br><span class="line"><span class="keyword">let</span> obj=&#123;<span class="attr">name</span>:<span class="string">&#x27;xx&#x27;</span>,&#125;</span><br><span class="line"><span class="comment">//只能使用一次</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> obj</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//导入</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> moduleA <span class="keyword">from</span> <span class="string">&quot;./moduleB.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//或</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> * <span class="keyword">as</span> a <span class="keyword">from</span> <span class="string">&quot;./moduleB.js&quot;</span></span></span><br><span class="line"><span class="language-javascript">moduleA.<span class="title function_">outA</span>();</span></span><br><span class="line"><span class="language-javascript">moduleA.<span class="title function_">outB</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>JavaScript 性能</p>
<ol>
<li>减少循环中的活动</li>
<li>减少 DOM 访问<br>与其他 JavaScript 相比，访问 HTML DOM 非常缓慢</li>
<li>缩减 DOM 规模<br>请尽量保持 HTML DOM 中较少的元素数量。</li>
<li>避免不必要的变量</li>
<li>延迟 JavaScript 加载<br>请把脚本放在页面底部，使浏览器首先加载页面。</li>
<li>避免使用 with<br>请避免使用 with 关键词。它对速度有负面影响。它也将混淆 JavaScript 作用域。</li>
</ol>
</li>
<li><p>JavaScript JSON</p>
</li>
</ul>
<p>JSON 是存储和传输数据的格式。<br>JSON 格式仅仅是文本，它能够轻松地在服务器浏览器之间传输，并用作任何编程语言的数据格式。<br>JSON 语法衍生于 JavaScript 对象标记法语法:</p>
<ul>
<li>数据在名称/值对中</li>
<li>数据由逗号分隔</li>
<li>花括号容纳对象</li>
<li>方括号容纳数组</li>
</ul>
<p>JSON 的值不可以是以下数据类型之一：函数;日期;undefined.</p>
<p>把 JSON 文本转换为 JavaScript 对象<br>首先，创建包含 JSON 语法的 JavaScript 字符串：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text = <span class="string">&#x27;&#123; &quot;employees&quot; : [&#x27;</span> +</span><br><span class="line"><span class="string">&#x27;&#123; &quot;firstName&quot;:&quot;Bill&quot; , &quot;lastName&quot;:&quot;Gates&quot; &#125;,&#x27;</span> +</span><br><span class="line"><span class="string">&#x27;&#123; &quot;firstName&quot;:&quot;Steve&quot; , &quot;lastName&quot;:&quot;Jobs&quot; &#125;,&#x27;</span> +</span><br><span class="line"><span class="string">&#x27;&#123; &quot;firstName&quot;:&quot;Alan&quot; , &quot;lastName&quot;:&quot;Turing&quot; &#125; ]&#125;&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>然后，使用 JavaScript 的内建函数 JSON.parse() 来把这个字符串转换为 JavaScript 对象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(text);</span><br></pre></td></tr></table></figure>

<p>最后，请在您的页面中使用这个新的 JavaScript 对象：</p>
<p>实例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span>\<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">innerHTML</span> =</span></span><br><span class="line"><span class="language-javascript">obj.<span class="property">employees</span>[<span class="number">1</span>].<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + obj.<span class="property">employees</span>[<span class="number">1</span>].<span class="property">lastName</span>;</span></span><br><span class="line"><span class="language-javascript">&lt;/&gt; </span></span><br></pre></td></tr></table></figure>

<p>JSON 与 XML 的差异在于：</p>
<ul>
<li>JSON 不使用标签</li>
<li>JSON 更短</li>
<li>JSON 的读写速度更快</li>
<li>JSON 可使用数组</li>
</ul>
<p>最大的不同在于：</p>
<p>XML 必须使用 XML 解析器进行解析。而 JSON 可通过标准的 JavaScript 函数进行解析。</p>
<ul>
<li>JavaScript 表单验证<br>HTML 表单验证能够通过 JavaScript 来完成</li>
</ul>
<p>JavaScript 实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">validateForm</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="variable language_">document</span>.<span class="property">forms</span>[<span class="string">&quot;myForm&quot;</span>][<span class="string">&quot;fname&quot;</span>].<span class="property">value</span>;</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;必须填写姓名&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>该函数能够在表单提交时被调用：</p>
<p>HTML 表单实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;form name=<span class="string">&quot;myForm&quot;</span> action=<span class="string">&quot;action\_page\_post.php&quot;</span> onsubmit=<span class="string">&quot;return validateForm()&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">姓名：&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;fname&quot;</span>&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Submit&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h2><p>浏览器对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">window</span>:&#123;</span><br><span class="line"><span class="attr">document</span>:&#123;anchors,forms,images,links,location&#125;,</span><br><span class="line">frames,</span><br><span class="line">history,</span><br><span class="line">location,</span><br><span class="line">navigator,</span><br><span class="line">screen</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="window方法"><a href="#window方法" class="headerlink" title="window方法"></a>window方法</h3><ul>
<li>alert();弹出提示框</li>
<li>confirm();弹出带确认的提示框，点确认返回true，取消返回false</li>
<li>prompt(“tips”,”tips”);弹出带输入框的提示框，第一个参数为面板上的提示的内容，第二个为输入框里提示的内容</li>
<li>open();第一个参数的为跳转的url，第二个参数为新窗口的名字，第三个参数为设置打开窗口的属性；如width,height,top,left.</li>
</ul>
<p>history对象</p>
<p>window..history掌管的是当前窗口的历史记录（只要加载的url不一样就会产生不一样的历史记录）</p>
<p>属性：<br>history.length返回当前窗口的历史记录条数<br>方法：<br>history.back();返回上一条历史记录<br>history.forward()；前进下一条记录<br>history.go();跳转到（0为刷新，正整数为前进，负整数为后退）</p>
<h3 id="location"><a href="#location" class="headerlink" title="location"></a>location</h3><p>location—地址栏</p>
<p>方法：</p>
<ul>
<li><p>location.assign(url)<br>当前窗口跳转到该url</p>
</li>
<li><p>location.replace(url)</p>
</li>
</ul>
<p>在当前窗口替换成新的url</p>
<ul>
<li>location.reload()</li>
</ul>
<p>刷新当前窗口</p>
<ul>
<li>location.reload(true)</li>
</ul>
<p>不经过浏览器缓存，强制从服务器重载</p>
<hr>
<p><em>url:统一资源定位符</em><br><em>协议://IP（域名）//:端口号/路径/?查询字符串#锚点</em></p>
<ul>
<li>location.protocol</li>
</ul>
<p>查看协议<br>file:本地磁盘文件访问<br>http:<br>https:</p>
<ul>
<li>location.hostname</li>
</ul>
<p>查看主机名 IP</p>
<ul>
<li>location.port</li>
</ul>
<p>查看端口号(默认隐藏，无法查看)</p>
<p><code>hostname:port</code>可直接定位到当前使用的网络的程序</p>
<ul>
<li>location.pathname</li>
</ul>
<p>查看路径</p>
<ul>
<li>location.search</li>
</ul>
<p>查看字符串如<code>?name1=Tom&amp;name2=Tony</code></p>
<ul>
<li>location.hash</li>
</ul>
<p>查看锚点</p>
<ul>
<li>loaction.href</li>
</ul>
<p>查看整个url</p>
<h2 id="DOM（文档对象模型document-object-model）"><a href="#DOM（文档对象模型document-object-model）" class="headerlink" title="DOM（文档对象模型document object model）"></a>DOM（文档对象模型document object model）</h2><blockquote>
<p>用来提供一套操作网页内容的功能<br>HTML DOM 方法是您能够（在 HTML 元素上）执行的动作。<br>HTML DOM 属性是您能够设置或改变的 HTML 元素的值。<br>dom树：以树状结构，体现标签与标签之间的关系</p>
</blockquote>
<ul>
<li><p>通过这个对象模型，JavaScript 获得创建动态 HTML 的所有力量：</p>
<ul>
<li>JavaScript 能改变页面中的所有 HTML 元素</li>
<li>JavaScript 能改变页面中的所有 HTML 属性</li>
<li>JavaScript 能改变页面中的所有 CSS 样式</li>
<li>JavaScript 能删除已有的 HTML 元素和属性</li>
<li>JavaScript 能添加新的 HTML 元素和属性</li>
<li>JavaScript 能对页面中所有已有的 HTML 事件作出反应</li>
<li>JavaScript 能在页面中创建新的 HTML 事件</li>
</ul>
</li>
<li><p>节点类型:</p>
<ul>
<li>元素节点：<div></div></li>
<li>属性节点：id=“div1”</li>
<li>文本节点： 文本</li>
</ul>
</li>
</ul>
<h3 id="结点的获取"><a href="#结点的获取" class="headerlink" title="结点的获取"></a>结点的获取</h3><ul>
<li><p>document.getElementById(id);</p>
</li>
<li><p>node.getElementsByTagName(标签名);<br>通过标签名获取符合条件的元素节点，返回：伪数组</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取ol下的li节点</span></span><br><span class="line">bar oOl=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;ol1&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> lis=oOl.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;li&quot;</span>);</span><br><span class="line"><span class="comment">//返回的是数组</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>node.getElementsByClassName(class名);<br>通过class名字获取符合条件的元素节点；(IE8以下不兼容）</p>
</li>
<li><p>document.getElementByName(name属性的值);<br>通过name属性的值获取符合条件的元素节点，一般用于表单元素,因为其他元素使用name属性没用</p>
</li>
<li><p>document.querySelector(CSS选择器格式字符串);<br>返回一个元素节点，找到符合条件的第一个元素节点</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="comment">//id=ol1</span></span><br><span class="line"><span class="keyword">var</span> node=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#ol1&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//tagName=&#x27;li&#x27;</span></span><br><span class="line"><span class="keyword">var</span> node=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;li&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//class=box</span></span><br><span class="line"><span class="keyword">var</span> node =<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.box&quot;</span>);</span><br><span class="line">node.<span class="property">style</span>.<span class="property">backgroundColor</span>=<span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">一、js获取子节点的方式</span><br><span class="line"><span class="number">1.</span> 通过获取dom方式直接获取子节点</span><br><span class="line"></span><br><span class="line">其中test的父标签id的值，div为标签的名字。getElementsByTagName是一个方法。返回的是一个数组。在访问的时候要按数组的形式访问。</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>).<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line"><span class="number">2.</span> 通过childNodes获取子节点</span><br><span class="line"></span><br><span class="line">使用childNodes获取子节点的时候，childNodes返回的是子节点的集合，是一个数组的格式。他会把换行和空格也当成是节点信息。</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b =<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>).<span class="property">childNodes</span>;</span><br><span class="line">为了不显示不必须的换行的空格，我们如果要使用childNodes就必须进行必要的过滤。通过正则表达式式取掉不必要的信息。下面是过滤掉</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//去掉换行的空格</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;b.<span class="property">length</span>;i++)&#123;</span><br><span class="line">  <span class="keyword">if</span>(b[i].<span class="property">nodeName</span> == <span class="string">&quot;#text&quot;</span> &amp;&amp; !<span class="regexp">/\s/</span>.<span class="title function_">test</span>(b.<span class="property">nodeValue</span>))&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>).<span class="title function_">removeChild</span>(b[i]);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//打印测试</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;b.<span class="property">length</span>;i++)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(i+<span class="string">&quot;---------&quot;</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(b[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//补充 document.getElementById(&quot;test&quot;).childElementCount; 可以直接获取长度 同length</span></span><br><span class="line"><span class="number">4.</span> 通过children来获取子节点</span><br><span class="line"></span><br><span class="line">利用children来获取子元素是最方便的，他也会返回出一个数组。对其获取子元素的访问只需按数组的访问形式即可。</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> getFirstChild = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>).<span class="property">children</span>[<span class="number">0</span>];</span><br><span class="line"><span class="number">5.</span> 获取第一个子节点</span><br><span class="line"></span><br><span class="line">firstChild来获取第一个子元素，但是在有些情况下我们打印的时候会显示<span class="literal">undefined</span>，这是什么情况呢？？其实firstChild和childNodes是一样的，在浏览器解析的时候会把他当换行和空格一起解析，其实你获取的是第一个子节点，只是这个子节点是一个换行或者是一个空格而已。那么不要忘记和childNodes一样处理呀。</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> getFirstChild = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>).<span class="property">firstChild</span>;</span><br><span class="line"><span class="number">6.</span> firstElementChild获取第一个子节点</span><br><span class="line"></span><br><span class="line">使用firstElementChild来获取第一个子元素的时候，这就没有firstChild的那种情况了。会获取到父元素第一个子元素的节点 这样就能直接显示出来文本信息了。他并不会匹配换行和空格信息。</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> getFirstChild = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>).<span class="property">firstElementChild</span>;</span><br><span class="line"><span class="number">7.</span> 获取最后一个子节点</span><br><span class="line"></span><br><span class="line">lastChild获取最后一个子节点的方式其实和firstChild是类似的。同样的lastElementChild和firstElementChild也是一样的。不再赘余。</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> getLastChildA = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>).<span class="property">lastChild</span>;</span><br><span class="line"><span class="keyword">var</span> getLastChildB = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>).<span class="property">lastElementChild</span>;</span><br><span class="line">一个包解决你所有的<span class="variable constant_">JS</span>问题,点击获取</span><br><span class="line"></span><br><span class="line">二、js获取父节点的方式</span><br><span class="line"><span class="number">1.</span> parentNode获取父节点</span><br><span class="line"></span><br><span class="line">获取的是当前元素的直接父元素。parentNode是w3c的标准。</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>).<span class="property">parentNode</span>;</span><br><span class="line"><span class="number">2.</span> parentElement获取父节点</span><br><span class="line"></span><br><span class="line">parentElement和parentNode一样，只是parentElement是ie的标准。</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>).<span class="property">parentElement</span>;</span><br><span class="line"><span class="number">3.</span> offsetParent获取所有父节点</span><br><span class="line"></span><br><span class="line">一看offset我们就知道是偏移量 其实这个是于位置有关的上下级 ，直接能够获取到所有父亲节点， 这个对应的值是body下的所有节点信息。</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p2 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>).<span class="property">offsetParent</span>;</span><br><span class="line">三、js获取兄弟节点的方式</span><br><span class="line"><span class="number">1.</span> 通过获取父亲节点再获取子节点来获取兄弟节点</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> brother1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>).<span class="property">parentNode</span>.<span class="property">children</span>[<span class="number">1</span>];</span><br><span class="line"><span class="number">2.</span> 获取上一个兄弟节点</span><br><span class="line"></span><br><span class="line">在获取前一个兄弟节点的时候可以使用previousSibling和previousElementSibling。他们的区别是previousSibling会匹配字符，包括换行和空格，而不是节点。previousElementSibling则直接匹配节点。</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> brother2 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>).<span class="property">previousElementSibling</span>;</span><br><span class="line"><span class="keyword">var</span> brother3 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>).<span class="property">previousSibling</span>;</span><br><span class="line"><span class="number">3.</span> 获取下一个兄弟节点</span><br><span class="line"></span><br><span class="line">同previousSibling和previousElementSibling，nextSibling和nextElementSibling也是类似的。</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> brother4 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>).<span class="property">nextElementSibling</span>;</span><br><span class="line"><span class="keyword">var</span> brother5 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>).<span class="property">nextSibling</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>document.querySelectorAll(CSS选择器格式字符串);<br>返回一个数组</li>
</ul>
<h3 id="获取样式"><a href="#获取样式" class="headerlink" title="获取样式"></a>获取样式</h3><ul>
<li>node.currentStyle[‘height’]; //IE兼容</li>
<li>getComputedStyle<a href="'height'">node</a>; //火狐、谷歌</li>
</ul>
<p>获取的是当前有效的样式</p>
<ul>
<li>node.getAttribute(“class”);</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//增加属性,支持自定义</span></span><br><span class="line">node.<span class="title function_">setAttribute</span>(<span class="string">&quot;class&quot;</span>,<span class="string">&quot;box&quot;</span>);</span><br><span class="line">node.<span class="title function_">setAttribute</span>(<span class="string">&quot;jjj&quot;</span>,<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line"><span class="comment">//自定义属性data-</span></span><br><span class="line">node.<span class="title function_">setAttribute</span>(<span class="string">&quot;data-jjj&quot;</span>,<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">node.<span class="title function_">setAttribute</span>(<span class="string">&quot;data-a-b&quot;</span>,<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">node.<span class="title function_">setAttribute</span>(<span class="string">&quot;data-tB&quot;</span>,<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">node.<span class="property">dataset</span>.<span class="property">jjj</span></span><br><span class="line">node.<span class="property">dataset</span>.<span class="property">aB</span></span><br><span class="line">node.<span class="property">dataset</span>.<span class="property">tb</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//删除属性</span></span><br><span class="line">node.<span class="title function_">removeAttribute</span>(<span class="string">&quot;class&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="修改样式"><a href="#修改样式" class="headerlink" title="修改样式"></a>修改样式</h3><ul>
<li><p>通过style属性修改</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">el.<span class="property">style</span>.<span class="property">background</span>=<span class="string">&#x27;red&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><p>通过className属性修改</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">el.<span class="property">className</span>=<span class="string">&#x27;test&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><p>通过classList属性修改</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//不会覆盖原有类名</span></span><br><span class="line">el.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;类名&#x27;</span>)</span><br><span class="line">el.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;类名&#x27;</span>)</span><br><span class="line">el.<span class="property">classList</span>.<span class="title function_">toggle</span>(<span class="string">&#x27;类名&#x27;</span>)<span class="comment">//有则移除，没有则添加</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="获取内容"><a href="#获取内容" class="headerlink" title="获取内容"></a>获取内容</h3><ul>
<li>innerHTML<br>获取标签内容，写入时会解析标签</li>
<li>innerText<br>获取标签间纯文本，不会解析标签</li>
<li>outerHTML<br>会替换整个标签</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">var</span> odiv=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(odiv.<span class="property">innerHTML</span>);</span><br><span class="line">odiv.<span class="property">innerHTML</span>=<span class="string">&quot;&lt;h1&gt;jjjjjjjj&lt;/h1&gt;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(odiv.<span class="property">innerText</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(odiv.<span class="property">outerHTML</span>);</span><br></pre></td></tr></table></figure>

<h3 id="获取子节点"><a href="#获取子节点" class="headerlink" title="获取子节点"></a>获取子节点</h3><ul>
<li><p>childNodes<br>访问当前节点下所有的子节点</p>
</li>
<li><p>firstChild<br>访问子节点中的首位</p>
</li>
<li><p>lastChild<br>访问子节点中的最后一位</p>
</li>
<li><p>nextSibling 访问当前节点兄弟节点中的下一个节点</p>
</li>
<li><p>previousSibling 访问当前节点兄弟节点中的上一个节点</p>
</li>
</ul>
<blockquote>
<p>上面这些属性都包含文本节点</p>
</blockquote>
<ul>
<li>children</li>
<li>firstElementChild</li>
<li>lastElementChild</li>
<li>nextElementSibling</li>
<li>previousElementSibling</li>
</ul>
<blockquote>
<p>上面这些属性只获取子节点中的元素节点，不包含文本。</p>
</blockquote>
<table>
<thead>
<tr>
<th></th>
<th>nodeType</th>
<th>nodeName</th>
<th>nodeValue</th>
</tr>
</thead>
<tbody><tr>
<td>元素节点</td>
<td>1</td>
<td>标签名</td>
<td>null</td>
</tr>
<tr>
<td>属性节点</td>
<td>2</td>
<td>属性名</td>
<td>属性值</td>
</tr>
<tr>
<td>文本节点</td>
<td>3</td>
<td>#text</td>
<td>文本内容</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">var</span> oDiv=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(oDiv.<span class="property">childNodes</span>.<span class="property">length</span>); <span class="comment">//返回数组，里面为全部子元素，包括换行，缩进</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(oDiv.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">nodeName</span>);</span><br><span class="line">&#125;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span> &gt;</span> <span class="tag">&lt;<span class="name">em</span>&gt;</span> text<span class="tag">&lt;/<span class="name">em</span>&gt;</span> divtext <span class="tag">&lt;<span class="name">strong</span>&gt;</span>text<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h3 id="获取当前元素节点上的所有的属性节点"><a href="#获取当前元素节点上的所有的属性节点" class="headerlink" title="获取当前元素节点上的所有的属性节点"></a>获取当前元素节点上的所有的属性节点</h3><ul>
<li>attrbutes</li>
</ul>
<p>获取当前元素节点上的所有的属性节点</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oDiv=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(oDiv.<span class="property">attributes</span>);</span><br></pre></td></tr></table></figure>

<p>返回的是集合：</p>
<ol>
<li>无序</li>
<li>不重复</li>
</ol>
<h3 id="获取其中的某一个属性节点"><a href="#获取其中的某一个属性节点" class="headerlink" title="获取其中的某一个属性节点"></a>获取其中的某一个属性节点</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//div中title=&quot;hello&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(oDiv.<span class="property">attributes</span>.<span class="title function_">getNamedItem</span>(<span class="string">&quot;title&quot;</span>).<span class="property">nodeName</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(oDiv.<span class="property">attributes</span>.<span class="title function_">getNamedItem</span>(<span class="string">&quot;title&quot;</span>).<span class="property">nodeType</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(oDiv.<span class="property">attributes</span>.<span class="title function_">getNamedItem</span>(<span class="string">&quot;title&quot;</span>).<span class="property">nodeValue</span>);</span><br><span class="line"><span class="comment">//或</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(oDiv.<span class="property">attributes</span>[<span class="string">&quot;title&quot;</span>].<span class="property">nodeName</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(oDiv.<span class="property">attributes</span>[<span class="string">&quot;title&quot;</span>].<span class="property">nodeType</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="节点操作"><a href="#节点操作" class="headerlink" title="节点操作"></a>节点操作</h3><blockquote>
<p>document.write()会覆盖页面上的所有内容</p>
</blockquote>
<ul>
<li>createElement()</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">createElement</span>();</span><br><span class="line">参数：标签名</span><br><span class="line">返回值：创建好的节点</span><br></pre></td></tr></table></figure>

<ul>
<li>appendChild()</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node1.<span class="title function_">appendChild</span>(node2);</span><br><span class="line">将node2节点插入到node1节点的子节点的末尾</span><br></pre></td></tr></table></figure>

<ul>
<li>createTextNode()</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(文本);</span><br><span class="line">创建文本节点（纯文本）</span><br></pre></td></tr></table></figure>

<ul>
<li>insertBefore()</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">box1的父节点.<span class="title function_">insertBefore</span>(box2,box1);</span><br><span class="line">将box2添加到box1前面</span><br></pre></td></tr></table></figure>

<ul>
<li>replaceChild()</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">box1的父节点.<span class="title function_">replaceChild</span>(box2,box1);</span><br><span class="line">用box2替换掉box1</span><br></pre></td></tr></table></figure>

<ul>
<li>cloneNode()</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">node.<span class="title function_">cloneNode</span>(); <span class="comment">//克隆自己</span></span><br><span class="line">node.<span class="title function_">cloneNode</span>(<span class="literal">true</span>); <span class="comment">//克隆自己和本身下的所有子节点</span></span><br><span class="line"><span class="comment">//返回克隆的新节点</span></span><br></pre></td></tr></table></figure>

<ul>
<li>removeChild()</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">box1的父节点.<span class="title class_">Child</span>(box1);</span><br><span class="line">删掉box1节点</span><br></pre></td></tr></table></figure>

<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">                <span class="keyword">var</span> oDiv=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>); <span class="comment">//div</span></span><br><span class="line">               <span class="keyword">var</span> newP=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;p&#x27;</span>);  <span class="comment">//创建一个新的p标签节点</span></span><br><span class="line">                <span class="keyword">var</span> newText=<span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(<span class="string">&#x27;jjjj&#x27;</span>); <span class="comment">//创建一个字符节点</span></span><br><span class="line">                newP.<span class="title function_">appendChild</span>(newText);   <span class="comment">//将字符节点插入到p节点中</span></span><br><span class="line">                oDiv.<span class="title function_">appendChild</span>(newP);    <span class="comment">//将p节点插入到div节点中</span></span><br><span class="line">  <span class="keyword">var</span> newb=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;input&#x27;</span>);  <span class="comment">//新建一个input节点</span></span><br><span class="line">                oDiv.<span class="title function_">insertBefore</span>(newb,newP);   <span class="comment">//将input节点添加到p节点前面</span></span><br><span class="line">  <span class="comment">//doument.body.insertBefore(oP,oDiv); //将oP节点插入到oDiv 前面</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="offset"><a href="#offset" class="headerlink" title="offset"></a>offset</h3><ul>
<li><p>offsetWidth</p>
</li>
<li><p>offsetHeight</p>
</li>
<li><p>offsetLeft</p>
</li>
<li><p>offsetTop</p>
<ol>
<li><p>在父元素均不设置position属性时，在Chrome，opera和IE浏览器中offsetLeft是<em>元素边框外侧</em>到<em>浏览器窗口内侧</em>的距离且body.offsetLeft=0,在firefox浏览器中offsetLeft是元素边框外侧到body内侧的距离body.offsetLeft=-边框宽度</p>
</li>
<li><p>如果父元素是body且body设置了position属性，在Chrome和opera浏览器中offsetLeft是元素边框外侧到body边框外侧的距离，在IE和fireForx浏览器中offsetLeft是元素边框外侧到body边框内侧的距离</p>
</li>
<li><p>如果父元素不是body元素且设置了position属性时，offsetLeft为元素边框外侧到父元素边框内侧的距离（各浏览器情况一致）。</p>
</li>
</ol>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">var</span> oDiv=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>);</span><br><span class="line"><span class="comment">//alert(getStyle(ODiv,&quot;width&quot;));</span></span><br><span class="line"><span class="title function_">alert</span>(oDiv.<span class="property">offsetWidth</span>); <span class="comment">//眼睛能看到的实际宽度（width+border+padding）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> oDiv2=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div2&quot;</span>);</span><br><span class="line"><span class="title function_">alert</span>(oDiv2.<span class="property">offsetLeft</span>);<span class="comment">//眼睛能看到实际距离第一个有定位的父节点的距离。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="HTML-事件"><a href="#HTML-事件" class="headerlink" title="HTML 事件"></a>HTML 事件</h2><p>HTML 事件可以是浏览器或用户做的某些事情。</p>
<p>写法：</p>
<ol>
<li>内联模式</li>
<li>脚本模式/外联模式</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;btnClick()&quot;</span>&gt;</span> 内联模式<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>外联模式<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> oBtn=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">0Btn.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;click button&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>绑定事件格式：<code>元素节点.on+事件类型=匿名函数</code>；</p>
<blockquote>
<p>系统会在事件绑定完成时，生成一个事件对象。触发事件时，系统会自动去调用事件绑定的函数，将事件对象当做第一个参数传入。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">show</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(argument.<span class="property">length</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">var</span> oBtn=<span class="variable language_">document</span>.<span class="title function_">getElement</span>(<span class="string">&quot;btn1&quot;</span>);</span><br><span class="line"><span class="comment">//oBtn.onclick=show;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">button属性：左键0；中键1；右键2；</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">鼠标位置：(原点位置不同）</span></span><br><span class="line"><span class="comment">clientX    clientY  //可视窗口的左上角</span></span><br><span class="line"><span class="comment">pageX    pageY   //整个页面的左上角（滚动也包括）</span></span><br><span class="line"><span class="comment">screenX    screenY  //电脑屏幕的左上角</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">oBtn.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line"><span class="comment">//事件对象获取的方式，固定写法</span></span><br><span class="line"><span class="keyword">var</span> ev=e||<span class="variable language_">window</span>.<span class="property">event</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ev);</span><br><span class="line"><span class="comment">//console.log(ev.button);</span></span><br><span class="line"><span class="comment">//console.log(ev.clientX);</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>循环添加</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Oblock</span>=<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">   <span class="comment">//console.log(Oblock);</span></span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span> ;i&lt; <span class="title class_">Oblock</span>.<span class="property">length</span>;i++)&#123;</span><br><span class="line">    <span class="title class_">Oblock</span>[i].<span class="property">index</span>=i;</span><br><span class="line">    <span class="title class_">Oblock</span>[i].<span class="property">onmousedown</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">index</span>);</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>window事件</p>
<ul>
<li>load 当页面加载完后会触发</li>
<li>unload 当页面解析的时候触发（如刷新界面、关闭当前界面）IE浏览器兼容</li>
<li>scroll 页面滚动</li>
<li>resize 窗口大小发生变化的时候触发</li>
</ul>
</li>
<li><p>表单事件</p>
<ul>
<li><p>blur 失去焦点</p>
</li>
<li><p>focus 获取焦点</p>
</li>
<li><p>select  在输入框内选中文本时触发</p>
</li>
<li><p>change 修改输入框内容并失去焦点时触发</p>
</li>
<li><p>sumit 只对sumit按钮有效</p>
</li>
<li><p>reset 只对reset按钮有效</p>
</li>
</ul>
</li>
</ul>
<p>下面是一些常见的 HTML 事件：</p>
<table>
<thead>
<tr>
<th>事件</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>onchange</td>
<td>HTML 元素已被改变</td>
</tr>
<tr>
<td>onclick</td>
<td>用户点击了 HTML 元素</td>
</tr>
<tr>
<td>ondblclick</td>
<td>双击</td>
</tr>
<tr>
<td>onmouseover</td>
<td>用户把鼠标移动到 HTML 元素上(经过子节点会重复触发)</td>
</tr>
<tr>
<td>onmouseout</td>
<td>用户把鼠标移开 HTML 元素(经过子节点会重复触发)</td>
</tr>
<tr>
<td>onmouseenter</td>
<td>用户把鼠标移动到 HTML 元素上(经过子节点不会重复触发,IE8不兼容)</td>
</tr>
<tr>
<td>onmouseleave</td>
<td>用户把鼠标移开 HTML 元素(经过子节点不会重复触发,IE8不兼容)</td>
</tr>
<tr>
<td>onmousedown</td>
<td>鼠标任一按钮被按下</td>
</tr>
<tr>
<td>onmousemove</td>
<td>鼠标被移动,会不停触发</td>
</tr>
<tr>
<td>onmouseup</td>
<td>鼠标按键被松开</td>
</tr>
<tr>
<td>onkeypress</td>
<td>用户按下键盘按键(只支持字符建，shift等没用)</td>
</tr>
<tr>
<td>onkeydown</td>
<td>用户按下键盘按键</td>
</tr>
<tr>
<td>onkeyup</td>
<td>用户抬起键盘按键</td>
</tr>
<tr>
<td>onload</td>
<td>浏览器已经完成页面加载</td>
</tr>
</tbody></table>
<p>键盘事件对象属性：</p>
<ul>
<li>shiftKey //按下shift键为true，默认为false</li>
<li>altKey</li>
<li>ctrlKey</li>
<li>metaKey  //按下win键</li>
<li>keyCode 键码  //不区分大小写，只返回大写ASCII码，支持shift、ctrl等非字符键；只在keydown下支持,可用 which兼容</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onkeydown</span>=<span class="keyword">function</span>(<span class="params">ev</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> e=ev||<span class="variable language_">window</span>.<span class="property">event</span>;</span><br><span class="line"><span class="keyword">var</span> w=e.<span class="property">which</span>||e.<span class="property">keyCode</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(w);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>charCode  键码  //区分大小写，只支持字符键，只在keypress下支持,可用 which兼容</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onkeypress</span>=<span class="keyword">function</span>(<span class="params">ev</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> e=ev||<span class="variable language_">window</span>.<span class="property">event</span>;</span><br><span class="line"><span class="keyword">var</span> w=e.<span class="property">which</span>||e.<span class="property">keyCode</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(w);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>target<br>目标对象/触发对象</li>
</ul>
<p>IE8以下不兼容，可使用window.event.srcElement</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">var</span> oUl=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;ul1&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onkeypress</span>=<span class="keyword">function</span>(<span class="params">ev</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> e=ev||<span class="variable language_">window</span>.<span class="property">event</span>;</span><br><span class="line"><span class="keyword">var</span> target=e.<span class="property">target</span>||<span class="variable language_">window</span>.<span class="property">event</span>.<span class="property">srcElement</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">tagName</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(target.<span class="property">innerHTML</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>事件冒泡：由里向外逐级触发<blockquote>
<p>事件冒泡：同样的事件会在该元素的所有祖先元素中依次被触发(从里到外)<br>事件捕获：从根元素开始去执行对应事件(从外到里)</p>
</blockquote>
</li>
</ul>
<p>事件对象的属性和方法:<br><code>cancelBubble=true;</code><br><code>stopPropagation();</code>(捕获阶段也有效)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">var</span> oDiv=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;aDivs.<span class="property">length</span>;i++)&#123;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onkeypress</span>=<span class="keyword">function</span>(<span class="params">ev</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> e=ev||<span class="variable language_">window</span>.<span class="property">event</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">tagName</span>);</span><br><span class="line">e.<span class="property">cancelBubble</span>=<span class="literal">true</span>;</span><br><span class="line"><span class="comment">//e.stopProgagation();</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>mouseover和mouseout会有冒泡效果<br>mouseenter和mouseleave没有冒泡效果</p>
</blockquote>
<h4 id="DOM事件监听器"><a href="#DOM事件监听器" class="headerlink" title="DOM事件监听器"></a>DOM事件监听器</h4><ul>
<li>addEventListerner<br>语法<br><code>element.addEventListener(event, function, useCapture);</code><br>第一个参数是事件的类型（比如 “click” 或 “mousedown”）。第二个参数是当事件发生时我们需要调用的函数。第三个参数是布尔值，指定使用事件冒泡还是事件捕获,默认false事件冒泡,此参数是可选的。<blockquote>
<p>注意：请勿对事件使用 “on” 前缀；请使用 “click” 代替 “onclick”。</p>
</blockquote>
</li>
</ul>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加当用户点击按钮时触发的事件监听器：</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;myBtn&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, displayDate);</span><br></pre></td></tr></table></figure>

<p>addEventListener() 方法为指定元素指定事件处理程序。addEventListener() 方法为元素附加事件处理程序而不会覆盖已有的事件处理程序。您能够向一个元素添加多个事件处理程序。您能够向一个元素添加多个相同类型的事件处理程序，例如两个 “click” 事件。传统事件绑定重复添加会覆盖。您能够向任何 DOM 对象添加事件处理程序而非仅仅 HTML 元素，例如 window 对象。addEventListener() 方法使我们更容易控制事件如何对冒泡作出反应。当使用 addEventListener() 方法时，JavaScript 与 HTML 标记是分隔的，已达到更佳的可读性；即使在不控制 HTML 标记时也允许您添加事件监听器。</p>
<p>您能够通过使用 <code>removeEventListener()</code> 方法轻松地删除事件监听器。</p>
<p>格式：<code>node.removeEvenetListener()</code><br>参数：第一个为事件类型，第二个为删除函数的名字；</p>
<h4 id="IE事件处理函数"><a href="#IE事件处理函数" class="headerlink" title="IE事件处理函数"></a>IE事件处理函数</h4><ul>
<li><p>attachEvent();<br>参数：事件名称和函数<br>格式：node.attchEvent(onclink,fn);</p>
</li>
<li><p>detachEvent();<br>参数：事件名称和函数<br>格式：node.detachEvent(onclink,fn);</p>
</li>
<li><p>阻止超链接的默认行为</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">var</span> a1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;a1&quot;</span>);</span><br><span class="line">a1.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="title function_">confirm</span>(<span class="string">&quot;are you sure?&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//或</span></span><br><span class="line">a1.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params">evt</span>)&#123;</span><br><span class="line">evt.<span class="title function_">preventDefault</span>();</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;done&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//or</span></span><br><span class="line">a1.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params">evt</span>)&#123;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">event</span>.<span class="property">returnValue</span>=<span class="literal">false</span>;   <span class="comment">//IE兼容</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;done&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;a id=<span class="string">&quot;a1&quot;</span> href=<span class="string">&quot;...&quot;</span>&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure>

<h3 id="委托"><a href="#委托" class="headerlink" title="委托"></a>委托</h3><p>事件委托</p>
<ol>
<li>找到当前节点的父节点或者祖先节点</li>
<li>将事件添加到你找到的这个父节点或者祖先节点上</li>
<li>找到触发对象，判断触发对象是否是想要的触发对象，进行后续操作</li>
</ol>
<p>li委托ul将li变成红色：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">var</span> oUl=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;ul1&quot;</span>);</span><br><span class="line">oUl.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params">ev</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> e=ev||winow.<span class="property">event</span>;</span><br><span class="line"><span class="keyword">var</span> target=e.<span class="property">target</span>||winow.<span class="property">event</span>.<span class="property">target</span>;</span><br><span class="line"><span class="keyword">if</span>(target.<span class="property">nodeName</span>.<span class="title function_">toLowerCase</span>()==<span class="string">&quot;li&quot;</span>)&#123;</span><br><span class="line">target.<span class="property">style</span>.<span class="property">backgroundColor</span>=<span class="string">&quot;red&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="localStorage"><a href="#localStorage" class="headerlink" title="localStorage"></a>localStorage</h3><p>HTML5中年，加入了一个localStorage特性，用来作为本地存储使用的，解决了cookie存储空间不足的问题。localStorage中一般浏览器支持5M大小，cookie中每条cookie的存储空间为4k。</p>
<ul>
<li>本地存储技术：</li>
</ul>
<p><em>localStorage(IE8以下不兼容);</em></p>
<ul>
<li><p>永久存储</p>
</li>
<li><p>最大可存储5M，相当于客户端一个微型数据库</p>
</li>
<li><p>只能存储string</p>
</li>
<li><p>localStorage对象</p>
<ul>
<li>setItem(name,value);</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!<span class="variable language_">window</span>.<span class="property">localStorage</span>)&#123;</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;当前页面不支持localStorage&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="property">b</span>=<span class="string">&quot;2&quot;</span>;</span><br><span class="line"><span class="variable language_">localStorage</span>[<span class="string">&quot;c&quot;</span>]=<span class="string">&quot;3&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;b&quot;</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">localStorage</span>.<span class="property">b</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">localStorage</span>[<span class="string">&quot;a&quot;</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>getItem(name);</li>
<li>removeItem(name);</li>
</ul>
<p><em>cookie</em></p>
<p>会话跟踪技术,从一次会话开始到结束（浏览器的关闭），会全程跟踪记录客户端的状态，记录相关信息</p>
<ul>
<li>可设置过期时间</li>
<li>最大可存储4KB</li>
<li>每一个域名下最多可存储50条数据</li>
</ul>
<blockquote>
<p>只能存储字符串</p>
</blockquote>
<ul>
<li>cookie的语法</li>
</ul>
<p>name 键；value 值，都可自定义<br><code>name=value;expires=date;path=path;domain=url;secure，其中name=value必选，剩余的可选</code></p>
<ol>
<li>expires/max-age:过期时间，填写日期对象。系统会自动清理过期的cookie</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">funciton <span class="title function_">afterOffDate</span>(<span class="params">n</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> d=<span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="keyword">var</span> day=d.<span class="title function_">getDate</span>();</span><br><span class="line">d.<span class="title function_">setDate</span>(n+day);</span><br><span class="line"><span class="keyword">return</span> d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span>=<span class="string">&quot;user=&#x27;xxx&#x27;;expires=&quot;</span>+<span class="title function_">afterOffDate</span>(<span class="number">7</span>);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>path 限制访问路径，如果不设置默认加载当前.html文件的路径；</li>
<li>domain 限制访问域名，如果不设置默认加载当前文件.html文件的服务器域名</li>
<li>secure 加入这个字段后只能设置https协议加载cookie；</li>
<li>httpOnly cookie的值不能修改；</li>
</ol>
<blockquote>
<p>火狐浏览器支持本地加载的文件缓存cookie，谷歌只支持服务器加载文件缓存cookie</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//客户</span></span><br><span class="line"><span class="comment">//设置cookie</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span>=<span class="string">&#x27;username=xiaomi&#x27;</span>;</span><br><span class="line"><span class="comment">//读取cookie</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">document</span>.<span class="property">cookie</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//服务端设置</span></span><br><span class="line"><span class="comment">//在响应头中set-cookie</span></span><br></pre></td></tr></table></figure>

<ul>
<li>cookie编解码</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span>=<span class="string">&quot;name1=&quot;</span>+<span class="built_in">encodeURIComponent</span>(<span class="string">&quot;小明&quot;</span>); <span class="comment">//编码写入</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">decodeURIComponent</span>(<span class="variable language_">document</span>.<span class="property">cookie</span>); <span class="comment">//解码读取</span></span><br></pre></td></tr></table></figure>

<p><em>sessionStorage(结合后台使用)</em></p>
<h4 id="ES6-新特性"><a href="#ES6-新特性" class="headerlink" title="ES6 新特性"></a>ES6 新特性</h4><h5 id="函数默认值"><a href="#函数默认值" class="headerlink" title="函数默认值"></a>函数默认值</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//es5</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">a,b</span>)&#123;</span><br><span class="line">   a=a||<span class="number">10</span>;</span><br><span class="line">   b=b||<span class="number">10</span>;</span><br><span class="line">   <span class="keyword">return</span> a+b</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//es6</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">a=<span class="number">10</span>,b=<span class="number">10</span></span>)&#123;</span><br><span class="line">   <span class="keyword">return</span> a+b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//es5</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">args</span>)&#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//es6</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">a,...args</span>)&#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(args)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br></pre></td></tr></table></figure>

<h5 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h5><ul>
<li>没有自己的this</li>
<li>内部没有arguments</li>
<li>不能使用new 关键词实例化对象</li>
<li>function 是对象，箭头函数不是对象，是表达式,</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">test</span>=(<span class="params"></span>)=&gt;&#123;&#125;</span><br></pre></td></tr></table></figure>

<h5 id="扩展运算符号"><a href="#扩展运算符号" class="headerlink" title="扩展运算符号"></a>扩展运算符号</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> obj=&#123;</span><br><span class="line">   <span class="attr">name</span>:<span class="string">&#x27;xxx&#x27;</span>,</span><br><span class="line">   <span class="attr">age</span>:<span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(...arr)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(...obj)</span><br></pre></td></tr></table></figure>

<h5 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> [x,y,z]=[<span class="number">1</span>,<span class="string">&quot;dd&quot;</span>,<span class="literal">false</span>];</span><br><span class="line"><span class="comment">//相当与</span></span><br><span class="line"><span class="keyword">var</span> x=<span class="number">1</span>,y=<span class="string">&quot;dd&quot;</span>,z=fase;</span><br><span class="line"></span><br><span class="line"><span class="comment">//还可以</span></span><br><span class="line"><span class="keyword">const</span> [x,[a,b],y]=[<span class="number">10</span>,[<span class="number">10</span>,<span class="string">&quot;dd&quot;</span>],<span class="string">&quot;a&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//交换两数方便</span></span><br><span class="line"><span class="keyword">const</span> [x,y]=[<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line">[x,y]=[y,x];</span><br><span class="line"></span><br><span class="line"><span class="comment">//函数可一次性返回多个数据</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">xxx</span>(<span class="params"></span>)&#123;</span><br><span class="line">   <span class="keyword">return</span> [<span class="string">&quot;jj&quot;</span>,<span class="number">3</span>,<span class="literal">true</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> [a,b,c]=<span class="title function_">xxx</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//不用按循序赋值</span></span><br><span class="line"><span class="keyword">const</span> &#123;name,age,<span class="attr">sex</span>:x,...res&#125;=&#123;</span><br><span class="line">   <span class="attr">sex</span>:<span class="string">&quot;男&quot;</span>,</span><br><span class="line">   <span class="attr">name</span>:<span class="string">&quot;xiaomi&quot;</span>,</span><br><span class="line">   <span class="attr">age</span>:<span class="number">11</span>,</span><br><span class="line">   <span class="attr">school</span>:<span class="string">&#x27;xx&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name,age,x)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>反引号</p>
<ul>
<li>可用反引号代替单双引号括起字符串。其中的换行、代码缩进都会保留。</li>
<li>拼接字符串时可用<code>$&#123;变量/表达式/函数&#125;</code>代替<code>+&#39;&#39;+</code></li>
</ul>
</li>
</ul>
<h5 id="Array-includes"><a href="#Array-includes" class="headerlink" title="Array.includes()"></a>Array.includes()</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">a.<span class="title function_">includes</span>(<span class="number">5</span>)<span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<h5 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a>Array.from()</h5><p>将伪数组（没有真数组身上的方法）转换为真数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aLid=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;li1&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> aLis=<span class="title class_">Array</span>.<span class="title function_">from</span>(aLis);</span><br><span class="line">aLis.<span class="title function_">push</span>(<span class="string">&quot;test&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//第二个参数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> aLis=<span class="title class_">Array</span>.<span class="title function_">from</span>(aLis,<span class="function"><span class="params">item</span>=&gt;</span>item);</span><br><span class="line"></span><br><span class="line"><span class="comment">//可使用扩展运算符，转为真数组</span></span><br><span class="line"><span class="keyword">let</span> list=[...aLid]</span><br></pre></td></tr></table></figure>

<h5 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of()"></a>Array.of()</h5><p>将一组的值，转换为数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="title function_">of</span>(<span class="number">3</span>,<span class="number">11</span>,<span class="string">&#x27;xx&#x27;</span>,&#123;<span class="attr">name</span>:<span class="string">&#x27;xx&#x27;</span>&#125;,[<span class="number">1</span>,<span class="number">2</span>])</span><br></pre></td></tr></table></figure>

<h5 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h5><blockquote>
<p>原始数据类型，表示独一无二的值(内存地址不同)<br>用于定义对象的私有变量</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> name=<span class="title class_">Symbol</span>(<span class="string">&#x27;xx&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> name2=<span class="title class_">Symbol</span>(<span class="string">&#x27;xx&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name===name2)<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj=&#123;&#125;</span><br><span class="line">obj[name]=name</span><br><span class="line"><span class="comment">//必须使用中括号</span></span><br><span class="line"><span class="comment">//无法遍历,不可枚举</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj[name])</span><br><span class="line"></span><br><span class="line"><span class="comment">//可通过以下获取key</span></span><br><span class="line"><span class="keyword">let</span> s=<span class="title class_">Object</span>.<span class="title function_">getOwnPropertySysmbols</span>(obj)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s)</span><br><span class="line"><span class="keyword">let</span> m=<span class="title class_">Reflect</span>.<span class="title function_">ownKeys</span>(obj)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(m)</span><br></pre></td></tr></table></figure>

<h5 id="迭代器Iterator"><a href="#迭代器Iterator" class="headerlink" title="迭代器Iterator"></a>迭代器Iterator</h5><blockquote>
<p>新的遍历机制</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr=[<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>]</span><br><span class="line"><span class="comment">//创建迭代器</span></span><br><span class="line"><span class="keyword">const</span> ite=arr[<span class="title class_">Symbol</span>.<span class="property">iterator</span>]()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ite.<span class="title function_">next</span>())<span class="comment">//&#123;value:&#x27;1&#x27;,done:false&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ite.<span class="title function_">next</span>())<span class="comment">//&#123;value:&#x27;2&#x27;,done:false&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ite.<span class="title function_">next</span>())<span class="comment">//&#123;value:&#x27;3&#x27;,done:false&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ite.<span class="title function_">next</span>())<span class="comment">//&#123;value:undefined,done:true&#125;</span></span><br></pre></td></tr></table></figure>

<h5 id="生成器generator"><a href="#生成器generator" class="headerlink" title="生成器generator"></a>生成器generator</h5><blockquote>
<p>通过yield关键字，将函数挂起,暂停执行<br>只能在函数内部使用yield表达式，将函数挂起</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>* <span class="title function_">test</span>(<span class="params"></span>)&#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;one&#x27;</span>)</span><br><span class="line">   <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;two&#x27;</span>)</span><br><span class="line">   <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;end&#x27;</span>)</span><br><span class="line">   <span class="keyword">return</span> a+b</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> fn=<span class="title function_">test</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fn.<span class="title function_">next</span>())<span class="comment">//one \n &#123;value:&#x27;1&#x27;,done:false&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fn.<span class="title function_">next</span>())<span class="comment">//two \n &#123;value:&#x27;2&#x27;,done:false&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fn.<span class="title function_">next</span>())<span class="comment">//end \n &#123;value:undefined,done:true&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//赋值</span></span><br><span class="line"><span class="keyword">function</span>* <span class="title function_">test</span>(<span class="params">x</span>)&#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;one&#x27;</span>,x)</span><br><span class="line">  <span class="keyword">let</span> a= <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;two&#x27;</span>,a)</span><br><span class="line">   <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;end&#x27;</span>,b)</span><br><span class="line">   <span class="keyword">return</span> a+b</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> fn=<span class="title function_">test</span>(<span class="number">999</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fn.<span class="title function_">next</span>())<span class="comment">//one 999 \n &#123;value:&#x27;1&#x27;,done:false&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fn.<span class="title function_">next</span>(<span class="number">10</span>))<span class="comment">//two 10 \n &#123;value:&#x27;2&#x27;,done:false&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fn.<span class="title function_">next</span>(<span class="number">20</span>))<span class="comment">//end 20 \n &#123;value:30,done:true&#125;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>用于给不具备interator接口的对象提供遍历操作<br>用于解决回调地域</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//for...of.. foreach 不能遍历对象</span></span><br><span class="line"><span class="comment">//for...of..只能遍历带有iterator迭代器接口的,for...of底层利用iterator迭代器实现，遍历时会调用自身的next方法，让yield向下执行</span></span><br><span class="line"><span class="comment">//使用生成器，遍历对象</span></span><br><span class="line"><span class="keyword">function</span>* <span class="title function_">aobjectEntries</span>(<span class="params">obj</span>)&#123;</span><br><span class="line">   <span class="keyword">const</span> keys=<span class="title class_">Object</span>.<span class="title function_">keys</span>(obj)</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> keys)&#123;</span><br><span class="line">      <span class="keyword">yield</span> [i,obj[i]]</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj=&#123;<span class="attr">name</span>:<span class="string">&#x27;xx&#x27;</span>,<span class="attr">age</span>:<span class="number">10</span>&#125;;</span><br><span class="line">obj[<span class="title class_">Symbol</span>.<span class="property">iterator</span>]=objectEntries;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [key,value] <span class="keyword">of</span> <span class="title function_">objectEntries</span>(obj))</span><br><span class="line">&#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(key,value)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="新数据类型：Set集合-无重复值的有序列表"><a href="#新数据类型：Set集合-无重复值的有序列表" class="headerlink" title="新数据类型：Set集合(无重复值的有序列表)"></a>新数据类型：Set集合(无重复值的有序列表)</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> imgs= <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line"><span class="comment">//添加元素</span></span><br><span class="line">imgs.<span class="title function_">add</span>(<span class="number">100</span>);</span><br><span class="line">imgs.<span class="title function_">add</span>(<span class="number">100</span>);</span><br><span class="line">imgs.<span class="title function_">add</span>(<span class="string">&quot;ddd&quot;</span>);</span><br><span class="line">imgs.<span class="title function_">delete</span>(<span class="number">100</span>)</span><br><span class="line">imgs.<span class="title function_">has</span>(<span class="number">100</span>)<span class="comment">//false</span></span><br><span class="line">imgs.<span class="title function_">add</span>(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;ddd&quot;</span>));</span><br><span class="line">imgs.<span class="title function_">forEach</span>(<span class="function">(<span class="params">val,key</span>)=&gt;</span>&#123;</span><br><span class="line">   <span class="comment">//键值是相等的</span></span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(val)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(key)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(imgs,imgs.<span class="property">size</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//set中的对象引用无法被释放</span></span><br><span class="line"><span class="keyword">let</span> set3=<span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line"><span class="keyword">let</span> obj=&#123;<span class="attr">name</span>:<span class="string">&#x27;xx&#x27;</span>&#125;</span><br><span class="line">set3.<span class="title function_">add</span>(obj)</span><br><span class="line">obj=<span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用WeakSet代替</span></span><br><span class="line"><span class="keyword">let</span> set3=<span class="keyword">new</span> <span class="title class_">WeakSet</span>()</span><br><span class="line">set3.<span class="title function_">add</span>(obj)</span><br><span class="line">obj=<span class="literal">null</span></span><br><span class="line"><span class="comment">//它不能传入非对象类型的参数</span></span><br><span class="line"><span class="comment">//不能遍历</span></span><br><span class="line"><span class="comment">//没有size属性</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>遍历集合<code>for....of</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> imgs.<span class="title function_">keys</span>())&#123; <span class="comment">//遍历键</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> imgs.<span class="title function_">values</span>())&#123;  <span class="comment">//只遍历值</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> imgs.<span class="title function_">entries</span>())&#123;    <span class="comment">//遍历键与值</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>数组与集合互转</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数组变集合</span></span><br><span class="line"><span class="keyword">var</span> set=<span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set);</span><br><span class="line"><span class="comment">//集合变数组，将数据结构展开为数组</span></span><br><span class="line"><span class="keyword">var</span> arr = [...set];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br></pre></td></tr></table></figure>

<h5 id="Map映射-键值对的有序列表，键值可以是任意类型"><a href="#Map映射-键值对的有序列表，键值可以是任意类型" class="headerlink" title="Map映射(键值对的有序列表，键值可以是任意类型)"></a>Map映射(键值对的有序列表，键值可以是任意类型)</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map=<span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line"><span class="comment">//添加数据</span></span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&quot;Tom&quot;</span>,<span class="string">&quot;fishman&quot;</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&quot;Jack&quot;</span>,<span class="string">&quot;woker&quot;</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&quot;Sim&quot;</span>,<span class="string">&quot;teacher&quot;</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&quot;Jack&quot;</span>,<span class="string">&quot;bussnessman&quot;</span>);</span><br><span class="line">map.<span class="title function_">delete</span>(<span class="string">&#x27;Sim&#x27;</span>)</span><br><span class="line">map.<span class="title function_">has</span>(<span class="string">&#x27;Sim&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map);</span><br><span class="line"><span class="comment">//取值</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="title function_">get</span>(<span class="string">&quot;Tom&quot;</span>));</span><br><span class="line"><span class="comment">//map遍历：for   of</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [key,value] <span class="keyword">of</span> map)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(key,value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>遍历：数组[for循环、for…in、foreach、for…of],对象[for…in]，set[for…of],map[for…pf];</p>
</blockquote>
<h5 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h5><p>我们某一个函数，使用new运算符去调用</p>
<ol>
<li>当前函数中的this指向新创建的对象</li>
<li>自动完成原料和出厂操作<br>这种通过new调用函数，叫做构造函数(首字母一般大写)，其可构造对象，</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createPerson</span>(<span class="params">name,sex</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> obj=<span class="keyword">new</span> <span class="title class_">Object</span>(); <span class="comment">//原料</span></span><br><span class="line"><span class="comment">//加工</span></span><br><span class="line">0bj.<span class="property">name</span>=name;</span><br><span class="line">obj.<span class="property">sex</span>=sex;</span><br><span class="line">0bj.<span class="property">showName</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="property">showSex</span>=<span class="title function_">functin</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">sex</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> obj; <span class="comment">//出厂</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p1=<span class="title function_">createPerson</span>(<span class="string">&quot;Tom&quot;</span>,<span class="string">&quot;man&quot;</span>);</span><br><span class="line">p1.<span class="title function_">showName</span>();</span><br><span class="line">p1.<span class="title function_">showSex</span>();</span><br></pre></td></tr></table></figure>

<h5 id="prototype-原型对象"><a href="#prototype-原型对象" class="headerlink" title="prototype 原型对象"></a>prototype 原型对象</h5><p>每一个函数上，都一个原型对象prototype</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">show</span>(<span class="params"></span>)&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(show.<span class="property"><span class="keyword">prototype</span></span>);</span><br></pre></td></tr></table></figure>

<p>用在构造函数上，我们可以给构造函数的原型prototype，添加方法</p>
<ol>
<li>如果我们将方法添加到构造函数的原型prototype对象上</li>
<li>构造函数构造出来的对象共享原型上所有的方法</li>
</ol>
<p>构造函数构造出来的对象，有一个属性_proto_,指向构造除这个对象的构造函数的原型。</p>
<p>instanceof关键字，判断某一个对象是否是这个构造函数构造出来的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1=[<span class="number">3</span>,<span class="number">32</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">45</span>];</span><br><span class="line"><span class="keyword">var</span> arr2=[<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>];</span><br><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sum</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">var</span> res=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="variable language_">this</span>.<span class="property">length</span>;i++)&#123;</span><br><span class="line">res+=<span class="variable language_">this</span>[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1.<span class="title function_">sum</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2.<span class="title function_">sum</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1.<span class="property">sum</span>==arr2.<span class="property">sum</span>);</span><br></pre></td></tr></table></figure>

<p>在子一级构造函数重写方法，只会在子一级生效，并不会影响父一级构造函数的方法。</p>
<p>继承和多态：<br>继承侧重是从父一级构造函数，继承到属性和方法；<br>多态侧重的是子一级自己重写和新增的属性和方法;</p>
<h4 id="ECMA6-class语法"><a href="#ECMA6-class语法" class="headerlink" title="ECMA6 class语法"></a>ECMA6 class语法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//es5</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name,sex,age</span>)&#123;</span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">name</span>=name;</span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">sex</span>=sex;</span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">age</span>=age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayName</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p1=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;xiaomi&#x27;</span>,<span class="string">&#x27;man&#x27;</span>,<span class="number">10</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//es6</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">preson</span>&#123;</span><br><span class="line"><span class="comment">//class属性添加。</span></span><br><span class="line"><span class="comment">//实例化的时候立即调用</span></span><br><span class="line"><span class="title function_">constructor</span>(<span class="params">name,sex,age</span>)&#123;</span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">name</span>=xxx;</span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">sex</span>=sex;</span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">age</span>=age;</span><br><span class="line">   <span class="title function_">showself</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>,<span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>`</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1=<span class="keyword">new</span> <span class="title function_">person</span>(<span class="string">&quot;Tony&quot;</span>,<span class="string">&quot;man&quot;</span>,<span class="number">33</span>);</span><br><span class="line">p1.<span class="title function_">showself</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//extends继承</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">worker</span> <span class="keyword">extends</span> <span class="title class_ inherited__">person</span>&#123;</span><br><span class="line">   <span class="title function_">constructor</span>(<span class="params">name,sex,age,job</span>)&#123;</span><br><span class="line">   <span class="comment">//继承到父一级的属性</span></span><br><span class="line">   <span class="variable language_">super</span>(name,sex,age);<span class="comment">//要写在最前面</span></span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">job</span>=job;</span><br><span class="line">   <span class="comment">//子类自己的方法</span></span><br><span class="line">   <span class="title function_">sayName</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//重写父类方法</span></span><br><span class="line">   <span class="title function_">showself</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;xx&#x27;</span>)</span><br><span class="line">      <span class="variable language_">super</span>.<span class="title function_">showself</span>()</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">person</span>(<span class="params">name,sex,age</span>)&#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">name</span>=name;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">sex</span>=sex;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">age</span>=age;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">person.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">showself</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>,<span class="variable language_">this</span>.<span class="property">age</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">woker</span>(<span class="params">name,sex,age,job</span>)&#123;</span><br><span class="line"><span class="comment">//1.构造函数的伪装，继承父级的属性</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>,name,sex,age);</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">job</span>=job;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2.原型链  继承父一级的方法</span></span><br><span class="line"><span class="comment">//&lt;1&gt;通过for ...in 遍历继承</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> funcName <span class="keyword">in</span> person.<span class="property"><span class="keyword">prototype</span></span>)&#123;</span><br><span class="line">worker.<span class="property"><span class="keyword">prototype</span></span>[funcName]=person.<span class="property"><span class="keyword">prototype</span></span>[funcName];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//&lt;2&gt;Object.create()</span></span><br><span class="line">worker.<span class="property"><span class="keyword">prototype</span></span>=<span class="title class_">Object</span>.<span class="title function_">create</span>(person.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line"><span class="comment">//&lt;3&gt;调用构造函数继承</span></span><br><span class="line">worker.<span class="property"><span class="keyword">prototype</span></span>=<span class="keyword">new</span> <span class="title function_">person</span>();</span><br><span class="line"></span><br><span class="line">worker.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">showjob</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">job</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> w1=<span class="keyword">new</span> <span class="title function_">worker</span>(<span class="string">&quot;Tom&quot;</span>,<span class="string">&quot;man&quot;</span>,<span class="number">22</span>,<span class="string">&quot;driver&quot;</span>);</span><br></pre></td></tr></table></figure>

<h5 id="promise"><a href="#promise" class="headerlink" title="promise"></a>promise</h5><blockquote>
<p>回调函数：当一个函数当作参数传递给另一个函数的时候，这个函数就是回调函数</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p=<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">   <span class="comment">//异步操作</span></span><br><span class="line">&#125;)</span><br><span class="line">p.<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;&#125;,<span class="function"><span class="params">err</span>=&gt;</span>&#123;&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span>=&gt;</span>&#123;&#125;)</span><br><span class="line"><span class="comment">//then()，第一个参数是resolve回调函数，第二个是reject回调函数，可选．</span></span><br><span class="line"><span class="comment">//catch(err=&gt;&#123;&#125;)等价于then(null,err=&gt;&#123;&#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//resolve()方法,将现有的任何对象转化为promise对象</span></span><br><span class="line"><span class="comment">//reject()方法,将现有的任何对象转化为promise对象</span></span><br><span class="line"><span class="keyword">let</span> p1=<span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;123&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> p2=<span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="string">&#x27;123&#x27;</span>)</span><br><span class="line">p1.<span class="title function_">then</span>(<span class="function"><span class="params">val</span>=&gt;</span>&#123;</span><br><span class="line">   <span class="comment">//val==123</span></span><br><span class="line"><span class="comment">//等价于new Promise(resolve=&gt;resolve(&#x27;123&#x27;))</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//all(),所有异步操作都成功才成功，只要有一个失败就都失败</span></span><br><span class="line"><span class="keyword">let</span> p3=<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;&#125;)</span><br><span class="line"><span class="keyword">let</span> p4=<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;&#125;)</span><br><span class="line"><span class="keyword">let</span> p5=<span class="title class_">Promise</span>.<span class="title function_">all</span>([p3,p4])</span><br><span class="line">p5.<span class="title function_">then</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//race(),返回多个promise中最先执行完成的那个promise，无论成功还是失败</span></span><br><span class="line"><span class="keyword">let</span> p6=<span class="title class_">Promise</span>.<span class="title function_">race</span>([p3,p4])</span><br><span class="line">p6.<span class="title function_">then</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//finally()，不管成功失败都会执行</span></span><br><span class="line"><span class="comment">//done()</span></span><br><span class="line">p1.<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;&#125;,<span class="function"><span class="params">err</span>=&gt;</span>&#123;&#125;).<span class="title function_">finally</span>(<span class="function">()=&gt;</span>&#123;&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="async-异步操作"><a href="#async-异步操作" class="headerlink" title="async 异步操作"></a>async 异步操作</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//async返回一个promise对象</span></span><br><span class="line"><span class="comment">//async 是generator的语法糖</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">await</span> <span class="string">&#x27;123&#x27;</span></span><br><span class="line">   <span class="comment">//throw new Error(&#x27;err&#x27;)</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test</span>().<span class="title function_">then</span>(<span class="function"><span class="params">val</span>=&gt;</span>&#123;</span><br><span class="line">   <span class="comment">//val==&#x27;123&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="触发input-file的click事件：document-querySelector-39-file-39-click"><a href="#触发input-file的click事件：document-querySelector-39-file-39-click" class="headerlink" title="触发input-file的click事件：document.querySelector(&#39;#file&#39;).click()"></a>触发input-file的click事件：<code>document.querySelector(&#39;#file&#39;).click()</code></h2><h2 id="清空input-file值"><a href="#清空input-file值" class="headerlink" title="清空input-file值"></a>清空input-file值</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.###</span></span><br><span class="line"><span class="keyword">var</span> test = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line">test.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span>;  <span class="comment">//test的value不能设为有字符的值，但是可以设置为空值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.###</span></span><br><span class="line"><span class="keyword">var</span> test = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line">test.<span class="property">outerHTML</span> = test.<span class="property">outerHTML</span>; <span class="comment">//重新初始化了test的html</span></span><br></pre></td></tr></table></figure>

<h2 id="switch-case语句"><a href="#switch-case语句" class="headerlink" title="switch case语句"></a>switch case语句</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (value)&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="attr">value1</span>:  xxxxx  <span class="comment">// 当表达式的结果等于 value1 时，则执行该代码</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span> :  xxxxxxxx <span class="comment">// 如果没有与表达式相同的值，则执行该代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="js时间戳转换成日期的方法：-new-Date-parseInt-n-toLocaleDateString"><a href="#js时间戳转换成日期的方法：-new-Date-parseInt-n-toLocaleDateString" class="headerlink" title="js时间戳转换成日期的方法：(new Date(parseInt(n))).toLocaleDateString()"></a>js时间戳转换成日期的方法：<code>(new Date(parseInt(n))).toLocaleDateString()</code></h2><h2 id="获取地址栏地址：window-location-href"><a href="#获取地址栏地址：window-location-href" class="headerlink" title="获取地址栏地址：window.location.href"></a>获取地址栏地址：window.location.href</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.baidu.com/2021/05/22/20-22-11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/22/20-22-11/" class="post-title-link" itemprop="url">JS实例</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-22 20:22:11" itemprop="dateCreated datePublished" datetime="2021-05-22T20:22:11+08:00">2021-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-05-14 12:06:33" itemprop="dateModified" datetime="2023-05-14T12:06:33+08:00">2023-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index"><span itemprop="name">web</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h1><h2 id="判断是否是pc设备"><a href="#判断是否是pc设备" class="headerlink" title="判断是否是pc设备"></a>判断是否是pc设备</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">IsPC</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> userAgentInfo = navigator.<span class="property">userAgent</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(userAgentInfo);</span><br><span class="line">    <span class="keyword">var</span> <span class="title class_">Agents</span> = [<span class="string">&quot;Android&quot;</span>, <span class="string">&quot;iPhone&quot;</span>,<span class="string">&quot;SymbianOS&quot;</span>, <span class="string">&quot;Windows Phone&quot;</span>, <span class="string">&quot;iPod&quot;</span>];</span><br><span class="line">    <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> v = <span class="number">0</span>; v &lt; <span class="title class_">Agents</span>.<span class="property">length</span>; v++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (userAgentInfo.<span class="title function_">indexOf</span>(<span class="title class_">Agents</span>[v]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">window</span>.<span class="property">screen</span>.<span class="property">width</span>&gt;=<span class="number">768</span>)&#123;</span><br><span class="line">         flag = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="轮播图"><a href="#轮播图" class="headerlink" title="轮播图"></a>轮播图</h2><ul>
<li>动态切换img标签的src</li>
<li>将所有图片横向排列，然后依次向左移动至显示区域内</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">        <span class="attr">style</span>=<span class="string">&#123;&#123;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">width:</span> <span class="attr">210</span>,</span></span><br><span class="line"><span class="tag">          <span class="attr">height:</span> <span class="attr">210</span>,</span></span><br><span class="line"><span class="tag">          <span class="attr">border:</span> &quot;<span class="attr">10px</span> <span class="attr">solid</span> <span class="attr">skyblue</span>&quot;,</span></span><br><span class="line"><span class="tag">          <span class="attr">overflow:</span> &quot;<span class="attr">hidden</span>&quot;,</span></span><br><span class="line"><span class="tag">          <span class="attr">position:</span> &quot;<span class="attr">relative</span>&quot;,</span></span><br><span class="line"><span class="tag">        &#125;&#125;</span></span><br><span class="line"><span class="tag">      &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span></span></span><br><span class="line"><span class="tag">          <span class="attr">id</span>=<span class="string">&quot;uli&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">style</span>=<span class="string">&#123;&#123;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">listStyle:</span> &quot;<span class="attr">none</span>&quot;,</span></span><br><span class="line"><span class="tag">            <span class="attr">position:</span> &quot;<span class="attr">absolute</span>&quot;,</span></span><br><span class="line"><span class="tag">            <span class="attr">left:</span> <span class="attr">0</span>,</span></span><br><span class="line"><span class="tag">            <span class="attr">padding:</span> <span class="attr">0</span>,</span></span><br><span class="line"><span class="tag">            <span class="attr">margin:</span> <span class="attr">0</span>,</span></span><br><span class="line"><span class="tag">            <span class="attr">whiteSpace:</span> &quot;<span class="attr">nowrap</span>&quot;,</span></span><br><span class="line"><span class="tag">            <span class="attr">height:</span> <span class="attr">200</span>,</span></span><br><span class="line"><span class="tag">          &#125;&#125;</span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">border:</span> &quot;<span class="attr">red</span> <span class="attr">5px</span> <span class="attr">solid</span>&quot;, <span class="attr">display:</span> &quot;<span class="attr">inline-block</span>&quot; &#125;&#125;&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">width</span>=<span class="string">&quot;200&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./logo512.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;err&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">border:</span> &quot;<span class="attr">blue</span> <span class="attr">5px</span> <span class="attr">solid</span>&quot;, <span class="attr">display:</span> &quot;<span class="attr">inline-block</span>&quot; &#125;&#125;&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">width</span>=<span class="string">&quot;200&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./logo512.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;err&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">border:</span> &quot;<span class="attr">green</span> <span class="attr">5px</span> <span class="attr">solid</span>&quot;, <span class="attr">display:</span> &quot;<span class="attr">inline-block</span>&quot; &#125;&#125;&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">width</span>=<span class="string">&quot;200&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./logo512.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;err&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">border:</span> &quot;<span class="attr">pink</span> <span class="attr">5px</span> <span class="attr">solid</span>&quot;, <span class="attr">display:</span> &quot;<span class="attr">inline-block</span>&quot; &#125;&#125;&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">width</span>=<span class="string">&quot;200&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./logo512.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;err&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">border:</span> &quot;<span class="attr">red</span> <span class="attr">5px</span> <span class="attr">solid</span>&quot;, <span class="attr">display:</span> &quot;<span class="attr">inline-block</span>&quot; &#125;&#125;&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">width</span>=<span class="string">&quot;200&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./logo512.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;err&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  let ul = document.getElementById(&quot;uli&quot;);</span><br><span class="line">    setInterval(() =&gt; &#123;</span><br><span class="line">      ul.style.left = parseInt(ul.style.left) - 210 + &quot;px&quot;;</span><br><span class="line">      if (ul.offsetLeft &lt;= -210 * 4) &#123;</span><br><span class="line">        ul.style.left = &quot;0px&quot;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, 2000);</span><br><span class="line"> <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="拖拽"><a href="#拖拽" class="headerlink" title="拖拽"></a>拖拽</h3><ul>
<li>mousedown</li>
</ul>
<p>记录鼠标按下的位置和被拖拽物体相对距离</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//clientX为鼠标位置，offsetLeft为盒子位置</span></span><br><span class="line"><span class="keyword">var</span> offsetX=e.<span class="property">clientX</span>-node.<span class="property">offsetLeft</span>;</span><br><span class="line"><span class="keyword">var</span> offsetY=e.<span class="property">clientY</span>-node.<span class="property">offsetTop</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>mousemove</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//鼠标移动的距离减去相对距离=盒子移动的距离</span></span><br><span class="line">node.<span class="property">style</span>.<span class="property">left</span>=e.<span class="property">clientX</span>-offsetX+<span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">node.<span class="property">style</span>.<span class="property">top</span>=e.<span class="property">clientY</span>-offsetY+<span class="string">&#x27;px&#x27;</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>mouseup</li>
</ul>
<p>取消拖拽</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">//父盒子与子盒子要有定位</span><br><span class="line">window.onload=function()&#123;</span><br><span class="line">  var oDiv=document.getElementById(&quot;div1&quot;);</span><br><span class="line">  oDiv.onmousedown=function(ev)&#123;</span><br><span class="line">    var e=ev||window.event;</span><br><span class="line">    var offsetX=e.clientX-oDiv.offsetLeft;</span><br><span class="line">    var offsetY=e.clientY-oDiv.offsetTop;</span><br><span class="line"></span><br><span class="line">    document.onmousemove=function(ev)&#123;</span><br><span class="line">      var e=ev||window.event;</span><br><span class="line">      oDiv.style.left=e.clientX-offsetX+&quot;px&quot;;</span><br><span class="line">      oDiv.style.top=e.clientY-offsetY+&quot;px&quot;;</span><br><span class="line">  &#125;&#125;</span><br><span class="line">  //绑定到document上，防止鼠标移动过快,离开节点</span><br><span class="line">  document.onmouseup=function()&#123;</span><br><span class="line">    document.onmousemove=null;</span><br><span class="line">    document.onmousedown=null;</span><br><span class="line">    document.onmouseup=null;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="动态创建表单并提交"><a href="#动态创建表单并提交" class="headerlink" title="动态创建表单并提交"></a>动态创建表单并提交</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JavaScript 构建一个 form </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">MakeForm</span>(<span class="params"></span>) </span><br><span class="line">&#123; </span><br><span class="line">  <span class="comment">// 创建一个 form </span></span><br><span class="line">  <span class="keyword">var</span> form1 = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;form&quot;</span>); </span><br><span class="line">  form1.<span class="property">id</span> = <span class="string">&quot;form1&quot;</span>; </span><br><span class="line">  form1.<span class="property">name</span> = <span class="string">&quot;form1&quot;</span>; </span><br><span class="line">  <span class="comment">// 添加到 body 中 </span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(form1); </span><br><span class="line">  <span class="comment">// 创建一个输入 </span></span><br><span class="line">  <span class="keyword">var</span> input = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;input&quot;</span>); </span><br><span class="line">  <span class="comment">// 设置相应参数 </span></span><br><span class="line">  input.<span class="property">type</span> = <span class="string">&quot;text&quot;</span>; </span><br><span class="line">  input.<span class="property">name</span> = <span class="string">&quot;value1&quot;</span>; </span><br><span class="line">  input.<span class="property">value</span> = <span class="string">&quot;1234567&quot;</span>; </span><br><span class="line">  <span class="comment">// 将该输入框插入到 form 中 </span></span><br><span class="line">  form1.<span class="title function_">appendChild</span>(input); </span><br><span class="line">  <span class="comment">// form 的提交方式 </span></span><br><span class="line">  form1.<span class="property">method</span> = <span class="string">&quot;POST&quot;</span>; </span><br><span class="line">  <span class="comment">// form 提交路径 </span></span><br><span class="line">  form1.<span class="property">action</span> = <span class="string">&quot;/servlet/info&quot;</span>; </span><br><span class="line">  <span class="comment">// 对该 form 执行提交 </span></span><br><span class="line">  form1.<span class="title function_">submit</span>(); </span><br><span class="line">  <span class="comment">// 删除该 form </span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(form1); </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h3 id="虚拟列表"><a href="#虚拟列表" class="headerlink" title="虚拟列表"></a>虚拟列表</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;cube-recycle-list&quot; id=&quot;container&quot;&gt;</span><br><span class="line">    &lt;!-- 可见区域列表 --&gt;</span><br><span class="line">    &lt;div :style=&quot;&#123; height: heights + &#x27;px&#x27; &#125;&quot;&gt;</span><br><span class="line">      &lt;div</span><br><span class="line">        v-for=&quot;(item, index) in visibleItems&quot;</span><br><span class="line">        :key=&quot;index&quot;</span><br><span class="line">        class=&quot;cube-recycle-list-item&quot;</span><br><span class="line">        :style=&quot;&#123; transform: &#x27;translate(0,&#x27; + item.top + &#x27;px)&#x27; &#125;&quot;</span><br><span class="line">      &gt;</span><br><span class="line">      &lt;!-- 内容 --&gt;</span><br><span class="line">        &lt;div</span><br><span class="line">          :style=&quot;</span><br><span class="line">            &#x27;height: &#x27; +</span><br><span class="line">            (index + startIndex + 1) * 10 +</span><br><span class="line">            &#x27;px; width: 100%; background-color: aqua&#x27;</span><br><span class="line">          &quot;</span><br><span class="line">        &gt;</span><br><span class="line">          &#123;&#123; index + startIndex &#125;&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">      &lt;!-- 预加载,用于动态获取宽高 --&gt;</span><br><span class="line">    &lt;div</span><br><span class="line">      class=&quot;cube-recycle-list-item&quot;</span><br><span class="line">      v-for=&quot;(item, index) in preItems&quot;</span><br><span class="line">      :ref=&quot;(el) =&gt; itemDom(el, item.index, index)&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;!-- 内容 --&gt;</span><br><span class="line">      &lt;div</span><br><span class="line">        :style=&quot;</span><br><span class="line">          &#x27;height: &#x27; +</span><br><span class="line">          (item.index + 1) * 10 +</span><br><span class="line">          &#x27;px; width: 100%; background-color: aqua&#x27;</span><br><span class="line">        &quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &#123;&#123; item.index &#125;&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; nextTick, ref, computed, onMounted, onBeforeUnmount &#125; from &quot;vue&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;List&quot;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    let n = 0;</span><br><span class="line">    let items = ref([]);</span><br><span class="line">    let list = ref([]);</span><br><span class="line">    let loadings = ref(false);</span><br><span class="line">    let heights = ref(0);</span><br><span class="line">    let pageNo = ref(0);</span><br><span class="line">    let startIndex = ref(0);</span><br><span class="line">    let refs = ref([]);</span><br><span class="line">    let itemDom = (el, index, i) =&gt; &#123;//获取预加载的元素节点</span><br><span class="line">      if (i == 0) &#123;</span><br><span class="line">        refs.value = [];</span><br><span class="line">      &#125;</span><br><span class="line">      refs.value.push(&#123; index, el &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">    let size = ref(15); //每页</span><br><span class="line">    let visibleItems = computed(() =&gt; &#123;</span><br><span class="line">      return items.value.slice(</span><br><span class="line">        Math.max(0, startIndex.value - size.value),</span><br><span class="line">        Math.min(items.value.length, startIndex.value + size.value)</span><br><span class="line">      );</span><br><span class="line">    &#125;);</span><br><span class="line">    let preItems = computed(() =&gt; &#123;//先加载元素获取其宽高，然后过滤去掉元素</span><br><span class="line">      return items.value.filter(function (item) &#123;</span><br><span class="line">        return !item.height;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    //更新每个item顶部距离和 整个列表的高</span><br><span class="line">    let updateItemTop = () =&gt; &#123;</span><br><span class="line">      let height = 0;</span><br><span class="line">      let pre;</span><br><span class="line">      let current;</span><br><span class="line">      // loop all items to</span><br><span class="line">      for (let i = 0; i &lt; items.value.length; i++) &#123;</span><br><span class="line">        pre = items.value[i - 1];</span><br><span class="line">        current = items.value[i];</span><br><span class="line">        // it is empty in array</span><br><span class="line">        /* istanbul ignore if */</span><br><span class="line">        if (!items.value[i]) &#123;</span><br><span class="line">          height += 0;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          current.top = pre ? pre.top + pre.height : 0;</span><br><span class="line">          height += current.height;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      heights.value = height;</span><br><span class="line">    &#125;;</span><br><span class="line">    //更新可见区域的起始序号</span><br><span class="line">    let updateStartIndex = () =&gt; &#123;</span><br><span class="line">      // update visible items start index</span><br><span class="line">      let top = document.getElementById(&quot;container&quot;).scrollTop;</span><br><span class="line">      let item;</span><br><span class="line">      for (let i = 0; i &lt; items.value.length; i++) &#123;</span><br><span class="line">        item = items.value[i];</span><br><span class="line">        if (!item || item.top &gt; top) &#123;</span><br><span class="line">          startIndex.value = Math.max(0, i - 1);</span><br><span class="line">          break;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    ///加载每一页数据的高度</span><br><span class="line">    let loadItemsByIndex = () =&gt; &#123;</span><br><span class="line">      const start = (pageNo.value - 1) * size.value;</span><br><span class="line">      const end = pageNo.value * size.value;</span><br><span class="line">      let promiseTasks = [];</span><br><span class="line">      let item;</span><br><span class="line">      for (let i = start; i &lt; end; i++) &#123;</span><br><span class="line">        //处理原数据</span><br><span class="line">        item = items.value[i];</span><br><span class="line">        if (!item) &#123;</span><br><span class="line">          items.value[i] = &#123;</span><br><span class="line">            index: i,</span><br><span class="line">            data: list.value[i] || &#123;&#125;,</span><br><span class="line">            height: 0,</span><br><span class="line">            top: -1000,</span><br><span class="line">          &#125;;</span><br><span class="line">          promiseTasks.push(</span><br><span class="line">            nextTick().then(() =&gt; &#123;</span><br><span class="line">              /////  动态获取每个item的高</span><br><span class="line">              for (let j = 0; j &lt; refs.value.length; j++) &#123;</span><br><span class="line">                if (refs.value[j].index == i) &#123;</span><br><span class="line">                  let node = refs.value[j].el;</span><br><span class="line">                  if (node) &#123;</span><br><span class="line">                    items.value[i].height = node.offsetHeight;</span><br><span class="line">                  &#125; else &#123;</span><br><span class="line">                    items.value[i].height = 0;</span><br><span class="line">                  &#125;</span><br><span class="line">                  break;</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">          );</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      //加载一页的高和item的顶</span><br><span class="line">      window.Promise.all(promiseTasks).then(() =&gt; &#123;</span><br><span class="line">        console.log(items.value);</span><br><span class="line">        updateItemTop();</span><br><span class="line">        updateStartIndex();</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    //获取数据</span><br><span class="line">    let load = () =&gt; &#123;</span><br><span class="line">      if (!loadings.value) &#123;</span><br><span class="line">        console.log(&quot;load&quot;);</span><br><span class="line">        let arr = [];</span><br><span class="line">        const promiseFetch = new Promise((resolve) =&gt; &#123;</span><br><span class="line">          setTimeout(() =&gt; &#123;</span><br><span class="line">            arr = [];</span><br><span class="line">            for (let i = 0; i &lt; size.value; i++) &#123;</span><br><span class="line">              arr.push(&#123; n: n++ &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">            resolve(arr);</span><br><span class="line">          &#125;, 1000);</span><br><span class="line">        &#125;);</span><br><span class="line">        pageNo.value++;</span><br><span class="line">        loadings.value = true; //加载中</span><br><span class="line">        promiseFetch.then((res) =&gt; &#123;</span><br><span class="line">          loadings.value = false; //取消加载中</span><br><span class="line">          //追加数据</span><br><span class="line">          list.value.push(...res);</span><br><span class="line">          ///加载item的高度</span><br><span class="line">          loadItemsByIndex();</span><br><span class="line">          //if (res.length &lt; size.value) &#123;</span><br><span class="line">          //没有更多数据</span><br><span class="line">          // updateItemTop();</span><br><span class="line">          //updateStartIndex();</span><br><span class="line">          // &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    let _onScroll = () =&gt; &#123;</span><br><span class="line">      if (</span><br><span class="line">        document.getElementById(&quot;container&quot;).scrollTop +</span><br><span class="line">          document.getElementById(&quot;container&quot;).offsetHeight &gt;</span><br><span class="line">        heights.value - 100</span><br><span class="line">      ) &#123;</span><br><span class="line">        //判断是否到底</span><br><span class="line">        load();</span><br><span class="line">      &#125;</span><br><span class="line">      //不停更新可见区域索引</span><br><span class="line">      updateStartIndex();</span><br><span class="line">    &#125;;</span><br><span class="line">    let _onResize = () =&gt; &#123;</span><br><span class="line">      //重新加载全部数据的高度</span><br><span class="line">      items.value.forEach((item) =&gt; &#123;</span><br><span class="line">        item.loaded = false;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">    onMounted(() =&gt; &#123;</span><br><span class="line">      let node = document.getElementById(&quot;container&quot;);</span><br><span class="line"></span><br><span class="line">      console.log(node);</span><br><span class="line">      node.addEventListener(&quot;scroll&quot;, _onScroll);</span><br><span class="line">      window.addEventListener(&quot;resize&quot;, _onResize);</span><br><span class="line">      load();</span><br><span class="line">    &#125;);</span><br><span class="line">    onBeforeUnmount(() =&gt; &#123;</span><br><span class="line">      document</span><br><span class="line">        .getElementById(&quot;container&quot;)</span><br><span class="line">        .removeEventListener(&quot;scroll&quot;, _onScroll);</span><br><span class="line">      window.removeEventListener(&quot;resize&quot;, _onResize);</span><br><span class="line">    &#125;);</span><br><span class="line">    return &#123;</span><br><span class="line">      items,</span><br><span class="line">      heights,</span><br><span class="line">      startIndex,</span><br><span class="line">      itemDom,</span><br><span class="line">      size,</span><br><span class="line">      visibleItems,</span><br><span class="line">      preItems,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.cube-recycle-list &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  height: 100%;</span><br><span class="line">  overflow-x: hidden;</span><br><span class="line">  overflow-y: auto;</span><br><span class="line">&#125;</span><br><span class="line">.cube-recycle-list-item &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">  position: absolute;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="js获取选择的文本"><a href="#js获取选择的文本" class="headerlink" title="js获取选择的文本"></a>js获取选择的文本</h2><p>⾮IE浏览器获取选中⽂本：</p>
<ol>
<li><code>document.getSelection().toString()</code><br>如果想获取选中部分的html代码，由于getSelection()⽅法返回的是⼀个Range对象，就需要⽤到Range对象的cloneContents⽅法，cloneContents⽅法把Range对象的内容复制到⼀个DocumentFragment对象中，我们需要创建⼀个dom元素，然后将该DocumentFragment对象添加到创建的dom元素中，通过获取它的innerHTML来获取选择部分的html代码.</li>
<li><code>document.selection.createRange().text</code>;</li>
<li><code>document.selection.createRange().htmlText</code>;</li>
</ol>
<h2 id="数组深拷贝"><a href="#数组深拷贝" class="headerlink" title="数组深拷贝"></a>数组深拷贝</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// es5:</span></span><br><span class="line"><span class="comment">// 方法一：适用 单层 数组嵌套的深拷贝</span></span><br><span class="line"><span class="keyword">var</span> ary2 = ary1.<span class="title function_">concat</span>();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 方法二：适用 多层 数组嵌套的深拷贝</span></span><br><span class="line"><span class="keyword">var</span> ary2 = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(ary1));</span><br><span class="line">　　<span class="comment">//此方法适用于Oject的深度拷贝，因为Array属于Oject类型，所以也适用于此处；</span></span><br><span class="line">　　<span class="comment">//需要注意的是：作为Oject的深度拷贝时，要复制的function会直接消失，所以这个方法只能用在单纯只有数据的对象。</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="attr">es6</span>:</span><br><span class="line"><span class="comment">// 方法三：适用 单层 数组嵌套的深拷贝</span></span><br><span class="line"><span class="keyword">var</span> ary2 = [...ary1];</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 方法四：适用 单层 数组嵌套的深拷贝</span></span><br><span class="line"><span class="keyword">var</span> [...ary2] = ary1;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//方法五：通过递归实现 多层 的深拷贝</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">deepCopy</span>(<span class="params">source</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> source !== <span class="string">&quot;object&quot;</span>) &#123;</span><br><span class="line">           <span class="keyword">return</span> source;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (source === <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> source;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> newObj = source.<span class="property">constructor</span> === <span class="title class_">Array</span> ? [] : &#123;&#125;;  <span class="comment">//开辟一块新的内存空间</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> source) &#123;</span><br><span class="line">             newObj[i] = <span class="title function_">deepCopy</span>(source[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> newObj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="js复制文本"><a href="#js复制文本" class="headerlink" title="js复制文本"></a>js复制文本</h2><p>简介<br>目前，一共有三种方法可以实现剪贴板操作。</p>
<ol>
<li><code>Document.execCommand()</code>方法</li>
<li>异步的 <code>Clipboard API</code></li>
<li>copy事件和paste事件</li>
</ol>
<p>一、<code>Document.execCommand()</code> 方法<br><code>Document.execCommand()</code>是操作剪贴板的传统方法，各种浏览器都支持。</p>
<p>它支持复制、剪切和粘贴这三个操作。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&#x27;copy&#x27;</span>)<span class="comment">//（复制）</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&#x27;cut&#x27;</span>)<span class="comment">//（剪切）</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&#x27;paste&#x27;</span>)<span class="comment">//（粘贴）</span></span><br></pre></td></tr></table></figure>

<p>（1）复制操作</p>
<p>复制时，先选中文本，然后调用document.execCommand(‘copy’)，选中的文本就会进入剪贴板。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> inputElement = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#input&#x27;</span>);</span><br><span class="line">inputElement.<span class="title function_">select</span>();</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&#x27;copy&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>上面示例中，脚本先选中输入框inputElement里面的文字（inputElement.select()），然后document.execCommand(‘copy’)将其复制到剪贴板。</p>
<p>注意，复制操作最好放在事件监听函数里面，由用户触发（比如用户点击按钮）。如果脚本自主执行，某些浏览器可能会报错。</p>
<p>（2）粘贴操作</p>
<p>粘贴时，调用document.execCommand(‘paste’)，就会将剪贴板里面的内容，输出到当前的焦点元素中。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pasteText = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#output&#x27;</span>);</span><br><span class="line">pasteText.<span class="title function_">focus</span>();</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&#x27;paste&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>（3）缺点</p>
<p><code>Document.execCommand()</code>方法虽然方便，但是有一些缺点。</p>
<p>首先，它只能将选中的内容复制到剪贴板，无法向剪贴板任意写入内容。</p>
<p>其次，它是同步操作，如果复制/粘贴大量数据，页面会出现卡顿。有些浏览器还会跳出提示框，要求用户许可，这时在用户做出选择前，页面会失去响应。</p>
<p>为了解决这些问题，浏览器厂商提出了异步的 Clipboard API。</p>
<p>二、异步 <code>Clipboard</code> API<br>Clipboard API是下一代的剪贴板操作方法，比传统的document.execCommand()方法更强大、更合理。</p>
<p>它的所有操作都是异步的，返回 Promise 对象，不会造成页面卡顿。而且，它可以将任意内容（比如图片）放入剪贴板。</p>
<p><code>navigator.clipboard</code>属性返回 Clipboard 对象，所有操作都通过这个对象进行。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> clipboardObj = navigator.<span class="property">clipboard</span>;</span><br></pre></td></tr></table></figure>

<p>如果navigator.clipboard属性返回undefined，就说明当前浏览器不支持这个 API。</p>
<p>由于用户可能把敏感数据（比如密码）放在剪贴板，允许脚本任意读取会产生安全风险，所以这个 API 的安全限制比较多。</p>
<p>首先，Chrome 浏览器规定，只有 <code>HTTPS</code> 协议的页面才能使用这个 API。不过，开发环境（localhost）允许使用非加密协议。</p>
<p>其次，调用时需要明确获得用户的许可。权限的具体实现使用了 Permissions API，跟剪贴板相关的有两个权限：clipboard-write（写权限）和clipboard-read（读权限）。<br>“写权限”自动授予脚本，而”读权限”必须用户明确同意给予。</p>
<p>也就是说，写入剪贴板，脚本可以自动完成，但是读取剪贴板时，浏览器会弹出一个对话框，询问用户是否同意读取。`</p>
<p>另外，需要注意的是，脚本读取的总是当前页面的剪贴板。这带来的一个问题是，如果把相关的代码粘贴到开发者工具中直接运行，可能会报错，因为这时的当前页面是开发者工具的窗口，而不是网页页面。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> text = <span class="keyword">await</span> navigator.<span class="property">clipboard</span>.<span class="title function_">readText</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(text);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>如果你把上面的代码，粘贴到开发者工具里面运行，就会报错。因为代码运行的时候，开发者工具窗口是当前页，这个页面不存在 Clipboard API 依赖的 DOM 接口。一个解决方法就是，相关代码放到setTimeout()里面延迟运行，在调用函数之前快速点击浏览器的页面窗口，将其变成当前页。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> text = <span class="keyword">await</span> navigator.<span class="property">clipboard</span>.<span class="title function_">readText</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(text);</span><br><span class="line">&#125;, <span class="number">2000</span>);</span><br></pre></td></tr></table></figure>

<p>上面代码粘贴到开发者工具运行后，快速点击一下网页的页面窗口，使其变为当前页，这样就不会报错了。</p>
<p>三、Clipboard 对象<br>Clipboard 对象提供了四个方法，用来读写剪贴板。它们都是异步方法，返回 Promise 对象。</p>
<p>4.1 Clipboard.readText()<br>Clipboard.readText()方法用于复制剪贴板里面的文本数据。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">addEventListener</span>(</span><br><span class="line">  <span class="string">&#x27;click&#x27;</span>,</span><br><span class="line">  <span class="keyword">async</span> (e) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> text = <span class="keyword">await</span> navigator.<span class="property">clipboard</span>.<span class="title function_">readText</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(text);</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>上面示例中，用户点击页面后，就会输出剪贴板里面的文本。注意，浏览器这时会跳出一个对话框，询问用户是否同意脚本读取剪贴板。</p>
<p>如果用户不同意，脚本就会报错。这时，可以使用try…catch结构，处理报错。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getClipboardContents</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> text = <span class="keyword">await</span> navigator.<span class="property">clipboard</span>.<span class="title function_">readText</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Pasted content: &#x27;</span>, text);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Failed to read clipboard contents: &#x27;</span>, err);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4.2 Clipboard.read()<br>Clipboard.read()方法用于复制剪贴板里面的数据，可以是文本数据，也可以是二进制数据（比如图片）。该方法需要用户明确给予许可。</p>
<p>该方法返回一个 Promise 对象。一旦该对象的状态变为 resolved，就可以获得一个数组，每个数组成员都是 ClipboardItem 对象的实例。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getClipboardContents</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> clipboardItems = <span class="keyword">await</span> navigator.<span class="property">clipboard</span>.<span class="title function_">read</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> clipboardItem <span class="keyword">of</span> clipboardItems) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">const</span> type <span class="keyword">of</span> clipboardItem.<span class="property">types</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> blob = <span class="keyword">await</span> clipboardItem.<span class="title function_">getType</span>(type);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable constant_">URL</span>.<span class="title function_">createObjectURL</span>(blob));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(err.<span class="property">name</span>, err.<span class="property">message</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ClipboardItem 对象表示一个单独的剪贴项，每个剪贴项都拥有ClipboardItem.types属性和ClipboardItem.getType()方法。</p>
<p>ClipboardItem.types属性返回一个数组，里面的成员是该剪贴项可用的 MIME 类型，比如某个剪贴项可以用 HTML 格式粘贴，也可以用纯文本格式粘贴，那么它就有两个 MIME 类型（text/html和text/plain）。</p>
<p>ClipboardItem.getType(type)方法用于读取剪贴项的数据，返回一个 Promise 对象。该方法接受剪贴项的 MIME 类型作为参数，返回该类型的数据，该参数是必需的，否则会报错。</p>
<p>4.3 Clipboard.writeText()<br>Clipboard.writeText()方法用于将文本内容写入剪贴板。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">addEventListener</span>(</span><br><span class="line">‘click’,</span><br><span class="line"><span class="keyword">async</span> (e) =&gt; &#123;</span><br><span class="line"><span class="keyword">await</span> navigator.<span class="property">clipboard</span>.<span class="title function_">writeText</span>(‘<span class="title class_">Yo</span>’)</span><br><span class="line">&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>上面示例是用户在网页点击后，脚本向剪贴板写入文本数据。</p>
<p>该方法不需要用户许可，但是最好也放在try…catch里面防止报错。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">copyPageUrl</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">await</span> navigator.<span class="property">clipboard</span>.<span class="title function_">writeText</span>(location.<span class="property">href</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Page URL copied to clipboard&#x27;</span>);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Failed to copy: &#x27;</span>, err);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4.4 Clipboard.write()<br>Clipboard.write()方法用于将任意数据写入剪贴板，可以是文本数据，也可以是二进制数据。</p>
<p>该方法接受一个 ClipboardItem 实例作为参数，表示写入剪贴板的数据。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> imgURL = <span class="string">&#x27;https://dummyimage.com/300.png&#x27;</span>;</span><br><span class="line">  <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="title function_">fetch</span>(imgURL);</span><br><span class="line">  <span class="keyword">const</span> blob = <span class="keyword">await</span> data.<span class="title function_">blob</span>();</span><br><span class="line">  <span class="keyword">await</span> navigator.<span class="property">clipboard</span>.<span class="title function_">write</span>([</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ClipboardItem</span>(&#123;</span><br><span class="line">      [blob.<span class="property">type</span>]: blob</span><br><span class="line">    &#125;)</span><br><span class="line">  ]);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Image copied.&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">error</span>(err.<span class="property">name</span>, err.<span class="property">message</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面示例中，脚本向剪贴板写入了一张图片。注意，Chrome 浏览器目前只支持写入 PNG 格式的图片。</p>
<p>ClipboardItem()是浏览器原生提供的构造函数，用来生成ClipboardItem实例，它接受一个对象作为参数，该对象的键名是数据的 MIME 类型，键值就是数据本身。</p>
<p>下面的例子是将同一个剪贴项的多种格式的值，写入剪贴板，一种是文本数据，另一种是二进制数据，供不同的场合粘贴使用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">copy</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">const</span> image = <span class="keyword">await</span> <span class="title function_">fetch</span>(‘kitten.<span class="property">png</span>’);</span><br><span class="line"><span class="keyword">const</span> text = <span class="keyword">new</span> <span class="title class_">Blob</span>([‘<span class="title class_">Cute</span> sleeping kitten’], &#123;<span class="attr">type</span>: ‘text/plain’&#125;);</span><br><span class="line"><span class="keyword">const</span> item = <span class="keyword">new</span> <span class="title class_">ClipboardItem</span>(&#123;</span><br><span class="line">‘text/plain’: text,</span><br><span class="line">‘image/png’: image</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">await</span> navigator.<span class="property">clipboard</span>.<span class="title function_">write</span>([item]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>五、copy 事件，cut 事件<br>用户向剪贴板放入数据时，将触发copy事件。</p>
<p>下面的示例是将用户放入剪贴板的文本，转为大写。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> source = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.source&#x27;</span>);</span><br><span class="line"></span><br><span class="line">source.<span class="title function_">addEventListener</span>(<span class="string">&#x27;copy&#x27;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> selection = <span class="variable language_">document</span>.<span class="title function_">getSelection</span>();</span><br><span class="line">  event.<span class="property">clipboardData</span>.<span class="title function_">setData</span>(<span class="string">&#x27;text/plain&#x27;</span>, selection.<span class="title function_">toString</span>().<span class="title function_">toUpperCase</span>());</span><br><span class="line">  event.<span class="title function_">preventDefault</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>上面示例中，事件对象的clipboardData属性包含了剪贴板数据。它是一个对象，有以下属性和方法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Event</span>.<span class="property">clipboardData</span>.<span class="title function_">setData</span>(type, data)：修改剪贴板数据，需要指定数据类型。</span><br><span class="line"><span class="title class_">Event</span>.<span class="property">clipboardData</span>.<span class="title function_">getData</span>(type)：获取剪贴板数据，需要指定数据类型。</span><br><span class="line"><span class="title class_">Event</span>.<span class="property">clipboardData</span>.<span class="title function_">clearData</span>([type])：清除剪贴板数据，可以指定数据类型。如果不指定类型，将清除所有类型的数据。</span><br><span class="line"><span class="title class_">Event</span>.<span class="property">clipboardData</span>.<span class="property">items</span>：一个类似数组的对象，包含了所有剪贴项，不过通常只有一个剪贴项。</span><br></pre></td></tr></table></figure>

<p>下面的示例是拦截用户的复制操作，将指定内容放入剪贴板。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> clipboardItems = [];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(‘copy’, <span class="keyword">async</span> (e) =&gt; &#123;</span><br><span class="line">e.<span class="title function_">preventDefault</span>();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">let</span> clipboardItems = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> e.<span class="property">clipboardData</span>.<span class="property">items</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (!item.<span class="property">type</span>.<span class="title function_">startsWith</span>(‘image/’)) &#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">clipboardItems.<span class="title function_">push</span>(</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">ClipboardItem</span>(&#123;</span><br><span class="line">[item.<span class="property">type</span>]: item,</span><br><span class="line">&#125;)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">await</span> navigator.<span class="property">clipboard</span>.<span class="title function_">write</span>(clipboardItems);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(‘<span class="title class_">Image</span> copied.’);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">error</span>(err.<span class="property">name</span>, err.<span class="property">message</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>上面示例中，先使用e.preventDefault()取消了剪贴板的默认操作，然后由脚本接管复制操作。</p>
<p>cut事件则是在用户进行剪切操作时触发，它的处理跟copy事件完全一样，也是从Event.clipboardData属性拿到剪切的数据。</p>
<p>六、paste 事件<br>用户使用剪贴板数据，进行粘贴操作时，会触发paste事件。</p>
<p>下面的示例是拦截粘贴操作，由脚本将剪贴板里面的数据取出来。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;paste&#x27;</span>, <span class="keyword">async</span> (e) =&gt; &#123;</span><br><span class="line">  e.<span class="title function_">preventDefault</span>();</span><br><span class="line">  <span class="keyword">const</span> text = <span class="keyword">await</span> navigator.<span class="property">clipboard</span>.<span class="title function_">readText</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Pasted text: &#x27;</span>, text);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>一、原理：<br>利用 input 框的 .select() 事件选中需要复制的文本。<br>利用 document.execCommand(“copy”) 来将文字复制到剪切板中。【MDN已废弃,部分浏览器可使用】</p>
<h2 id="js毫秒如何转时分秒"><a href="#js毫秒如何转时分秒" class="headerlink" title="js毫秒如何转时分秒"></a>js毫秒如何转时分秒</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">formatDuring</span>: <span class="keyword">function</span>(<span class="params">mss</span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> days = <span class="built_in">parseInt</span>(mss / (<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> hours = <span class="built_in">parseInt</span>((mss % (<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>)) / (<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span>));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> minutes = <span class="built_in">parseInt</span>((mss % (<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span>)) / (<span class="number">1000</span> * <span class="number">60</span>));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> seconds = (mss % (<span class="number">1000</span> * <span class="number">60</span>)) / <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> days + <span class="string">&quot; 天 &quot;</span> + hours + <span class="string">&quot; 小时 &quot;</span> + minutes + <span class="string">&quot; 分钟 &quot;</span> + seconds + <span class="string">&quot; 秒 &quot;</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="关闭页面发送请求"><a href="#关闭页面发送请求" class="headerlink" title="关闭页面发送请求"></a>关闭页面发送请求</h2><ul>
<li>同步ajax</li>
</ul>
<p>在用户将页面完全关闭前，有时需要向后台传输一些必要数据（比如：用户行为分析数据）。为了避免数据丢失，一些网站会使用同步的 <code>XMLHttpRequest()</code> 请求，直到数据完全传递到服务器，再关闭页面。这种处理方式，可能会导致诸如页面延迟几秒后再关闭的糟糕体验，其实我们有更好的解决这类问题的方式。<br>XMLHttpRequest 规范提到 同步 XMLHttpRequest 已经计划从 Web 平台删除，开发者禁止将</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>().<span class="title function_">open</span>(method, url [, <span class="keyword">async</span> = <span class="literal">true</span> [, username = <span class="literal">null</span> [, password = <span class="literal">null</span>]]]) </span><br></pre></td></tr></table></figure>

<p>方法中 async 参数赋值为 false 使用。Chrome 80 中迈出了第一步，开始禁止在如下这些事件处理器中使用同步 XMLHttpRequest：<code>beforeunload</code>、<code>unload</code>、<code>pagehide</code>、<code>visibilitychange</code>。Webkit 最近也有一个实现此行为的提交。</p>
<ul>
<li><code>fetch keepalive</code><br>Fetch API  提供了一套健壮的与服务器端交互的方式，提供了跨越不同平台 API 的一致接口。它提供了一个选项 <code>keepalive</code>，保证不管发送请求的页面关闭与否，请求都会持续直到结束。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;unload&#x27;</span>, &#123;</span><br><span class="line">  <span class="title function_">fetch</span>(<span class="string">&#x27;/siteAnalytics&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">body</span>: <span class="title function_">getStatistics</span>(),</span><br><span class="line">    <span class="attr">keepalive</span>: <span class="literal">true</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>fetch() 方法的优点是可以更好地控制发送到服务器的内容。fetch() 方法会返回一个 Promise 对象，resolve 值是 Response 对象。 本例中，我没有使用 fetch() 返回值做任何其他的事情，是因为这个请求发生在页面卸载之时，因此并不一定会保证执行。</p>
<ul>
<li>SendBeacon()</li>
</ul>
<p>SendBeacon() 方法底层的使用的是 Fetch API。这样就能明白为什么它也有 <code>64 KB</code>  的上传数据限制，也能明白为什么它还能在页面卸载后继续请求。它的主要优点是简单，只要用一行代码就能搞定。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;unload&#x27;</span>, &#123;</span><br><span class="line">  navigator.<span class="title function_">sendBeacon</span>(<span class="string">&#x27;/siteAnalytics&#x27;</span>, <span class="title function_">getStatistics</span>());<span class="comment">//post请求</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="v-for遍历对象获取下标"><a href="#v-for遍历对象获取下标" class="headerlink" title="v-for遍历对象获取下标"></a>v-for遍历对象获取下标</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v-<span class="keyword">for</span>=<span class="string">&quot;(value,key,index) in obj&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="去重"><a href="#去重" class="headerlink" title="去重"></a>去重</h2><ul>
<li>方法1：先排序后去重</li>
</ul>
<p>1）对数组进行双重循环；如果外循环的值大于内循环的值；就利用第三方变量对其交换值 ；这儿也可以用 sort</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a.<span class="title function_">sort</span>(<span class="function">(<span class="params">a,b</span>)=&gt;</span>&#123;<span class="keyword">return</span> a-b&#125;); <span class="comment">// 排序</span></span><br></pre></td></tr></table></figure>

<p>2）当排序完成以后；再次循环进行比较相邻的两个值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a =[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>]</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">info</span>(<span class="params">a</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> arr = []</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;a.<span class="property">length</span>;i++)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>;j&lt;a.<span class="property">length</span>-<span class="number">1</span>;j++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(a[i]&gt;a[j])&#123;</span><br><span class="line">                        <span class="keyword">var</span> list = a[i]</span><br><span class="line">                        a[i] = a[j]</span><br><span class="line">                        a[j] = list</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> e=<span class="number">0</span>;e&lt;a.<span class="property">length</span>;e++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a[e] != a[e+<span class="number">1</span>])&#123;</span><br><span class="line">                    arr.<span class="title function_">push</span>(a[e])</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> arr</span><br><span class="line"> &#125;</span><br><span class="line">        <span class="keyword">let</span> list = <span class="title function_">info</span>(a)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(list); <span class="comment">// 输出结果 [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>方法2：indexOf去重</li>
</ul>
<p>此去重主要是利用 indexOf 去查找是否有相同的值；如果没有就返回-1</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a =[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>]</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">info</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">            <span class="keyword">let</span> a = []</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> arr)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a.<span class="title function_">indexOf</span>(arr[i])==-<span class="number">1</span>)&#123;</span><br><span class="line">                    a.<span class="title function_">push</span>(arr[i])</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> a</span><br><span class="line">  &#125;</span><br><span class="line">        <span class="keyword">let</span> list = <span class="title function_">info</span>(a)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(list); <span class="comment">// 输出结果 [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>方法3：双重for循环去重</li>
</ul>
<p>这儿需要注意一点的就是内循环的时候不要 a.length-1；否则的话就会出现[1, 2, 3, 4, 5, 5]这个结果</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a =[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>]</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;a.<span class="property">length</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> j=i+<span class="number">1</span>;j&lt;a.<span class="property">length</span>;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a[i]===a[j])&#123;</span><br><span class="line">                a.<span class="title function_">splice</span>(j,<span class="number">1</span>);</span><br><span class="line">                    j--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">     &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 输出结果 [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>

<p>方法4：Set去重<br>set去重应该说是简单的去重方式了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> list = [...<span class="keyword">new</span> <span class="title class_">Set</span>(a)]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(list); <span class="comment">// 输出结果 [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>

<h2 id="树"><a href="#树" class="headerlink" title="树"></a>树</h2><p>列表数据转树型结构</p>
<p>话不多说，直接进入正题~<br>列表数据中字段如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&#x27;节点1&#x27;</span>,</span><br><span class="line">        <span class="attr">parentId</span>: <span class="number">0</span> <span class="comment">//这里用0表示为顶级节点</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&#x27;节点1_1&#x27;</span>,</span><br><span class="line">        <span class="attr">parentId</span>: <span class="number">1</span> <span class="comment">//通过这个字段来确定子父级</span></span><br><span class="line">    &#125;</span><br><span class="line">    ...   </span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>我们预期的结果：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&#x27;节点1&#x27;</span>,</span><br><span class="line">        <span class="attr">parentId</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">children</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>:<span class="number">2</span>,</span><br><span class="line">                <span class="attr">text</span>: <span class="string">&#x27;节点1_1&#x27;</span>,</span><br><span class="line">                <span class="attr">parentId</span>:<span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>先说一下实现的思路：<br>1、先把列表数据转成以id为key，节点本身为value的对象temp；<br>2、定义空列表treeData，然后遍历temp对象<br>2-1、如果当前节点不是顶级节点（parentId不为0），那找到以parentId作为key的节点，并把当前节点push到该节点的children中；<br>2-2、如果当前节点是顶级节点，只需把该节点push到treeData中,当temp遍历结束后，treeData就是最后的树型数据。</p>
<p>具体代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> temp = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> treeData = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;data.<span class="property">length</span>; i++)&#123;</span><br><span class="line">    temp[data[i].<span class="property">id</span>] = data[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> temp)&#123;</span><br><span class="line">     <span class="keyword">if</span>(temp[i].<span class="property">parentId</span> != <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">         <span class="keyword">if</span>(!temp[temp[i].<span class="property">parentId</span>].<span class="property">children</span>) &#123;</span><br><span class="line">             temp[temp[i].<span class="property">parentId</span>].<span class="property">children</span> = <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line">         &#125;</span><br><span class="line">         temp[temp[i].<span class="property">parentId</span>].<span class="property">children</span>.<span class="title function_">push</span>(temp[i]);</span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         treeData.<span class="title function_">push</span>(temp[i]);</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里特别说一下有个稍微底层一点的东东，也是该方法实现的关键所在。。<br>大家想一想，逐步跟一下这个过程，在遍历temp时，假如顶级节点1先被push到了treeData中，而后面又有子节点被添加到了节点1中，那么这个子节点最后能不能被带入到treeData中的节点1里呢？答案是可以的~为节点1本身是个Object对象，它指向了一个内存地址，而无论后续节点1怎么改变，被push到treeData中的节点1都会指向同一个地址，所以节点1被什么时候push都没有关系，最后就是完整的数据。</p>
<h2 id="前端实现吸顶的三种方式"><a href="#前端实现吸顶的三种方式" class="headerlink" title="前端实现吸顶的三种方式"></a>前端实现吸顶的三种方式</h2><ul>
<li><p>一、position: sticky<br>设置粘性定位并且添加某个方位才可生效，但是兼容性较差。</p>
</li>
<li><p>二、动态修改元素的position<br>监听页面的滚动，比较 元素初始状态距离顶部的高度offsetTop 与 页面此时的滚动高度 。当后者大于前者时，修改元素的position方式为fixed。</p>
</li>
<li><p>三、障眼法<br>复制一个相同的元素，将其固定于顶部并让其先隐藏。<br>监听页面的滚动，比较 元素初始状态距离顶部的高度offsetTop 与 页面此时的滚动高度 ，当后者数值大于前者数值时，原来的元素刚刚好触顶，且正与新元素的位置重合。<br>此时我们在监听方法中，让这个新元素显示。<br>当页面继续滚动的时候，原来的元素已经被滚上去了，而新的元素一直被固定在顶部并且此时已经显示出来，所以这个过程发生的时候，会让人有一种元素改变了定位方式的错觉。</p>
</li>
</ul>
<h2 id="如何强制完全重新加载-location-reload（true）已弃用"><a href="#如何强制完全重新加载-location-reload（true）已弃用" class="headerlink" title="如何强制完全重新加载,location.reload（true）已弃用"></a>如何强制完全重新加载,location.reload（true）已弃用</h2><p>由于该forceReload参数已被弃用，它也已经被一些浏览器忽略了。</p>
<p><code>location.reload();</code>如果您想执行强制重新加载（如使用Ctrl+完成F5）以便从服务器而不是浏览器缓存重新加载所有资源，则使用 only不是解决方案。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//执行POST对当前位置的请求，因为这总是会使浏览器重新加载所有内容。</span></span><br><span class="line"><span class="comment">//location.reload()只是执行一个GET请求。于是，我来到了解决办法将一个空的形式对角应用与method=&quot;POST&quot;和action=&quot;https://example.org/&quot;，然后提交从代码隐藏表单想要当。</span></span><br><span class="line"><span class="title function_">forceReload</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(environment.<span class="property">production</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> form = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;form&#x27;</span>);</span><br><span class="line">        form.<span class="property">method</span> = <span class="string">&quot;POST&quot;</span>;</span><br><span class="line">        form.<span class="property">action</span> = location.<span class="property">href</span>;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(form);</span><br><span class="line">        form.<span class="title function_">submit</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">location</span>.<span class="title function_">reload</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//由于window.location.reload(true)已被弃用。您可以使用：</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>,</span><br><span class="line"><span class="comment">//强制重新加载并清除缓存。</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.baidu.com/2021/04/22/20-44-11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/22/20-44-11/" class="post-title-link" itemprop="url">Webpack</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-22 20:44:11" itemprop="dateCreated datePublished" datetime="2021-04-22T20:44:11+08:00">2021-04-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-05-14 12:06:33" itemprop="dateModified" datetime="2023-05-14T12:06:33+08:00">2023-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index"><span itemprop="name">web</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h1><p>是一种前端资源构建工具，一个静态模块打包器（module bundler）。在webpack看来，前端所有资源文件都会作为模块处理，它将根据模块的依赖关系进行静态分析，打包成对应的静态资源（bundle）。</p>
<h2 id="五个核心概念"><a href="#五个核心概念" class="headerlink" title="五个核心概念"></a>五个核心概念</h2><h3 id="Entry"><a href="#Entry" class="headerlink" title="Entry"></a>Entry</h3><p>入口，指示webpack以哪个文件为入口起点开始打包，分析构建内部依赖图。</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>输出，指示webpack打包后的资源bundles输出到哪里去，以及如何命名</p>
<h3 id="Loader"><a href="#Loader" class="headerlink" title="Loader"></a>Loader</h3><p>让webpack能够去处理那些非js文件</p>
<h3 id="Plugins"><a href="#Plugins" class="headerlink" title="Plugins"></a>Plugins</h3><p>用于执行范围更广的任务，如打包优化，压缩等</p>
<h3 id="Mode"><a href="#Mode" class="headerlink" title="Mode"></a>Mode</h3><p>指示webpack使用相应模式的配置</p>
<ul>
<li>development本地开发模式</li>
</ul>
<p>会将<code>process.env.NODE_ENV</code>的值设为development;启用NamedChunksPlugin和NamedModulesPlugin</p>
<p>开发环境：<code>webpack ./src/index.js -o ./build/built.js --mode=development</code>;webpack会以./src/index.js为入口文件开始打包，输出到./build/built.js</p>
<ul>
<li>production上线生产模式</li>
</ul>
<p>会将<code>process.env.NODE_ENV</code>的值设为production;启用FlagDependencyUsagePlugin,FlagIncludedChunksPlugin,ModuleConcatenationPlugin,NoEmitOnErrorsPlugin,OccurrenceOrderPlugin,SideEffectsFlagPlugin,UglifyJsPlugin；</p>
<p>生产环境：<code>webpack ./src/index.js -o ./build/built.js --mode=production</code>;webpack会以./src/index.js为入口文件开始打包，输出到./build/built.js</p>
<ol>
<li>webpack能处理js/json文件，不能处理css、img等其他文件</li>
<li>生产环境和开发环境会将es6模块化编译成浏览器能识别的模块化</li>
<li>生产环境比开发环境多一个压缩js代码的过程。</li>
</ol>
<h2 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h2><ul>
<li>webpack.config.js</li>
</ul>
<p>webpack配置文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//用于拼接路径</span></span><br><span class="line"><span class="keyword">const</span> &#123;resolve&#125;=<span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="comment">//插件:需要下载</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span>=<span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//webpack配置</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>=&#123;</span><br><span class="line"><span class="comment">//入口起点</span></span><br><span class="line"><span class="attr">entry</span>:<span class="string">&#x27;./src/index.js&#x27;</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="attr">output</span>:&#123;</span><br><span class="line"><span class="comment">//输出文件名</span></span><br><span class="line"><span class="attr">filename</span>:<span class="string">&#x27;built.js&#x27;</span></span><br><span class="line"><span class="comment">//输出路径</span></span><br><span class="line"><span class="attr">path</span>: <span class="title function_">resolve</span>(__dirname,<span class="string">&#x27;build&#x27;</span>)</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">//loader配置</span></span><br><span class="line"><span class="attr">module</span>:&#123;</span><br><span class="line"><span class="attr">rules</span>:[ <span class="comment">//loader配置</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//匹配哪些文件</span></span><br><span class="line"><span class="attr">test</span>:<span class="regexp">/\.css$/</span>,</span><br><span class="line"><span class="comment">//使用哪些loader进行处理</span></span><br><span class="line"><span class="attr">use</span>:[</span><br><span class="line"><span class="comment">//use数组中loader执行顺序：从右到左，从下到上，依次执行。</span></span><br><span class="line"><span class="comment">//创建style标签，将js中的样式资源插入进行，添加到head中生效</span></span><br><span class="line"><span class="string">&#x27;style-loader&#x27;</span>,</span><br><span class="line"><span class="comment">//将css文件变成commonjs模块加载到jsa中,里面内容是样式字符串</span></span><br><span class="line"><span class="string">&#x27;css-loader&#x27;</span></span><br><span class="line">]</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//匹配哪些文件</span></span><br><span class="line"><span class="attr">test</span>:<span class="regexp">/\.less$/</span>,</span><br><span class="line"><span class="comment">//使用哪些loader进行处理</span></span><br><span class="line"><span class="attr">use</span>:[</span><br><span class="line"><span class="string">&#x27;style-loader&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line"><span class="comment">//将less文件编译成css文件,需要下载less-loader和less</span></span><br><span class="line"><span class="string">&#x27;less-loader&#x27;</span></span><br><span class="line">]</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//处理图片</span></span><br><span class="line"><span class="attr">test</span>:<span class="regexp">/\.(jpg|png|gif)$/</span>,</span><br><span class="line"><span class="comment">//问题：处理不了html中的img图片</span></span><br><span class="line"><span class="comment">//使用一个loader</span></span><br><span class="line"><span class="attr">loader</span>:<span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line"><span class="attr">options</span>:&#123;</span><br><span class="line"><span class="attr">limit</span>:<span class="number">8</span>*<span class="number">1024</span>,  <span class="comment">//图片小于8kb,会被处理成base64，减少请求数量，减轻服务器压力，但图片体积会更大</span></span><br><span class="line"><span class="attr">esModule</span>:<span class="literal">false</span>,  <span class="comment">//关闭url-loader的es6模块化，使用commonjs解析，避免解析时出现[object Module]</span></span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;[hash:10].[ext]&#x27;</span>,  <span class="comment">//给图片重新命名，提取图片hash的前10位，扩展名为ext</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//处理html中的img图片（负责引入img,从而能被url-loader处理）</span></span><br><span class="line"><span class="attr">test</span>:<span class="regexp">/\.html$/</span>,</span><br><span class="line"><span class="attr">loader</span>:<span class="string">&#x27;html-loader&#x27;</span></span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//打包其他资源</span></span><br><span class="line"><span class="attr">exclude</span>:<span class="regexp">/\.(css|js|html|less)$/</span>, <span class="comment">//排除css、js、html</span></span><br><span class="line"><span class="attr">loader</span>:<span class="string">&#x27;file-loader&#x27;</span>,</span><br><span class="line"><span class="attr">opetions</span>:&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;[hash:10].[ext]&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">//语法检查,只检查自己写的源代码，第三方的库是不用检查的，检查规则需要在package.json中的eslintConsig中设置</span></span><br><span class="line"><span class="comment">//需下载eslint-config-airbnb-base   eslint-plugin-import</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">test</span>:<span class="regexp">/\.js$/</span>,</span><br><span class="line"><span class="attr">exclue</span>:<span class="regexp">/node_modules/</span>,</span><br><span class="line"><span class="attr">loader</span>:<span class="string">&#x27;eslint-loader&#x27;</span>,</span><br><span class="line">options&#123;</span><br><span class="line"><span class="attr">fix</span>:<span class="literal">true</span> <span class="comment">//自动修复eslint的错误</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//js兼容处理：babel-loader   @babel/core    @babel/preset-env</span></span><br><span class="line"><span class="comment">//基本js兼容性处理--&gt;@babel/preset-env；只能转换基本语法，如promise不能转换</span></span><br><span class="line"><span class="comment">//全部js兼容性处理--&gt;@babel/polyfill；会将所有兼容性代码全部引入，体积太大</span></span><br><span class="line"><span class="comment">//按需加载--&gt;core-js</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">test</span>:<span class="regexp">/\.js$/</span>,</span><br><span class="line"><span class="attr">exclude</span>:<span class="regexp">/node_modules/</span>,</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">当一个文件需要多个loader处理时，需要指定loader执行的先后顺序</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="attr">enforce</span>:<span class="string">&#x27;pre&#x27;</span>, <span class="comment">//优先执行</span></span><br><span class="line"><span class="attr">loader</span>:<span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line"><span class="attr">options</span>:&#123;</span><br><span class="line"><span class="comment">//预设：指示babel做怎样的兼容处理</span></span><br><span class="line"><span class="attr">presets</span>:[</span><br><span class="line"><span class="string">&#x27;@babel/preset-env&#x27;</span>,</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//按需加载</span></span><br><span class="line"><span class="attr">useBuiltIns</span>:<span class="string">&#x27;usage&#x27;</span>,</span><br><span class="line"><span class="comment">///指定core-js版本</span></span><br><span class="line"><span class="attr">corejs</span>:&#123;</span><br><span class="line"><span class="attr">version</span>:<span class="number">3</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//指定兼容浏览器的版本</span></span><br><span class="line"><span class="attr">targets</span>:&#123;</span><br><span class="line"><span class="attr">chrome</span>:<span class="string">&#x27;60&#x27;</span>,</span><br><span class="line"><span class="attr">firefox</span>:<span class="string">&#x27;60&#x27;</span>,</span><br><span class="line"><span class="attr">edge</span>:<span class="string">&#x27;60&#x27;</span>,</span><br><span class="line"><span class="attr">ie</span>:<span class="string">&#x27;9&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">/*//第二种写法</span></span><br><span class="line"><span class="comment">rules:[</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">test:/\.css$/,</span></span><br><span class="line"><span class="comment">use:[</span></span><br><span class="line"><span class="comment">//取代style-loader,提取js中的css成单独文件</span></span><br><span class="line"><span class="comment">MiniCssExtractPlugin.loader,</span></span><br><span class="line"><span class="comment">&#x27;css-loader&#x27;,</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">//css兼容性处理：帮postcss找到package.json中browserslist里面的配置，通过配置加载指定的css兼容性样式</span></span><br><span class="line"><span class="comment">//需下载postcss-loader  postcss-preset-env</span></span><br><span class="line"><span class="comment">loader:&#x27;postcss-loader&#x27;,</span></span><br><span class="line"><span class="comment">options:&#123;</span></span><br><span class="line"><span class="comment">ident:&#x27;postcss&#x27;,</span></span><br><span class="line"><span class="comment">plugin:()=&gt;[require(&#x27;postcss-present-env&#x27;)()]</span></span><br><span class="line"><span class="comment">&#125;,</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">//plugin配置</span></span><br><span class="line"><span class="attr">plugins</span>:[</span><br><span class="line"></span><br><span class="line"><span class="comment">//html-webpack-plugin</span></span><br><span class="line"><span class="comment">//默认创建一个空的html，自动引入打包输出的所有文件</span></span><br><span class="line"><span class="comment">//需要有结构的html文件</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line"><span class="comment">//复制‘./src/index.html’文件，并自动引入打包输出的所有文件资源</span></span><br><span class="line"><span class="attr">template</span>:<span class="string">&#x27;./src/index.html&#x27;</span>,</span><br><span class="line"><span class="attr">minify</span>:&#123; <span class="comment">//压缩html代码</span></span><br><span class="line"><span class="attr">collapseWhitespace</span>:<span class="literal">true</span>, <span class="comment">//移除空格</span></span><br><span class="line"><span class="attr">removeComments</span>:<span class="literal">true</span>  <span class="comment">//移除注释</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;),</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">//css兼容</span></span><br><span class="line"><span class="comment">new MiniCssExtratPlugin(&#123;</span></span><br><span class="line"><span class="comment">filename:&#x27;css/built.css&#x27;</span></span><br><span class="line"><span class="comment">&#125;),</span></span><br><span class="line"><span class="comment">//压缩css</span></span><br><span class="line"><span class="comment">new OptimizeCssAssetsWebpackPlugin()</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">],</span><br><span class="line"></span><br><span class="line"><span class="comment">//模式</span></span><br><span class="line"><span class="attr">mode</span>:<span class="string">&#x27;development&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//开启服务器devSever,用于自动编译，自动打开浏览器，刷新浏览器，但只在内存中编译打包，不就有实际输出</span></span><br><span class="line"><span class="comment">//启动指令为：npx webpack-dev-server</span></span><br><span class="line"><span class="attr">devServer</span>:&#123;</span><br><span class="line"><span class="attr">contentBase</span>:<span class="title function_">resolve</span>(__dirname,<span class="string">&#x27;build&#x27;</span>),</span><br><span class="line"><span class="comment">//启用gzip压缩</span></span><br><span class="line"><span class="attr">compress</span>:<span class="literal">true</span>,</span><br><span class="line"><span class="comment">//端口号</span></span><br><span class="line"><span class="attr">port</span>:<span class="number">3333</span>,</span><br><span class="line"><span class="comment">//自动打开浏览器</span></span><br><span class="line"><span class="attr">open</span>:<span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>package.json</li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="attr">&quot;browserslist&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span>  <span class="comment">//兼容的浏览器版本</span></span><br><span class="line"><span class="comment">//默认匹配生产环境，可通过修改process.env.NODE_ENV=developent来改变</span></span><br><span class="line"> <span class="attr">&quot;developent&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span></span><br><span class="line">  <span class="string">&quot;last 1 chrome version&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="string">&quot;last 1 firefox version&quot;</span><span class="punctuation">,</span></span><br><span class="line"> <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"> <span class="attr">&quot;production&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span></span><br><span class="line">  <span class="string">&quot;&gt;0.2%&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="string">&quot;not dead&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="string">&quot;not op_mini all&quot;</span> </span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line"><span class="attr">&quot;eslintConfig&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;extends&quot;</span><span class="punctuation">:</span><span class="string">&quot;airbnb-base&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<ul>
<li>index.js</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引用样式</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./index.css&#x27;</span></span><br><span class="line"><span class="comment">//兼容js</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@babel/polyfill&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h2><h3 id="开发环境优化"><a href="#开发环境优化" class="headerlink" title="开发环境优化"></a>开发环境优化</h3><ul>
<li>打包构建速度</li>
</ul>
<p>HMR:模块热替换;当模块发生变化时，只会重新打包这个模块，而不是打包全部模块。</p>
<p> package.json</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">devServer<span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">...</span><br><span class="line"><span class="comment">//开启HMR功能</span></span><br><span class="line">hot<span class="punctuation">:</span><span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>样式文件:可以使用hmr功能：style-loader内部实现了</li>
<li>js文件：默认不能使用hmr功能,解决办法：修改js代码，添加支持hmr功能的代码，但只能处理非入口js文件的其他文件。<br>index.html</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="variable language_">module</span>.<span class="property">hot</span>)&#123;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">hot</span>.<span class="title function_">accept</span>(<span class="string">&#x27;./test.js&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;); <span class="comment">//监听test.js的变化，若变化则执行回调函数</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>html文件：默认不能使用hmr功能,解决办法：修改entry，将html文件引入</li>
</ul>
<p>webpack.config.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>=&#123;</span><br><span class="line"><span class="attr">entry</span>:[<span class="string">&#x27;./src/js/index.js&#x27;</span>,<span class="string">&#x27;./src/index.html&#x27;</span>],</span><br><span class="line"><span class="attr">output</span>:&#123;...&#125;,</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>代码调试</li>
</ul>
<h3 id="生成环境优化"><a href="#生成环境优化" class="headerlink" title="生成环境优化"></a>生成环境优化</h3><ul>
<li>打包构建速度</li>
<li>代码运行的性能</li>
</ul>
<p>source-map:一种提供源代码到构建后代码映射的技术，用于检测源代码的错误<br>种类：</p>
<blockquote>
<p>内联和外部的区别：外部生成了文件而内联没有，内联的构建速度更快；</p>
</blockquote>
<ul>
<li>source-map:外部<br>错误代码准确信息和源代码的错误位置</li>
<li>inline-source-map:内联<br>只生成一个内联source-map<br>错误代码的准确信息和源代码的错误位置</li>
<li>hidden-source-map:外部<br>错误代码的错误原因，但没有错误位置<br>不能追踪源代码错误，只能提示到构建后代码的错误位置</li>
<li>eval-source-map:内联<br>每一个文件都生成对应的source-map，都在eval</li>
<li>nosources-source-map:外部<br>错误代码的准确信息,但没有任何源代码信息</li>
<li>cheap-souce-map:外部<br>错误代码准确信息和源代码的错误位置,只能精确到行</li>
<li>cheap-module-souce-map:外部<br>错误代码准确信息和源代码的错误位置</li>
</ul>
<p>开发环境：速度快(eval&gt;inline&gt;cheap&gt;..)，调试友好(souce-map,cheap-module-souce-map,cheap-spuce-map)<br>所以应选择eval-source-map/eval-cheap-module-souce-amp</p>
<p>生产环境：内联会让代码体积变大，所以不用内联，源代码要不要隐藏（nosource-source-map全部隐藏，hidden-source-map只隐藏源代码，会提示构建后代码错误信息）<br>所以选择source-map/cheap-module-souce-map</p>
<h2 id="oneOf"><a href="#oneOf" class="headerlink" title="oneOf"></a>oneOf</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//以下loader只会匹配一个</span></span><br><span class="line"><span class="comment">//注意：不能有两个配置处理同一个类型文件</span></span><br><span class="line"><span class="attr">oneOf</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">test</span>:<span class="regexp">/\.css$/</span>,</span><br><span class="line"><span class="attr">use</span>:[...commonCssLoadder]</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#123;&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<hr>
<ol>
<li>webpack打包后打开index.html无内容出现空白页面：修改webpack配置，在util.js中的<code>fallback:&#39;vue-style-loader&#39;,</code>下面增加publicPath:’../../‘，修改config/index.js，增加build：{ assetsPublicPath:’./‘}。另外，！路由模式改为hash模式</li>
<li>界面正常显示但出现cannot read property xxx of undefined（不能读取xxx属性）的问题：在渲染页面时，则会直接读取初始时的数据，若数据初始时为空，则容易出现错误。而请求是异步的，请求的数据会在页面首次渲染后才会发起</li>
</ol>
<ul>
<li>webpack设置服务器代理在config目录下的index.js中配置</li>
</ul>
<ol>
<li>保留eslint的语法检测把不符合自己习惯的规则去掉，可配置文件在项目根目录里以 .eslintrc.* 命名的文件。关闭方法，则是把 build/webpack.base.conf.js 配置文件中的eslint rules注释掉即可</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.baidu.com/2021/03/10/20-22-11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/10/20-22-11/" class="post-title-link" itemprop="url">HTML超文本标记语言</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-03-10 20:22:11" itemprop="dateCreated datePublished" datetime="2021-03-10T20:22:11+08:00">2021-03-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-05-14 12:06:33" itemprop="dateModified" datetime="2023-05-14T12:06:33+08:00">2023-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index"><span itemprop="name">web</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="HTML-是用来描述网页的一种语言"><a href="#HTML-是用来描述网页的一种语言" class="headerlink" title="HTML 是用来描述网页的一种语言"></a>HTML 是用来描述网页的一种语言</h1><blockquote>
<p>Hyper text markup Language(超文本标记语言)<br>超文本：通过超链接将文字＼图片＼音频＼动画等各种信息组织在一起</p>
</blockquote>
<ul>
<li><p>w3c(world wide web consortium 万维网联盟)</p>
<ul>
<li>结构化标准语言(html,xml)</li>
<li>表现标准语言(css)</li>
<li>行为标准（dom,ecmaScript）</li>
</ul>
</li>
<li><p>emmet语法：</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">div*3快速生成3个<span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">父子级关系：ul&gt;li</span><br><span class="line">兄弟关系：div+p</span><br><span class="line">生成带有类名的：.demo或#two</span><br><span class="line">有顺序的：加上$符号</span><br><span class="line">在生成的标签内写内容：&#123;&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>浏览器内核（渲染引擎）:</li>
</ul>
<blockquote>
<p>对代码进行解析渲染</p>
</blockquote>
<table>
<thead>
<tr>
<th>浏览器</th>
<th>内核</th>
<th>说明｜</th>
</tr>
</thead>
<tbody><tr>
<td>IE</td>
<td>Trident</td>
<td>IE，猎豹，百度，360浏览器</td>
</tr>
<tr>
<td>firefox</td>
<td>Gecko</td>
<td>火狐浏览器内核</td>
</tr>
<tr>
<td>safari</td>
<td>Webkit</td>
<td>苹果浏览器内核</td>
</tr>
<tr>
<td>chrome/Opera</td>
<td>Blink</td>
<td>Blink也是webkit的分支</td>
</tr>
</tbody></table>
<h2 id="HTML-标签"><a href="#HTML-标签" class="headerlink" title="HTML 标签"></a>HTML 标签</h2><blockquote>
<p>HTML 标记标签通常被称为 HTML 标签 (HTML tag)。</p>
</blockquote>
<ul>
<li>HTML 标签是由尖括号包围的关键词，比如<code>&lt;html&gt;</code></li>
<li>HTML 标签通常是成对出现的，称为双标签,如<code>&lt;html&gt;</code> 和<code>&lt;/html&gt;</code>.也有单标签：<code>&lt;br/&gt;</code></li>
<li>标签对中的第一个标签是开始标签，第二个标签是结束标签</li>
<li>开始和结束标签也被称为开放标签和闭合标签</li>
</ul>
<p>网页结构：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--告诉浏览器使用什么规范．使用html5标准进行解析网页--&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span> </span><br><span class="line"> <span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--网页头部--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span>   </span><br><span class="line">  <span class="comment">&lt;!--网页标题--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">title</span>&gt;</span>title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>base</li>
</ul>
<p><code>&lt;base href=&quot;&quot; target=&quot;_top&quot;&gt;</code>所有链接标签的默认链接</p>
<ul>
<li>meta视口标签</li>
</ul>
<blockquote>
<p>常用于指定网页描述、关键词、作者、事件等<br>seo</p>
</blockquote>
<p><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0&quot;&gt;</code></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>name=”viewport”</td>
<td>content=”width=(设置的是viewport宽度,可设置device-width特殊值),initial-scale=(初始缩放比，大于0的数字小于10),maximum-scale=（最大缩放比，大于0的数字)，minimum-scale=(最小缩放比，大于0的数字)，user-scalable=(用户是否可以缩放)”</td>
</tr>
<tr>
<td>name=”http-equiv”</td>
<td>额外添加头部内容</td>
</tr>
<tr>
<td>charset=’UTF-8’</td>
<td>编码</td>
</tr>
<tr>
<td>name=”keywords”</td>
<td>content=”xxx,xxx,xx”网页关键词</td>
</tr>
<tr>
<td>name=”description”</td>
<td>content=”xxx,xxx,xx”网页描述</td>
</tr>
</tbody></table>
<h3 id="常用标签"><a href="#常用标签" class="headerlink" title="常用标签"></a>常用标签</h3><blockquote>
<p>块级元素：元素独占一行，标签体内几乎能写任何元素<br>行内标签：由内容撑开,不独占一行, 只能写行内元素,写块级元素<br>行内块元素：</p>
</blockquote>
<ul>
<li><p>标题标签:<code>&lt;h1&gt;----&lt;h6&gt;</code></p>
</li>
<li><p>段落标签：<code>&lt;p&gt;</code>标签体内不能写块元素,若写，会放到ｐ标签外面或脚手架报错</p>
</li>
<li><p>换行标签：<code>&lt;br /&gt;</code></p>
</li>
<li><p>分割线： <code>&lt;hr&gt;</code></p>
</li>
<li><p>保持原有格式显示：<code>&lt;pre&gt;&lt;/pre&gt;</code></p>
</li>
<li><p>字体：<code>&lt;h1&gt;这是1号标题&lt;/h1&gt; &lt;font size=&quot;6&quot;&gt;这是6号字体文本&lt;/font&gt; 可以使用font-family（字体），color（颜色），和font-size（字体大小）属性来定义字体的样式,使用 text-align（文字对齐）属性指定文本的水平与垂直对齐方式</code>  </p>
</li>
</ul>
<blockquote>
<p>嵌套问题：超链接不能嵌套超链接，p标签不能嵌套p标签，标题标签h1-h6也不能嵌套；</p>
</blockquote>
<ul>
<li>内部样式表</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">当单个文件需要特别样式时，就可以使用内部样式表。你可以在<span class="tag">&lt;<span class="name">head</span>&gt;</span> 部分通过 <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-xml">标签定义内部样式表:<span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-tag">body</span> &#123;<span class="attribute">background-color</span>:yellow;&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-tag">p</span> &#123;<span class="attribute">color</span>:blue;&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>外部样式表</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">当样式需要被应用到很多页面的时候，外部样式表将是理想的选择。</span><br><span class="line">使用外部样式表，你就可以通过更改一个文件来改变整个站点的外观。</span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--定义了文档与外部资源的关系--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;mystyle.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>背景色属性:<code>&lt;p style=&quot;background-color:green;&quot;&gt;这是一个段落。&lt;/p&gt;</code></p>
</li>
<li><p>加粗：<code>&lt;strong&gt;或&lt;b&gt;</code></p>
</li>
<li><p>斜体：<code>&lt;em&gt;或&lt;i&gt;</code></p>
</li>
<li><p>下划线：<code>&lt;ins&gt;或&lt;u&gt;</code></p>
</li>
<li><p>删除线：<code>&lt;del&gt;或&lt;s&gt;</code></p>
</li>
<li><p>盒子: <code>&lt;div&gt;与&lt;span&gt;</code></p>
</li>
<li><p>图像标签和路径：<code>&lt;img src=&quot;图像路径&quot;/&gt;</code></p>
</li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>src</td>
<td>图片路径</td>
</tr>
<tr>
<td>alt</td>
<td>图片不显示时提醒文字</td>
</tr>
<tr>
<td>title</td>
<td></td>
</tr>
<tr>
<td>border</td>
<td>边框</td>
</tr>
<tr>
<td>width,height</td>
<td>宽，高，只写其中一个，会等比例缩放另一个</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>图片分类</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>jpg</td>
<td>有损压缩，支持的色彩丰富，占用空间小，不支持透明背景和动图</td>
</tr>
<tr>
<td>png</td>
<td>无损压缩，支持的色彩丰富，占用空间大，支持透明背景，不支持动图</td>
</tr>
<tr>
<td>bmp</td>
<td>不压缩，支持的色彩丰富，占用空间极大，不支持透明背景和动图</td>
</tr>
<tr>
<td>gif</td>
<td>仅支持256种颜色，支持简单透明背景和动图</td>
</tr>
<tr>
<td>webp</td>
<td>兼容性不太好，支持简单透明背景和动图</td>
</tr>
<tr>
<td>base64</td>
<td>用文本记录图片数据</td>
</tr>
</tbody></table>
<ul>
<li><p>超链接标签: <code>&lt;a href=&quot;跳转目标(外连接如www.xxx.com，内链接如xxx.html,空链接:#，下载链接)&quot; target=&quot;弹出方式(_self在本窗口打开，_blank在新窗口打开,_top跳出弹窗,&quot; download=&quot;下载文件&quot;&gt;文本图像&lt;/a&gt;</code></p>
</li>
<li><p>锚点:</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#one&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">h3</span> <span class="attr">id</span>=<span class="string">&quot;one&quot;</span>&gt;</span>标题<span class="tag">&lt;/<span class="name">h3</span>&gt;</span> </span><br><span class="line"> <span class="tag">&lt;<span class="name">a</span> <span class="attr">name</span>=<span class="string">&quot;one&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>回到顶部<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>刷新页面<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:alert(999);&quot;</span>&gt;</span>执行脚本<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;tel:10010&quot;</span>&gt;</span>打电话<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;mailto:xxx@qq.com&quot;</span>&gt;</span>邮件<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;sms:10086&quot;</span>&gt;</span>短信<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>特殊符号:</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>空格</td>
<td><code>&amp;nbsp;</code></td>
</tr>
<tr>
<td>小于号</td>
<td><code>&amp;lt;</code></td>
</tr>
<tr>
<td>大于号</td>
<td><code>&amp;gt;</code></td>
</tr>
</tbody></table>
<ul>
<li>表格标签：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--table标签的width和heigth是最小值--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">&quot;500px&quot;</span> <span class="attr">height</span>=<span class="string">&quot;500&quot;</span> <span class="attr">border</span>=<span class="string">&quot;1px&quot;</span> <span class="attr">cellspacing</span>=<span class="string">&quot;0&quot;</span>&gt;</span>  </span><br><span class="line">  <span class="comment">&lt;!--定义表格标签,属性引号可要可不要--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">caption</span>&gt;</span><span class="tag">&lt;/<span class="name">caption</span>&gt;</span><span class="comment">&lt;!--表格标题--&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">thead</span> <span class="attr">height</span>=<span class="string">&quot;500&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center|left|right&quot;</span> <span class="attr">valign</span>=<span class="string">&quot;top|middle|bottom&quot;</span>&gt;</span><span class="comment">&lt;!--表格头部--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span> </span><br><span class="line">   <span class="tag">&lt;<span class="name">th</span>&gt;</span><span class="tag">&lt;/<span class="name">th</span>&gt;</span><span class="comment">&lt;!--表头，td-&gt;th加粗文字--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="comment">&lt;!--列，必须嵌套在行中--&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">tbody</span> <span class="attr">height</span>=<span class="string">&quot;500&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center|left|right&quot;</span> <span class="attr">valign</span>=<span class="string">&quot;top|middle|bottom&quot;</span>&gt;</span><span class="comment">&lt;!--主体,tbody标签的height与thead、tfoot标签的height相加不能小于table标签的height--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">col</span> <span class="attr">width</span>=<span class="string">&quot;100px&quot;</span>&gt;</span><span class="comment">&lt;!--第1列的宽度--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">col</span> <span class="attr">width</span>=<span class="string">&quot;100px&quot;</span>&gt;</span><span class="comment">&lt;!--第2列的宽度--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">colgroup</span> <span class="attr">span</span>=<span class="string">&quot;6&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100px&quot;</span>&gt;</span><span class="comment">&lt;!--接下来6列合成一组，一起设置宽度--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span> <span class="comment">&lt;!--行--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="comment">&lt;!--合并单元格,需要删除多余的单元格--&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">2</span>&quot;&gt;</span><span class="comment">&lt;!--合并行,需要在下面行中删除一个单元格--&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span> <span class="attr">height</span>=<span class="string">&quot;100px&quot;</span>  <span class="attr">align</span>=<span class="string">&quot;center|left|right&quot;</span> <span class="attr">valign</span>=<span class="string">&quot;top|middle|bottom&quot;</span>&gt;</span> <span class="comment">&lt;!--设置行高，宽无法设置--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;100px&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center|left|right&quot;</span> <span class="attr">valign</span>=<span class="string">&quot;top|middle|bottom&quot;</span>&gt;</span> <span class="comment">&lt;!--设置列宽，一整列都一致变化,哪个大用哪个--&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">tfoot</span> <span class="attr">height</span>=<span class="string">&quot;500&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center|left|right&quot;</span> <span class="attr">valign</span>=<span class="string">&quot;top|middle|bottom&quot;</span>&gt;</span><span class="comment">&lt;!--页脚--&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">tfoot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>name<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>sex<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>age<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>xiaomi<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>man<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>19<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>表格属性：</p>
<table>
<thead>
<tr>
<th>属性名</th>
<th>属性值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>align</td>
<td>left,center,right</td>
<td>表格相对周围元素的对齐方式</td>
</tr>
<tr>
<td>border</td>
<td>1或”像素值”</td>
<td>边框</td>
</tr>
<tr>
<td>cellpadding</td>
<td>像素值</td>
<td>单元边沿与内容的的距离</td>
</tr>
<tr>
<td>cellspacing</td>
<td>像素值</td>
<td>单元格间的空白</td>
</tr>
<tr>
<td>width，height</td>
<td></td>
<td>高，宽</td>
</tr>
</tbody></table>
<ul>
<li><p>列表标签</p>
<ul>
<li>无序标签：</li>
</ul>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>列表<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>列表<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>列表<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p> 去掉小圆点：<code>list-style:none</code></p>
<ul>
<li>有序标签：</li>
</ul>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>自定义列表：</li>
</ul>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dt</span>&gt;</span>名词<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词解释<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词解释<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dt</span>&gt;</span>分类<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dd</span>&gt;</span>分类１<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>表单域：</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span></span></span><br><span class="line"><span class="tag"><span class="attr">action</span>=<span class="string">&quot;url地址(服务器程序的url地址)&quot;</span> </span></span><br><span class="line"><span class="tag"><span class="attr">method</span>=<span class="string">&quot;提交方式(get/post)&quot;</span> </span></span><br><span class="line"><span class="tag"><span class="attr">name</span>=<span class="string">&quot;表单域名称&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">表单域控件</span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>用<code>&lt;input type=&quot;sumit&quot; value=&quot;提交&quot; /&gt;</code>提交数据，用<code>&lt;input type=&quot;reset&quot; value=&quot;重置&quot; /&gt;</code>重置输入；input必须放在form标签内才能提交，所有提交的数据必须有name属性；</p>
<ul>
<li><p>input表单元素：<br><code>&lt;input type=&quot;属性值&quot; name=&quot;名称;单选按钮与复选框应是相同的name值&quot; value=&quot;规定input元素的值&quot; checked=&quot;首次加载时选中&quot; maxlength=&quot;输入字段的最大长度&quot; hidden readonly disabled placeholder=&quot;xx&quot; required pattern=&quot;[0-9]&quot;/&gt;</code></p>
</li>
<li><p>input 样式修改</p>
</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span>&#123;</span><br><span class="line"><span class="comment">/*除边框：*/</span></span><br><span class="line"><span class="attribute">border</span>:none;</span><br><span class="line">ouline:none;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*居中：*/</span></span><br><span class="line"><span class="attribute">vertical-align</span>:middle;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*隐藏radio的按钮:*/</span></span><br><span class="line"><span class="attribute">display</span>:none</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>type属性值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>button</td>
<td>按键</td>
</tr>
<tr>
<td>checkbox</td>
<td>定义复选框,name写成同样的则为一组，值为value。设置checked则默认选中</td>
</tr>
<tr>
<td>file</td>
<td>供文件上传</td>
</tr>
<tr>
<td>hidden</td>
<td>隐藏输入字段</td>
</tr>
<tr>
<td>image</td>
<td>图像形式提交按钮</td>
</tr>
<tr>
<td>password</td>
<td>密码字段</td>
</tr>
<tr>
<td>radio</td>
<td>定义单选按钮,name写成同样的则为一组，值为value,不写则为on,设置checked则默认选中</td>
</tr>
<tr>
<td>reset</td>
<td>重置按钮,value则为标签体的值,不能写name</td>
</tr>
<tr>
<td>submit</td>
<td>提交按钮,value则为标签体的值,不能写name</td>
</tr>
<tr>
<td>text</td>
<td>输入字段，value默认值，maxlength最大长度</td>
</tr>
</tbody></table>
<ul>
<li>label标签：用于绑定表单域，点击自动调整到输入框</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span>for=&quot;sex&quot;&gt; 男\<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">id</span>=<span class="string">&quot;sex&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>select:下拉列表</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">/*至少包含一对option*/</span><br><span class="line"><span class="tag">&lt;<span class="name">option</span>&gt;</span>\<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">option</span>&gt;</span>\<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">/*默认选中*/</span><br><span class="line"><span class="tag">&lt;<span class="name">option</span> <span class="attr">selected</span>=<span class="string">&quot;selected&quot;</span>\&gt;</span>xxx\<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>textarea:多行文本输入框</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">rows</span>=<span class="string">&quot;3&quot;</span> <span class="attr">cols</span>=<span class="string">&quot;28&quot;</span>&gt;</span>   /*cols:每行字符数； rows：行数*/</span><br><span class="line">内容</span><br><span class="line"><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>iframe</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&#x27;xxx&#x27;</span> <span class="attr">name</span>=<span class="string">&quot;mainFrame&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100px&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100px&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="HTML5特性"><a href="#HTML5特性" class="headerlink" title="HTML5特性"></a>HTML5特性</h3><h4 id="1-新增语义化标签"><a href="#1-新增语义化标签" class="headerlink" title="1.新增语义化标签"></a>1.新增语义化标签</h4><p>标签语义化指根据网页中的内容结构，选择适合的标签进行编写。</p>
<ul>
<li>布局标签</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">nav</span>&gt;</span><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aside</span>&gt;</span>  元素页面主内容之外的某些内容（比如侧栏）<span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">main</span>&gt;</span><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span> 定义文档中的节。<span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">details</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">summary</span>&gt;</span> 定义 details 元素的可见标题。<span class="tag">&lt;/<span class="name">summary</span>&gt;</span></span><br><span class="line">  定义用户能够查看或隐藏的额外细节。</span><br><span class="line"><span class="tag">&lt;/<span class="name">details</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">figcaption</span>&gt;</span>  定义 figure 元素的标题。<span class="tag">&lt;/<span class="name">figcaption</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">figure</span>&gt;</span> 规定自包含内容，比如图示、图表、照片、代码清单等。<span class="tag">&lt;<span class="name">figure</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">sub</span>&gt;</span><span class="tag">&lt;/<span class="name">sub</span>&gt;</span>下标文字</span><br><span class="line"><span class="tag">&lt;<span class="name">sup</span>&gt;</span><span class="tag">&lt;/<span class="name">sup</span>&gt;</span>上标文字</span><br><span class="line"><span class="tag">&lt;<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">code</span>&gt;</span>代码块</span><br><span class="line"><span class="tag">&lt;<span class="name">mark</span>&gt;</span> 定义重要的或强调的文本。<span class="tag">&lt;/<span class="name">mark</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">time</span>&gt;</span><span class="tag">&lt;/<span class="name">time</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--//文本注音--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ruby</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>汉<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rt</span>&gt;</span>han<span class="tag">&lt;/<span class="name">rt</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ruby</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--进度条--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">progress</span> <span class="attr">max</span>=<span class="string">&quot;100&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">progress</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meter</span> <span class="attr">min</span>=<span class="string">&quot;0&quot;</span> <span class="attr">max</span>=<span class="string">&quot;100&quot;</span> <span class="attr">value</span>=<span class="string">&quot;30&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">meter</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--列表--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">datalist</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;xx&quot;</span>&gt;</span>test<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-新增多媒体标签"><a href="#2-新增多媒体标签" class="headerlink" title="2.新增多媒体标签"></a>2.新增多媒体标签</h4><ul>
<li><code>&lt;video&gt;</code></li>
</ul>
<p><code>&lt;video src=&quot;&quot; controls=&quot;controls&quot; &gt;&lt;/video&gt;</code></p>
<p>属性：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>autoplay</td>
<td>自动播放，谷歌默认禁止，可添加muted属性解决</td>
</tr>
<tr>
<td>controls</td>
<td>播放控件</td>
</tr>
<tr>
<td>width;height</td>
<td>宽高</td>
</tr>
<tr>
<td>loop</td>
<td>循环播放</td>
</tr>
<tr>
<td>preload</td>
<td>auto(加载视频);none(不加载);metadata(加载基本信息，如时长)</td>
</tr>
<tr>
<td>poster</td>
<td>imgurl(加载等待图片)</td>
</tr>
<tr>
<td>muted</td>
<td>静音播放</td>
</tr>
</tbody></table>
<ul>
<li><code>&lt;audio&gt;</code></li>
</ul>
<p><code>&lt;audio src=&quot;&quot; &gt;&lt;/audio&gt;</code></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>src</td>
<td>音频路径</td>
</tr>
<tr>
<td>muted</td>
<td>静音</td>
</tr>
<tr>
<td>autoplay</td>
<td>自动播放，谷歌根据媒体参与度来判断是否自动自动播放</td>
</tr>
<tr>
<td>loop</td>
<td>循环播放</td>
</tr>
<tr>
<td>preload</td>
<td>auto(加载视频);none(不加载);metadata(加载基本信息，如时长)</td>
</tr>
<tr>
<td>controls</td>
<td>播放控件</td>
</tr>
</tbody></table>
<h4 id="3-input类型"><a href="#3-input类型" class="headerlink" title="3.input类型"></a>3.input类型</h4><table>
<thead>
<tr>
<th>属性值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>type=”email”</td>
<td>限制必须输入email类型</td>
</tr>
<tr>
<td>type=”number”</td>
<td>数字类型</td>
</tr>
<tr>
<td>type=”search”</td>
<td>搜索框</td>
</tr>
<tr>
<td>type=”ranger”</td>
<td>范围滑块</td>
</tr>
<tr>
<td>type=”color”</td>
<td>颜色</td>
</tr>
<tr>
<td>type=”tel”</td>
<td>手机号码</td>
</tr>
<tr>
<td>type=”date”</td>
<td>日期</td>
</tr>
<tr>
<td>type=”month”</td>
<td>月</td>
</tr>
<tr>
<td>type=”week”</td>
<td>周</td>
</tr>
<tr>
<td>type=”time”</td>
<td>时间</td>
</tr>
<tr>
<td>type=”datetime-local”</td>
<td>日期时间</td>
</tr>
<tr>
<td>maxlength=””</td>
<td>允许输入最大长度,不会提示</td>
</tr>
<tr>
<td>max</td>
<td>允许输入最大长度</td>
</tr>
<tr>
<td>min</td>
<td>允许输入最大长度</td>
</tr>
</tbody></table>
<h4 id="4-表单属性"><a href="#4-表单属性" class="headerlink" title="4.表单属性"></a>4.表单属性</h4><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>placeholder</td>
<td>提示文本</td>
</tr>
<tr>
<td>multiple</td>
<td>可多选文件提交</td>
</tr>
<tr>
<td>autofocus</td>
<td>自动聚焦</td>
</tr>
<tr>
<td>autocomplete</td>
<td>值为on,off。只能用于text输入框. 记录输入历史</td>
</tr>
<tr>
<td>required</td>
<td>不能为空，必填</td>
</tr>
<tr>
<td>pattern</td>
<td>正则校验，不能用于textarea,空输入不校验</td>
</tr>
</tbody></table>
<h3 id="5-canvas"><a href="#5-canvas" class="headerlink" title="5. canvas"></a>5. canvas</h3><p>使用js在网页上绘制图像<br><code>&lt;canvas id=&#39;&#39;  width=&#39;&#39; height=&#39;&#39;&gt;&lt;/canvas&gt;</code></p>
<h3 id="本地存储localStorage"><a href="#本地存储localStorage" class="headerlink" title="本地存储localStorage"></a>本地存储localStorage</h3><p>无时间限制，5M，只存储字符串</p>
<h3 id="地理定位Geolocation"><a href="#地理定位Geolocation" class="headerlink" title="地理定位Geolocation"></a>地理定位Geolocation</h3><h3 id="socket通信：webscoket"><a href="#socket通信：webscoket" class="headerlink" title="socket通信：webscoket"></a>socket通信：webscoket</h3><h3 id="后台js：webworkers"><a href="#后台js：webworkers" class="headerlink" title="后台js：webworkers"></a>后台js：webworkers</h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.baidu.com/2021/03/03/16-32-11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/03/16-32-11/" class="post-title-link" itemprop="url">web前端开发技术</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-03-03 16:32:11" itemprop="dateCreated datePublished" datetime="2021-03-03T16:32:11+08:00">2021-03-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-05-14 12:06:33" itemprop="dateModified" datetime="2023-05-14T12:06:33+08:00">2023-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index"><span itemprop="name">web</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="web前端开发技术"><a href="#web前端开发技术" class="headerlink" title="web前端开发技术"></a>web前端开发技术</h1><h2 id="web前端开发技术的优化策略"><a href="#web前端开发技术的优化策略" class="headerlink" title="web前端开发技术的优化策略"></a>web前端开发技术的优化策略</h2><p>网络页面的核心价值在于传递消费者所需要的信息并且以此来满足消费者相应的需求。而对于消费者和体验用户来说，网页加载的快慢直接影响了这个网页的访问量。如果用户在等待网站信息呈现的事件过长，很大程度上会对其消费体验造成一定影响，会造成用户无法将信息进行高效利用。基于这样的考虑，对web前端技术进行优化并体现信息的真正价值具有重要的意义。web前端技术的优化对网络性能的改善、工作效率的提高都发挥着重要作用。可以从以下几个方面开展工作，对web前端技术进行优化：</p>
<ol>
<li><p>减少HTTP请求数<br>减少不必要的消耗时间的Http请求数，是web前端开发技术的一个重要方面。一个完整的Http包括DNS寻址、发送双方的数据、建立浏览器和服务器间的连接并传输数据、等待服务器响应等等多个环节。在这个过程中，每一个Http请求都必须携带数据，因此每一个请求都不免占用宽带资源，导致用户等待时间增加。要减少网页中Http的请求，经常被采用的方法有：将多个CSS文件或者JavaScript文件合并成一个；优化图片地图，在一个图像上划分不同区域以及注入不通过映射的链接；保持图片和文本一起显示和下载；通过利用CSS background进行背景图的绝对定位，这种做法可以提高网页的载入速度，提高用户的体验。</p>
</li>
<li><p>优化文件的规模<br>文件规模能对网页加载造成一定的影响 ，这个过程包括压缩JavaScript和CSS文件以及对相应的代码进行优化。优化代码的工作主要是删除一些不必要的Html标签，避免内联式和优化CSS代码。</p>
</li>
<li><p>减少DNS查找<br>DNS查找的时间开销很大，这是国内许多网站的通病。在一次DNS的解析过程中会耗费20~120ms，若DNS解析请求过于频繁，就会导致用户等待时间的增加，同时也会使信息传输的质量有所下降。并且在DNS查找结束前，浏览器将无法下载该域名下的任何东西。对于国内的站点来说，过多使用站外的Widget（微件），也易引起DNS查找过多的问题。适当减少DNS查找能有效地提高网页地加载速度，对于web前端开发技术来说，DNS查找的优化也非常重要。</p>
</li>
<li><p>杜绝无用响应<br>在用户访问网站的时候，常常会遇到无用响应，如404错误或拒绝访问错误，这是没有找到文件引起的。Http请求耗费时间过长，而较长的等待时间却得到一个无用的响应页面，大大降低了用户体验。对页面的链接进行充分的测试加上对web服务器Errorr日志的不断跟踪能有效地减少404错误。大多时候，这种错误由于定位稍难而容易被技术人员忽略。</p>
</li>
<li><p>有效避免重定向<br>网页的重定向会耗费一定的时间，这也是造成用户等待时间过长的一个因素。重定向问题的产生有很多，每增加一次重定向就必然会增加一次对web的请求，所以重定向问题应该尽量避免。这要求技术人员能对web站点的子目录后加一个”/“，这种做法能有效避免重定向。</p>
</li>
<li><p>优化网页内容<br>CSS的全称是层叠样式表，层叠表明后面的CSS可以覆盖前面的，高级的可以覆盖低级的，因此浏览器会在完全加载完后才考虑开展渲染工作。根据CSS这样的特性，要实现web的优化，可以考虑将样式表放在顶部。另外，可以将script放在底部，该举措是为了防止script脚本阻塞当前页面，从而造成下载速度较慢，页面的加载时间过长等问题的产生。</p>
</li>
</ol>
<h2 id="Web-实时推送技术"><a href="#Web-实时推送技术" class="headerlink" title="Web 实时推送技术"></a>Web 实时推送技术</h2><h3 id="一、双向通信"><a href="#一、双向通信" class="headerlink" title="一、双向通信"></a>一、双向通信</h3><p>HTTP 协议有一个缺陷：通信只能由客户端发起。举例来说，我们想了解今天的天气，只能是客户端向服务器发出请求，服务器返回查询结果。HTTP 协议做不到服务器主动向客户端推送信息。这种单向请求的特点，注定了如果服务器有连续的状态变化，客户端要获知就非常麻烦。在WebSocket协议之前，有三种实现双向通信的方式：轮询（polling）、长轮询（long-polling）和iframe流（streaming）。</p>
<ol>
<li>轮询（polling）<br>轮询是客户端和服务器之间会一直进行连接，每隔一段时间就询问一次。其缺点也很明显：连接数会很多，一个接受，一个发送。而且每次发送请求都会有Http的Header，会很耗流量，也会消耗CPU的利用率。</li>
</ol>
<ul>
<li>优点：实现简单，无需做过多的更改</li>
<li>缺点：轮询的间隔过长，会导致用户不能及时接收到更新的数据；轮询的间隔过短，会导致查询请求过多，增加服务器端的负担</li>
</ul>
<ol start="2">
<li>长轮询（long-polling）</li>
</ol>
<p>长轮询是对轮询的改进版，客户端发送HTTP给服务器之后，看有没有新消息，如果没有新消息，就一直等待。当有新消息的时候，才会返回给客户端。在某种程度上减小了网络带宽和CPU利用率等问题。由于http数据包的头部数据量往往很大（通常有400多个字节），但是真正被服务器需要的数据却很少（有时只有10个字节左右），这样的数据包在网络上周期性的传输，难免对网络带宽是一种浪费。</p>
<ul>
<li>优点：比 Polling 做了优化，有较好的时效性</li>
<li>缺点：保持连接会消耗资源; 服务器没有返回有效数据，程序超时。</li>
</ul>
<ol start="3">
<li>iframe流（streaming）<br>iframe流方式是在页面中插入一个隐藏的iframe，利用其src属性在服务器和客户端之间创建一条长连接，服务器向iframe传输数据（通常是HTML，内有负责插入信息的javascript），来实时更新页面。</li>
</ol>
<ul>
<li>优点：消息能够实时到达；浏览器兼容好</li>
<li>缺点：服务器维护一个长连接会增加开销；IE、chrome、Firefox会显示加载没有完成，图标会不停旋转。</li>
</ul>
<h2 id="二、WebSocket"><a href="#二、WebSocket" class="headerlink" title="二、WebSocket"></a>二、WebSocket</h2><ol>
<li>什么是websocket<br>WebSocket是一种全新的协议，随着HTML5草案的不断完善，越来越多的现代浏览器开始全面支持WebSocket技术了，它将TCP的Socket（套接字）应用在了webpage上，从而使通信双方建立起一个保持在活动状态连接通道。</li>
</ol>
<p>一旦Web服务器与客户端之间建立起WebSocket协议的通信连接，之后所有的通信都依靠这个专用协议进行。通信过程中可互相发送JSON、XML、HTML或图片等任意格式的数据。由于是建立在HTTP基础上的协议，因此连接的发起方仍是客户端，而一旦确立WebSocket通信连接，不论服务器还是客户端，任意一方都可直接向对方发送报文。</p>
<p>初次接触 WebSocket 的人，都会问同样的问题：我们已经有了 HTTP 协议，为什么还需要另一个协议？</p>
<ol start="2">
<li>HTTP的局限性<br>HTTP是半双工协议，也就是说，在同一时刻数据只能单向流动，客户端向服务器发送请求(单向的)，然后服务器响应请求(单向的)。<br>服务器不能主动推送数据给浏览器。这就会导致一些高级功能难以实现，诸如聊天室场景就没法实现。</li>
<li>WebSocket的特点<br>支持双向通信，实时性更强<br>可以发送文本，也可以发送二进制数据<br>减少通信量：只要建立起WebSocket连接，就希望一直保持连接状态。和HTTP相比，不但每次连接时的总开销减少，而且由于WebSocket的首部信息很小，通信量也相应减少了相对于传统的HTTP每次请求-应答都需要客户端与服务端建立连接的模式，WebSocket是类似Socket的TCP长连接的通讯模式，一旦WebSocket连接建立后，后续数据都以帧序列的形式传输。在客户端断开WebSocket连接或Server端断掉连接前，不需要客户端和服务端重新发起连接请求。在海量并发和客户端与服务器交互负载流量大的情况下，极大的节省了网络带宽资源的消耗，有明显的性能优势，且客户端发送和接受消息是在同一个持久连接上发起，实时性优势明显。</li>
</ol>
<h2 id="三、Web-实时推送技术的比较"><a href="#三、Web-实时推送技术的比较" class="headerlink" title="三、Web 实时推送技术的比较"></a>三、Web 实时推送技术的比较</h2><p>方式类型技术实现优点缺点适用场景</p>
<ul>
<li>轮询Pollingclient→server客户端循环请求<br>1、实现简单<br>2、 支持跨域<br>1、浪费带宽和服务器资源<br>2、 一次请求信息大半是无用（完整http头信息）<br>3、有延迟<br>4、大部分无效请求适于小型应用</li>
<li>长轮询Long-Pollingclient→server服务器hold住连接，一直到有数据或者超时才返回，减少重复请求次数<br>1、实现简单<br>2、不会频繁发请求<br>3、节省流量<br>4、延迟低<br>1、服务器hold住连接，会消耗资源<br>2、一次请求信息大半是无用WebQQ、Hi网页版、Facebook</li>
<li>IM长连接iframeclient→server在页面里嵌入一个隐蔵iframe，将这个 iframe 的 src 属性设为对一个长连接的请求，服务器端就能源源不断地往客户端输入数据。<br>1、数据实时送达<br>2、不发无用请求，一次链接，多次“推送”<br>1、服务器增加开销<br>2、无法准确知道连接状态<br>3、IE、chrome等一直会处于loading状态Gmail聊天</li>
<li>WebSocketserver⇌clientnew WebSocket()<br>1、支持双向通信，实时性更强<br>2、可发送二进制文件<br>3、减少通信量<br>1、浏览器支持程度不一致<br>2、不支持断开重连网络游戏、银行交互和支付</li>
</ul>
<h2 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h2><blockquote>
<p>首次请求后保存一份请求资源的响应副本，当用户再次发起相同请求后，如果判断缓存命中则拦截请求，将之前存储的响应副本返回给用户，避免重新向服务器发起资源请求。<br>减少冗余数据传输，节省网络流量，减轻服务器压力，加快访问速度</p>
</blockquote>
<ul>
<li>强制缓存<br>不会向服务器发请求，而是直接从缓存中读取资源，在控制台中返回200状态码</li>
</ul>
<p>响应头参数</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pragma:no-cache;</span><br><span class="line">Expires:响应头里的过期时间，若在这个时间内，则命中强缓存；（以分钟为单位，优先级比Cache-Control）</span><br><span class="line">Cache-Control:当值为max-age=300时（以秒为单位），则代表这个请求正确返回时间的五分钟内再次加载资源，就会命中强缓存。等于0则不使用缓存</span><br><span class="line">当为-no-cache时，表示不使用强缓存，需要使用协商缓存，先与服务器确认返回的响应是否被更改，如果之前的响应中存在Etag，那么请求时会与服务端验证，如果资源未被更改，则可避免重复下载。</span><br><span class="line">当为-no-store时，表示直接禁止浏览器缓存数据。</span><br><span class="line">当为-public时，表示被所有的用户缓存，包括终端用户和cdn等中间代理服务器。</span><br><span class="line">当为-private时，表示只能被终端用户缓存，不允许cdn等中继服务器对其缓存。</span><br></pre></td></tr></table></figure>

<ul>
<li>协商缓存<br>在使用本地缓存前，需向服务器发送请求，服务器根据请求头的参数判断是否命中协商缓存，若命中，则返回304状态码并带上新的响应头通知浏览器从缓存中读取数据。协商缓存可以解决本地资源不更新的问题。</li>
</ul>
<p>需设置Cache-Control为-no-cache</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Last-Modify:浏览器第一次请求一个资源时，服务器返回的响应头会加上Last-Modify，其为一个时间标识，记录该资源最后修改的时间.</span><br><span class="line">If-MOdify-Since:当浏览器再次请求同一个资源时，请求头会包含If-Modify-Sine，值为缓存之前返回的Last—Modify。服务器收到后根据当前资源修改的 时间判断是否命中缓存</span><br></pre></td></tr></table></figure>

<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Etag:浏览器第一次请求一个资源时，服务器返回当前资源在服务器的唯一标识</span><br><span class="line">If-None_Match:再次请求时，若发现资源有Etag声明，则请求头会带上If-None_Match,值为Etag的值，服务器收到后进行比较来判断是否命中缓存。</span><br></pre></td></tr></table></figure>

<p>精度上etag要优于last-modify，last-modify单位为s，使用它无法区分一秒内修改多次的情况。<br>性能上etag要逊于last-modify，etag需要服务器额外性能计算hash值。</p>
<p>ctrl+r/f5/地址栏刷新：强缓存和协商缓存都生效</p>
<p>ctrl+f5/ctrl+shift+r:全部失效，会重新请求资源并缓存</p>
<p>post请求无法被缓存</p>
<p>静态页面可通过配置meta标签设置缓存属性</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Cache-Control&quot;</span> <span class="attr">content</span>=<span class="string">&quot;max-age=3000&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">KK</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">59</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/a913481180" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;a913481180" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:kangkanghuang@foxmail.com" title="E-Mail → mailto:kangkanghuang@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://www.baidu.com/" title="http:&#x2F;&#x2F;www.baidu.com">百度</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">KK</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>

<script src="/js/utils.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
