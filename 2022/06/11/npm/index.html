<!DOCTYPE html>


  <html class="light page-post">


<head>
  <meta charset="utf-8">
  
  <title>npm仓库 | KK</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="前端,前端开发,用户体验,设计,design,nodejs,JavaScript" />
  

  <meta name="description" content="一，包的安装&#x2F;更新&#x2F;卸载npm i 或者 npm install装包,默认安装最新版本，直接npm i 会安装package.json中dependencies的所有包 npm i &amp;#120;&amp;#120;&amp;#x40;&amp;#49;&amp;#46;&amp;#48;安装指定版本 npm i -S 或者 npm i –save装包到生产环境（也就是上线后需要的依赖），在package.json的dependencie">
<meta property="og:type" content="article">
<meta property="og:title" content="npm仓库">
<meta property="og:url" content="http://www.baidu.com/2022/06/11/npm/index.html">
<meta property="og:site_name" content="KK">
<meta property="og:description" content="一，包的安装&#x2F;更新&#x2F;卸载npm i 或者 npm install装包,默认安装最新版本，直接npm i 会安装package.json中dependencies的所有包 npm i &amp;#120;&amp;#120;&amp;#x40;&amp;#49;&amp;#46;&amp;#48;安装指定版本 npm i -S 或者 npm i –save装包到生产环境（也就是上线后需要的依赖），在package.json的dependencie">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-06-11T12:22:22.000Z">
<meta property="article:modified_time" content="2022-11-14T03:09:18.036Z">
<meta property="article:author" content="KK">
<meta name="twitter:card" content="summary">

  

  
    <link rel="icon" href="/images/1.png">
  

  <link href="/css/styles.css?v=c114cbeddx" rel="stylesheet">


  
    
<link rel="stylesheet" href="/css/personal-style.css">

  

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-38189205-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?57e94d016e201fba3603a8a2b0263af0";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  
  <script type="text/javascript">
	(function(){
	    var bp = document.createElement('script');
	    var curProtocol = window.location.protocol.split(':')[0];
	    if (curProtocol === 'https') {
	        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
	    }
	    else {
	        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
	    }
	    var s = document.getElementsByTagName("script")[0];
	    s.parentNode.insertBefore(bp, s);
	})();
  </script>



  
    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

<meta name="generator" content="Hexo 5.4.0"></head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">选项</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">选项</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            rel="noopener noreferrer"
            target="_self"
            >
            Notes
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/categories/"
            rel="noopener noreferrer"
            target="_self"
            >
            分类
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about/"
            rel="noopener noreferrer"
            target="_self"
            >
            关于
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/search/"
            rel="noopener noreferrer"
            target="_self"
            >
            搜索
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E5%B8%83%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8C%85"><span class="toc-text">发布自己的包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%EF%BC%8C%E5%85%B6%E5%AE%83"><span class="toc-text">五，其它</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#yarn%EF%BC%9A"><span class="toc-text">yarn：</span></a></li></ol>
  </div>



<div class="content content-post CENTER">
   <article id="post-npm" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">npm仓库</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2022.06.11</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>KK</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/categories/linux/">linux</a>
  </span>



      

      
      <i class="fa fa-eye"></i> 
        <span id="busuanzi_container_page_pv">
           &nbsp热度 <span id="busuanzi_value_page_pv">
           <i class="fa fa-spinner fa-spin"></i></span>℃
        </span>
      
      
    </div>
  </header>

  <div class="article-content">
    
      <h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>一，包的安装/更新/卸载<br>npm i 或者 npm install<br>装包,默认安装最新版本，直接npm i 会安装package.json中dependencies的所有包</p>
<p>npm i <a href="mailto:&#120;&#120;&#x40;&#49;&#46;&#48;">&#120;&#120;&#x40;&#49;&#46;&#48;</a><br>安装指定版本</p>
<p>npm i -S 或者 npm i –save<br>装包到生产环境（也就是上线后需要的依赖），在package.json的dependencies中生成版本信息</p>
<p>npm i -D 或者 npm i –save-dev<br>装包到开发环境（也就是开发时需要的依赖），在package.json的devDependencies中生成版本信息</p>
<p>npm i <a href="mailto:&#120;&#120;&#x40;&#x31;&#x2e;&#x30;">&#120;&#120;&#x40;&#x31;&#x2e;&#x30;</a> –save-exact<br>精确安装指定版本的包到生产环境。精确的意思就是，什么版本就是什么版本，版本号前面的^ 会消失掉。有^ 代表是补丁版本</p>
<p>npm uninstall xx<br>卸载包</p>
<p>npm update <a href="mailto:&#120;&#x78;&#x40;&#x31;&#x2e;&#48;">&#120;&#x78;&#x40;&#x31;&#x2e;&#48;</a><br>更新包，默认更新到最新</p>
<p>npm outdated<br>检查包是否过时，默认列出所有过时的包</p>
<p>npm i xx1@npm:xx@1<br>npm i xx2@npm:xx@2<br>安装同一个包的不同版本，如要引入1版本，则import ‘xx1’。npm 6.9及以后的版本可用</p>
<p>二，信息查看<br>npm ls<br>查看安装过的包，加-g就是查看全局安装过的包， –depth 0就是查看第一层，不再深入递归查询出子文件夹</p>
<p>npm ls 包名 -g<br>查看某个包，有则显示版本，没有则是empty</p>
<p>npm root xx<br>查看包的安装路径</p>
<p>npm view xx versions<br>查看某个包在线上的所有版本</p>
<p>三，配置向<br>npm config set proxy=”<a href="http://xx.com:8080&quot;">http://xx.com:8080&quot;</a><br>因为公司的防火墙原因，无法完成任何模块的安装，这个时候设置代理可以解决</p>
<p>npm config set registry=”<a target="_blank" rel="noopener" href="https://registry.npm.taobao.org&quot;/">https://registry.npm.taobao.org&quot;</a><br>设置安装源，如上就是设置源为国内的淘宝镜像</p>
<p>npm config list -l<br>查看所有配置</p>
<h3 id="发布自己的包"><a href="#发布自己的包" class="headerlink" title="发布自己的包"></a>发布自己的包</h3><p>第一步：进入要发布的项目根目录，初始化为npm包：</p>
<p>npm init</p>
<p>依次按提示填入包名、版本、描述、github地址、关键字、license等<br>这步完成之后会生成一个package.json文件，上面输入的这些信息可以在该文件中修改<br>name是名字，不能和别人的一样，否则发布失败<br>version是版本号，每次发布自己手动修改，版本号需递增，否则发布失败<br>main设置入口文件，入口文件需和package同级，如不同级，则应该写/xx/yy这样的相对路径，</p>
<p>注意：如果你的包引用了第三方包，则需要在package.json文件种增加dependencies节点，写入依赖的包及版本<br>“dependencies”: {<br>    “colors”: “^1.3.2”,<br>    “on-finished”: “^2.3.0”<br>  }</p>
<p>第二步、注册npm用户，有两种方法  注册npm用户，有两种方法</p>
<p>方法一、npm官网注册：npm</p>
<p>方法二、使用npm 命令注册：npm adduser</p>
<p>第三步、账号登录</p>
<p>npm login</p>
<p>依次输入第二步中第一种方法注册的用户名、密码和邮箱<br>第四步、发布包，上传到npm包服务器</p>
<p>npm publish</p>
<p>注意：如果报错：’You do not have permission to publish “mypackage1”. Are you logged in as the correct user?’</p>
<p>表示包’mypackage1‘已经在包管理器已经存在被别人用了，需要更该包名称<br> 更新一个已经发布的包<br>第一步、修改包的版本</p>
<p>：这次我在包根目录下新加了一个index.js文件</p>
<p>npm version patch  该命令在原来的版本上自动加1,实际上是将package.json文件中的version值修改了。<br>第二步、重新发布包</p>
<p>npm publish</p>
<p>三、删除包<br>1、删除指定的版本</p>
<p>npm unpublish 包名@版本号</p>
<p>2、删除整个包</p>
<p>npm unpublish 包名 –force</p>
<h3 id="五，其它"><a href="#五，其它" class="headerlink" title="五，其它"></a>五，其它</h3><p>npm cache clean<br>清除npm本地缓存<br>npm init<br>初始化package.json<br>npm start<br>“scripts”: {<br>    “start”: “xxx”<br>}<br>启动指令,npm start指令会匹配到package的scripts里的配置，然后启动对应脚本。start此类的支持自定义，常见的自定义为dev</p>
<h3 id="yarn："><a href="#yarn：" class="headerlink" title="yarn："></a>yarn：</h3><blockquote>
<p>Yarn 是由 Facebook、Google、Exponent 和 Tilde 联合推出了一个新的 JS 包管理工具 。<br>《淘宝 NPM 镜像站喊你切换新域名啦》 <a target="_blank" rel="noopener" href="https://npm.taobao.org/">https://npm.taobao.org</a> 和 <a target="_blank" rel="noopener" href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a> 将在 2022.06.30 号正式下线和停止 DNS 解析。<br>域名切换规则：<br><a target="_blank" rel="noopener" href="https://npm.taobao.org/">https://npm.taobao.org</a> =&gt; <a target="_blank" rel="noopener" href="https://npmmirror.com/">https://npmmirror.com</a><br><a target="_blank" rel="noopener" href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a> =&gt; <a target="_blank" rel="noopener" href="https://registry.npmmirror.com/">https://registry.npmmirror.com</a></p>
</blockquote>
<p>安装：<br>npm install -g yarn</p>
<p>执行 yarn xxx 命令报以下错误时：</p>
<p>操作以下步骤进行策略更改：</p>
<p>使用管理员身份运行 cmd 或 Power shell<br>输入：set-executionpolicy remotesigned<br>输入”Y“，回车保存<br>yarn 配置源：<br>// 查询源<br>yarn config get registry</p>
<p>// 更换国内源<br>yarn config set registry <a target="_blank" rel="noopener" href="https://registry.npmmirror.com/">https://registry.npmmirror.com</a></p>
<p>// 恢复官方源<br>yarn config set registry <a target="_blank" rel="noopener" href="https://registry.yarnpkg.com/">https://registry.yarnpkg.com</a></p>
<p>// 删除注册表<br>yarn config delete registry</p>
<p>npm 配置源：<br>注意 npm 更换国内镜像源之后，将无法再使用 npm search 命令，需要恢复为官方源才可以使用，如果恢复官方源后还不可使用，运行删除注册表命令后重试即可。</p>
<p>// 查询源<br>npm config get registry</p>
<p>// 更换国内源<br>npm config set registry <a target="_blank" rel="noopener" href="https://registry.npmmirror.com/">https://registry.npmmirror.com</a></p>
<p>// 恢复官方源<br>npm config set registry <a target="_blank" rel="noopener" href="https://registry.npmjs.org/">https://registry.npmjs.org</a></p>
<p>// 删除注册表<br>npm config delete registry</p>

    
  </div>

</article>


   
  <div class="text-center donation">
    <div class="inner-donation">
      <span class="btn-donation">END</span>
      <div class="donation-body">
        <div class="tip text-center">???????</div>
        <ul>
        
          <li class="item">
            
            <img src="/images/2.png" alt="">
          </li>
        
        </ul>
      </div>
    </div>
  </div>


   
  <div class="box-prev-next clearfix">
    <a class="show pull-left" href="/2022/06/01/TypeJavaScript/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/2022/08/11/nginx/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>




</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">关闭</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              rel="noopener noreferrer"
              target="_self"
              >
              Notes
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/categories/"
              rel="noopener noreferrer"
              target="_self"
              >
              分类
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              rel="noopener noreferrer"
              target="_self"
              >
              关于
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/search/"
              rel="noopener noreferrer"
              target="_self"
              >
              搜索
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    

    
    

    

    
    

    

  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
