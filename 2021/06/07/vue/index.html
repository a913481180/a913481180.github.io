<!DOCTYPE html>


  <html class="light page-post">


<head>
  <meta charset="utf-8">
  
  <title>Vue | KK</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="前端,前端开发,用户体验,设计,design,nodejs,JavaScript" />
  

  <meta name="description" content="Vue2.0一套用于构建用户界面的渐进式javascrip框架 1234567891011121314151617181920212223242526272829303132&lt;!DOCTYPE html&gt;&lt;html lang&#x3D;&quot;en&quot;&gt;        &lt;head&gt;                &lt;meta charset&#x3D;&quot;u">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue">
<meta property="og:url" content="http://www.baidu.com/2021/06/07/vue/index.html">
<meta property="og:site_name" content="KK">
<meta property="og:description" content="Vue2.0一套用于构建用户界面的渐进式javascrip框架 1234567891011121314151617181920212223242526272829303132&lt;!DOCTYPE html&gt;&lt;html lang&#x3D;&quot;en&quot;&gt;        &lt;head&gt;                &lt;meta charset&#x3D;&quot;u">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://z3.ax1x.com/2021/08/10/fJo8ZF.png">
<meta property="article:published_time" content="2021-06-07T12:00:00.000Z">
<meta property="article:modified_time" content="2021-08-27T18:06:20.056Z">
<meta property="article:author" content="KK">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://z3.ax1x.com/2021/08/10/fJo8ZF.png">

  

  
    <link rel="icon" href="/images/1.png">
  

  <link href="/css/styles.css?v=c114cbeddx" rel="stylesheet">


  
    
<link rel="stylesheet" href="/css/personal-style.css">

  

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-38189205-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?57e94d016e201fba3603a8a2b0263af0";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  
  <script type="text/javascript">
	(function(){
	    var bp = document.createElement('script');
	    var curProtocol = window.location.protocol.split(':')[0];
	    if (curProtocol === 'https') {
	        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
	    }
	    else {
	        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
	    }
	    var s = document.getElementsByTagName("script")[0];
	    s.parentNode.insertBefore(bp, s);
	})();
  </script>



  
    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

<meta name="generator" content="Hexo 5.4.0"></head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">选项</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">选项</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            rel="noopener noreferrer"
            target="_self"
            >
            Notes
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/categories/"
            rel="noopener noreferrer"
            target="_self"
            >
            分类
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about/"
            rel="noopener noreferrer"
            target="_self"
            >
            关于
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/search/"
            rel="noopener noreferrer"
            target="_self"
            >
            搜索
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue2-0"><span class="toc-text">Vue2.0</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-text">计算属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E5%B1%9E%E6%80%A7"><span class="toc-text">监听属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-text">过滤器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A%E6%A0%B7%E5%BC%8F"><span class="toc-text">绑定样式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">生命周期</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6"><span class="toc-text">组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%9A%E6%89%8B%E6%9E%B6vue-cli-command-line-interface"><span class="toc-text">脚手架vue.cli(command line interface)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6"><span class="toc-text">自定义事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF"><span class="toc-text">全局事件总线</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B6%88%E6%81%AF%E5%8F%91%E5%B8%83%E5%92%8C%E8%AE%A2%E9%98%85"><span class="toc-text">消息发布和订阅</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vue%E8%84%9A%E6%89%8B%E6%9E%B6%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1"><span class="toc-text">vue脚手架配置代理服务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E6%A7%BD"><span class="toc-text">插槽</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webStorage"><span class="toc-text">webStorage</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vuex"><span class="toc-text">vuex</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#store"><span class="toc-text">store</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9B%E4%B8%AAmap%E6%96%B9%E6%B3%95%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">四个map方法的使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#store-1"><span class="toc-text">store</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-text">模块化+命名空间</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1"><span class="toc-text">路由</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#vue-router%EF%BC%9Avue%E7%9A%84%E4%B8%80%E4%B8%AA%E6%8F%92%E4%BB%B6%E5%BA%93%EF%BC%8C%E7%94%A8%E6%9D%A5%E5%AE%9E%E7%8E%B0SPA%E5%BA%94%E7%94%A8%EF%BC%88%E5%8D%95%E4%B8%AAweb%E5%BA%94%E7%94%A8%EF%BC%8C%E6%95%B4%E4%B8%AA%E9%A1%B5%E9%9D%A2%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E5%AE%8C%E6%95%B4%E9%A1%B5%E9%9D%A2%EF%BC%8C%E5%8F%AA%E4%BC%9A%E5%81%9A%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%B1%80%E9%83%A8%E6%9B%B4%E6%96%B0%EF%BC%8C%E6%95%B0%E6%8D%AE%E9%9C%80%E8%A6%81%E9%80%9A%E8%BF%87ajax%E8%AF%B7%E6%B1%82%E8%8E%B7%E5%8F%96%EF%BC%89"><span class="toc-text">vue-router：vue的一个插件库，用来实现SPA应用（单个web应用，整个页面只有一个完整页面，只会做页面的局部更新，数据需要通过ajax请求获取）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E8%B7%AF%E7%94%B1"><span class="toc-text">命名路由</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%9A%84props%E9%85%8D%E7%BD%AE"><span class="toc-text">路由的props配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E7%A8%8B%E5%BC%8F%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA"><span class="toc-text">编程式路由导航</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6"><span class="toc-text">缓存路由组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB"><span class="toc-text">路由守卫</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F"><span class="toc-text">路由器工作模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue-UI%E7%BB%84%E4%BB%B6%E5%BA%93"><span class="toc-text">Vue UI组件库</span></a></li></ol></li></ol>
  </div>



<div class="content content-post CENTER">
   <article id="post-vue" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">Vue</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2021.06.07</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>KK</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/categories/web/">web</a>
  </span>



      

      
      <i class="fa fa-eye"></i> 
        <span id="busuanzi_container_page_pv">
           &nbsp热度 <span id="busuanzi_value_page_pv">
           <i class="fa fa-spinner fa-spin"></i></span>℃
        </span>
      
      
    </div>
  </header>

  <div class="article-content">
    
      <h1 id="Vue2-0"><a href="#Vue2-0" class="headerlink" title="Vue2.0"></a>Vue2.0</h1><p>一套用于构建用户界面的渐进式javascrip框架</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">        &lt;head&gt;</span><br><span class="line">                &lt;meta charset=&quot;utf8&quot;&gt;</span><br><span class="line">                &lt;title&gt;vue&lt;/title&gt;</span><br><span class="line">                &lt;/head&gt;</span><br><span class="line">                &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt; //引入 Vue&lt;/script&gt;</span><br><span class="line">                &lt;script&gt;</span><br><span class="line">                window.onload=function()&#123;</span><br><span class="line">        Vue.config.productionTip=false;         //阻止vue启动时的生成的提醒</span><br><span class="line">        ///创建vue实例</span><br><span class="line">       const vu= new Vue(&#123;</span><br><span class="line">        el:&#x27;#root&#x27;,     //挂载点，指定容器,可写类名，不能用在html和body上；第二种写法可用vu.$mount(&#x27;#root&#x27;);代替</span><br><span class="line">        data:&#123;</span><br><span class="line">                msg:&#x27;hello&#x27;,</span><br><span class="line">                name:&#x27;xiaomi&#x27;,</span><br><span class="line">		test()&#123;...&#125;	//不建议在data中写函数，因为会data中的属性会进行数据代理，而方法并不需要进行数据代理</span><br><span class="line">	//data第二种写成函数式,由Vue管理的函数不能写成箭头函数，对象里的方法可省略:function</span><br><span class="line">	/*</span><br><span class="line">	data:function()&#123;</span><br><span class="line">	return&#123;</span><br><span class="line">		name:&#x27;xiaoming&#x27;</span><br><span class="line">	&#125;</span><br><span class="line">	&#125;</span><br><span class="line">*/</span><br><span class="line">                &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">                &lt;/script&gt;</span><br><span class="line">                &lt;body&gt;</span><br><span class="line">                &lt;div id=&#x27;root&#x27;&gt;&#123;&#123;msg&#125;&#125; &#123;&#123;name&#125;&#125; &lt;/div&gt;  &lt;!-- &#123;&#123;&#125;&#125;中可写js表达式--&gt;</span><br><span class="line">                &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>MVVM模型<br>一种软件架构</p>
<ul>
<li>M:模型model:对应data中的数据</li>
<li>V：视图view:模板   </li>
<li>VM：视图模型view model：vue实例</li>
</ul>
</li>
<li><p>数据代理</p>
</li>
</ul>
<p><code>Object.defineproperty()</code>第一个参数为对象，第二个为对象的属性，第三个为配置项</p>
<p>如添加属性：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">let person&#123;</span><br><span class="line">name:&#x27;xiaomei&#x27;</span><br><span class="line">&#125;</span><br><span class="line">Object.defineproperty(person,&#x27;age&#x27;,&#123;</span><br><span class="line">value:18,</span><br><span class="line">//默认情况下添加的属性不可枚举，即无法遍历出来</span><br><span class="line">enumerable:true		//true表示可以枚举</span><br><span class="line">//默认情况下添加的属性的值无法更改</span><br><span class="line">writable:true	//控制属性是否可修改</span><br><span class="line">//默认情况下添加的属性无法删除</span><br><span class="line">configurable: true	////控制属性是否可删除</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//当读取person的age属性时，get函数会被调用，且返回age的值</span><br><span class="line">get:function()&#123;</span><br><span class="line">return &#x27;hello&#x27;</span><br><span class="line">&#125;</span><br><span class="line">//当修改person的age属性时，set函数会被调用</span><br><span class="line">set:function(value)&#123;</span><br><span class="line">age=value;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>通过一个对象对另一个对象中的属性的操作</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">var object=&#123;</span><br><span class="line">    name:&#x27;xiaomei&#x27;,</span><br><span class="line">    sex:&#x27;female&#x27;,</span><br><span class="line">&#125;</span><br><span class="line">var test=&#123;</span><br><span class="line">    age:3,</span><br><span class="line">    hobby:&#x27;swing&#x27;</span><br><span class="line">&#125;</span><br><span class="line">Object.defineProperty(object,&#x27;age&#x27;,&#123;</span><br><span class="line">//默认情况下添加的属性不可枚举，即无法遍历出来</span><br><span class="line"></span><br><span class="line">get()&#123;</span><br><span class="line"></span><br><span class="line">    console.log(&#x27;getter&#x27;)</span><br><span class="line">    return test.age;		//通过object中的age控制test中的age,即数据代理</span><br><span class="line">&#125;,</span><br><span class="line">set(n)&#123;</span><br><span class="line">console.log(&quot;set&quot;,n)</span><br><span class="line">test.age=n;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>vue中的数据代理：通过vm对象来代理data对象中属性的操作</p>
<p>通过Object.defineProperty()把data对象中所有属性添加到vm上，为每一个添加到vm上的属性，都指定一个getter/setter方法,在它们内部去对data中的数据进行操作</p>
<ul>
<li>数据监听</li>
</ul>
<p>通过<code>vm._data</code>也可以访问到data中的数据,但其是经过加工的,即形成getter、setter形式</p>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//###只能监测一层</span><br><span class="line">let data=&#123;name:&#x27;xiaomei&#x27;&#125;</span><br><span class="line">//创建一个监视的实例对象，用于监视data中的属性变化</span><br><span class="line">const obs=new Observer(data);</span><br><span class="line">function Observer(obj)&#123;</span><br><span class="line">//汇总对象中所有的属性形成一个数组</span><br><span class="line">const keys=Object.keys(obj);</span><br><span class="line">//遍历</span><br><span class="line">keys.forEach((k)=&gt;&#123;</span><br><span class="line">Object.defineProperty(this,k,&#123;</span><br><span class="line">get()&#123;</span><br><span class="line">return obj;</span><br><span class="line">&#125;,</span><br><span class="line">set(val)&#123;</span><br><span class="line">console.log(&#x27;数据被修改了&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>原理：通过setter实现监测，且要在new Vue时就传入要监测的数据;</p>
<ul>
<li><p>对象中后追加的属性，vue默认不做响应式处理；如要给后添加的属性做响应式处理，需要用<code> Vue.set(对象,&#39;添加的属性&#39;,&#39;属性值&#39;)或vm.$set(对象,&#39;添加的属性&#39;,&#39;属性值&#39;)</code></p>
</li>
<li><p>数组更新检测<br>vue将被侦听的数组的变更方法进行了包裹，所以会触发视图的更新，即先调用原生方法对数组进行修改，接着重新解模板，进行更新页面。被包裹的方法有<code>push()</code>,<code>pop()</code>,<code>shift()</code>,<code>unshift()</code>,<code>splice()</code>,<code>sort()</code>,<code>reverse()</code>.或使用<code> Vue.set(数组,下标,&#39;修改的值&#39;)或vm.$set(数组,下标,&#39;修改的值&#39;)</code></p>
</li>
</ul>
<blockquote>
<p>!注意：Vue.set();和vm.$set()不能给vm或vm的根数据对象添加属性</p>
</blockquote>
<p>##模板语法</p>
<ul>
<li><p>插值语法<br>用于解析标签体内容<br><code>&#123;&#123;xxx&#125;&#125;</code>xxx为js表达式，可以直接读取到data中的属性</p>
</li>
<li><p>指令语法<br>用于解析标签</p>
</li>
</ul>
<p><code>v-bind:href=&quot;xxx&quot;</code>或简写为<code>:href=&quot;xxx&quot;</code></p>
<ul>
<li><p>数据绑定</p>
<ul>
<li><p>单向数据绑定<br>数据只能从data流向页面;<code>v-bind:href=&quot;xxx&quot;</code>或简写为<code>:href=&quot;xxx&quot;</code></p>
</li>
<li><p>双向数据绑定</p>
</li>
</ul>
</li>
</ul>
<p>数据能从data流向页面,也能从页面流向data<br><code>v-model:value=&quot;xxx&quot;</code>或简写<code>v-model=&quot;xxx&quot;</code></p>
<blockquote>
<p>v-model指令只能用在表单类（输入类input、select）元素上</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--收集表单数据--&gt;</span><br><span class="line">&lt;input type=&quot;text&quot;  v-model=&quot;keyWords/&gt;	&lt;!--用户输入就是value值，v-model收集的就是value值;v0model的三个修饰符：lazy失去焦点在收集数据，number输入的字符串转为有效数字，trim去除首尾的空格--&gt;</span><br><span class="line">&lt;input type=&quot;radio&quot; v-model=&quot;radio&quot; value=&quot;radio1&quot; /&gt; &lt;!--单选框--&gt;</span><br><span class="line">&lt;input type=&quot;checkbox&quot; v-model=&quot;hobby&quot; value=&quot;study&quot;/&gt; &lt;!--多选框--&gt;</span><br><span class="line">&lt;input type=&quot;checkbox&quot; v-model=&quot;hobby&quot; value=&quot;reading&quot;/&gt; &lt;!--若没有配置value，则当v-model初始值为数组时，勾选时收集的是null，为字符串时，收集的是布尔值--&gt;</span><br><span class="line">&lt;input type=&quot;checkbox&quot; v-model=&quot;hobby&quot; value=&quot;sports&quot;/&gt;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">el:&#x27;#root&#x27;,</span><br><span class="line">data:&#123;</span><br><span class="line">	keyWords:&#x27;&#x27;,</span><br><span class="line">	hobby:[],</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<ul>
<li>数据处理</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;button v-on:cllick=&quot;showhello&quot;&gt;test&lt;/button&gt;</span><br><span class="line">&lt;!--或简写成--&gt;</span><br><span class="line">&lt;button @cllick=&quot;showhello($event,22)&quot;&gt;test&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">el:&#x27;.button1&#x27;,</span><br><span class="line">data:&#123;</span><br><span class="line">name:&#x27;xiaomei&#x27;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">showhello(e,n)&#123;</span><br><span class="line">alert(&#x27;hello&#x27;);</span><br><span class="line">console.log(e.target,n);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>事件修饰符<br>vue中的事件修饰符：<ul>
<li>prevent:阻止默认事件</li>
<li>stop:阻止事件冒泡</li>
<li>once：事件只触发一次</li>
<li>capture:使用事件的捕获模式</li>
<li>sefl:只有event.target是当前操作的元素时才触发事件</li>
<li>passive:事件的默认行为立即执行，无需等待事件回调执行完毕</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&#x27;www.baidu.com&#x27; v-on:click.prevent.stop=&quot;showhello()&quot;&gt;test&lt;a&gt;	&lt;!--阻止a标签自动跳转,可连续写--&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>键盘事件<ul>
<li>vue中的按键别名<code>回车enter</code>,<code>删除delete</code> , <code>退出esc</code>, <code>空格space</code>, <code>换行tap(必须配合keydown使用)</code>, <code>上up下down左left右right</code> </li>
<li>vue中未提供的按键别名，可使用按键原始名去绑定，注意要转换为kebab-case（短横线命名）</li>
<li>系统修饰键：<code>ctrl</code>,<code>alt</code>,<code>shift</code>,<code>meta</code>;<ul>
<li>配合keyup使用时：需再按下其他键，随后释放其他键才能触发</li>
<li>配合keydown使用时：正常触发</li>
</ul>
</li>
<li>Vue.config.keyCodes.自定义键名=键码</li>
</ul>
</li>
</ul>
<p><code>&lt;input type=&quot;text&quot; placeholder=&quot;tips&quot; @keyup.enter=&quot;showhello&quot;&gt;</code></p>
<ul>
<li>条件渲染</li>
</ul>
<p>语法： <code>&lt;h2 v-show=&quot;false&quot;&gt; test&lt;/h2&gt;    &lt;!--元素还存在--&gt;</code></p>
<p>v-if与v-show的区别：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> &lt;h2 v-if=&quot;false&quot;&gt; test&lt;/h2&gt;	&lt;!--元素直接消失,中间不能被打断--&gt;</span><br><span class="line">&lt;template v-else-if=&quot;true&quot;&gt; &lt;a&gt;test&lt;/a&gt;&lt;/template&gt;	&lt;!--template不影响结构，但必须和v-if配合使用--&gt;</span><br><span class="line"> &lt;h2 v-else&gt; test&lt;/h2&gt;	</span><br></pre></td></tr></table></figure>


<ul>
<li>渲染文本</li>
</ul>
<p>   <code>v-text</code> 指令,向其所在的节点中渲染文本内容,其会替换掉节点中的内容，<code>&#123;&#123;xxx&#125;&#125;</code>插值语法则不会,可以替换指定内容。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h3 v-text=&quot;keyword&quot;&gt;&lt;/h3&gt;</span><br></pre></td></tr></table></figure>

<p>   <code>v-html</code> 指令,向其所在的节点中渲染文本内容,其会替换掉节点中的内容,且会解析html标签，<code>v-text</code>则不会。其具有安全性问题，在网页上动态渲染html标签是非常危险的，易导致XSS攻击。</p>
<ul>
<li>列表渲染</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;#root&quot;&gt; </span><br><span class="line">&lt;ul&gt;</span><br><span class="line">&lt;!--遍历数组--&gt;</span><br><span class="line">&lt;li v-for=&quot;n in persons&quot; :key=&quot;n.id&quot; &gt; </span><br><span class="line">&#123;&#123;index&#125;&#125;	&lt;!--索引值--&gt;</span><br><span class="line">&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--遍历对象--&gt;</span><br><span class="line">&lt;li v-for=&quot;(k,index2) of persons&quot; :key=&quot;index2&quot; &gt; </span><br><span class="line">&#123;&#123;index2&#125;&#125;	&lt;!--索引值--&gt;</span><br><span class="line">&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;!-- 除此之外还可以遍历字符串，数字--&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">const vm=new Vue(&#123;</span><br><span class="line">el:&#x27;#root&#x27;,</span><br><span class="line">data:&#123;</span><br><span class="line">	persons:[</span><br><span class="line">		&#123;id:001,name:&#x27;xiaoMei&#x27;,age:18&#125;,</span><br><span class="line">		&#123;id:002,name:&#x27;xiaoHong&#x27;,age:22&#125;,</span><br><span class="line">		&#123;id:003,name:&#x27;xiaoLan&#x27;,age:12&#125;,</span><br><span class="line">		]</span><br><span class="line">&#125;,</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><em>key原理</em></p>
<p>给节点提供唯一标识</p>
<ol>
<li>虚拟DOM中的key的作用：key是虚拟DOM对象的标识，当数据发送变化时，vue会根据新数据生成新的虚拟DOM，随后vue将新的虚拟DOM与旧的虚拟DOM进行差异比较</li>
<li>对比规则为：<ul>
<li>旧虚拟DOM中找到与新虚拟DOM相同的key：   <ul>
<li>若虚拟DOM中的内容没有改变，则直接使用之前的真实DOM    - 若虚拟DOM中的内容改变了，则生成新的真实DOM，随后替换掉页面中之前的真实DOM</li>
</ul>
</li>
<li>旧虚拟DOM中未找到与新虚拟DOM相同的key：创建新的真实DOM，随后渲染到页面。<ol start="3">
<li>index作为key可能发生的问题：对数据进行逆序添加、删除时，会产生没有必要的真实dom，界面虽然没问题，但效率低。当结构中存在输入类的DOM时，界面会出现问题。</li>
</ol>
</li>
</ul>
</li>
</ol>
<hr>
<ul>
<li>其他指令</li>
</ul>
<p>   <code>v-cloak</code>指令，Vue实例创建完毕并接管容器后，会删除所有v-cloak属性，常用于解决网速不好加载vue慢而显示问题</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">[v-cloak]&#123;display:none;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;h2 v-cloak&gt; &#123;&#123;keyword&#125;&#125;&lt;/h2&gt;</span><br></pre></td></tr></table></figure>

<p>   <code>v-once</code>指令，其所在的节点在初次渲染后，就视为静态内容了，以后即使数据变化了，其也不再变化</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2 v-once&gt; &#123;&#123;keyword&#125;&#125;&lt;/h2&gt;</span><br></pre></td></tr></table></figure>

<p>   <code>v-pre</code>指令，跳过其所在节点的编译过程，可用于跳过没有指令语法、插值语法的节点，加快编译速度。</p>
<ul>
<li>自定义指令</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">new Vue(&#123;</span><br><span class="line">el:&#x27;#root&#x27;,</span><br><span class="line">data:&#123;&#125;,</span><br><span class="line">directives:&#123; </span><br><span class="line">//局部指令</span><br><span class="line">//指令与元素成功绑定时即一开始就被调用，当指令所在模板被重新解析时会被调用。</span><br><span class="line">//简写</span><br><span class="line">test(element,binding)&#123;	//element,binding为规定写法</span><br><span class="line">console.log(this);	//这里的this为window</span><br><span class="line">element.innerText=bindding.value;</span><br><span class="line">&#125;</span><br><span class="line">//标准写法</span><br><span class="line">test2:&#123;	//命名：多个单词用-分割，使用时不用-,后一个首字母改为大写</span><br><span class="line">bind(element,binding)&#123;//指令与元素成功绑定时调用&#125;,</span><br><span class="line">inserted(element,binding)&#123;//指令所在元素插入页面时调用&#125;,</span><br><span class="line">update(element,binding)&#123;//指令所在模板被重新解析时被调用&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">//全局指令</span><br><span class="line">Vue.directive(指令名，回调函数);</span><br><span class="line">;</span><br></pre></td></tr></table></figure>


<h2 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h2><p>要用的属性不存在，利用已有属性计算而得来</p>
<p>内部有缓存机制，多次调用时只运行一次，效率更高,但不能开启异步任务如:<code>setTimeout()</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">new Vue(&#123;</span><br><span class="line">el:&#x27;.box&#x27;,</span><br><span class="line">data:&#123;</span><br><span class="line">name:&#x27;xiaomei&#x27;,</span><br><span class="line">hoby:&#x27;reading&#x27;</span><br><span class="line">&#125;,</span><br><span class="line">computed:&#123;</span><br><span class="line">fullName:&#123;</span><br><span class="line">//初次读取fullName时，get会被调用;所依赖的数据改变时会调用,即data中的属性被改变时。</span><br><span class="line">get()&#123;</span><br><span class="line">return this.name+&#x27;-&#x27;+this.hoby;</span><br><span class="line">&#125;,</span><br><span class="line">//当fullname被修改时，会被调用</span><br><span class="line">set()&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">//当数据只读不修改时，可采用简写</span><br><span class="line">fullName()&#123;</span><br><span class="line">return this.name+&#x27;-&#x27;+this.hoby;</span><br><span class="line">&#125;</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<h2 id="监听属性"><a href="#监听属性" class="headerlink" title="监听属性"></a>监听属性</h2><p>能开启异步操作如:<code>setTimeout(()=&gt;&#123;&#125;,1000)</code>;所有不被vue所管理的函数最好写成箭头函数，这样this的指向才是vm</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">const vm = new Vue(&#123;</span><br><span class="line">	el:&#x27;#test&#x27;,</span><br><span class="line">	data:&#123;</span><br><span class="line">	istrue: false	</span><br><span class="line">	number:&#123;</span><br><span class="line">		a:1,</span><br><span class="line">		b:2&#125;,</span><br><span class="line">	&#125;,</span><br><span class="line">	methods:&#123;&#125;,</span><br><span class="line">	computed:&#123;&#125;,</span><br><span class="line">	wantch&#123;</span><br><span class="line">	&#x27;istrue&#x27;:&#123;</span><br><span class="line">	immediate:true,	///初始化时调用一下handler</span><br><span class="line">	//当istrue发生改变时调用	</span><br><span class="line">	handler(newValue,oldValue)&#123;</span><br><span class="line">	console.log(newValue,oldValue);	</span><br><span class="line">	&#125;</span><br><span class="line">	&#125;	</span><br><span class="line">	//简写，当只有handler()时</span><br><span class="line">	/*istrue(newValue,oldValue)&#123;console.log(&#x27;test&#x27;);&#125;*/</span><br><span class="line">	&#x27;number&#x27;:&#123;</span><br><span class="line">	deep:true,	//深度监视，当对象内的属性发生变化时,能检测到多层级内容的改变</span><br><span class="line">	handler(newValue,oldValue)&#123;</span><br><span class="line">	console.log(newValue,oldValue);	</span><br><span class="line">	&#125;&#125;</span><br><span class="line"> &#125;);</span><br><span class="line">/*//第二种写法</span><br><span class="line">vm.$watch(&#x27;istrue&#x27;,&#123; handler()&#123;&#125; &#125; );</span><br><span class="line">//简写</span><br><span class="line">vm.$watch(&#x27;istrue&#x27;,function()&#123; console.log(&#x27;test&#x27;);&#125;);</span><br><span class="line">*/</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>


<h2 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h2><p>对要显示的数据进行特定格式化后在显示（常用于一些简单逻辑的处理）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">el:&#x27;#root&#x27;</span><br><span class="line">data:&#123;</span><br><span class="line">time:24356765432,</span><br><span class="line">&#125;,</span><br><span class="line">computed:&#123;&#125;,</span><br><span class="line">//注册过滤器</span><br><span class="line">filters:&#123;</span><br><span class="line">timeFormater1(value)&#123;</span><br><span class="line">console.log(value);</span><br><span class="line">return value;	//返回数据</span><br><span class="line">&#125;,</span><br><span class="line">timeFormater2(value)&#123;</span><br><span class="line">console.log(value);</span><br><span class="line">return value;	//返回数据</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//注册全局过滤器</span><br><span class="line">Vue.filter(&#x27;myName&#x27;,function(value)&#123;return value;&#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h3&gt;</span><br><span class="line">&lt;!--使用过滤器--&gt;</span><br><span class="line">&#123;\&#123;time|timeFormater1()|timeFormater2&#125;&#125;</span><br><span class="line">&lt;!--或者v-bind:属性=&quot;xxx|过滤器名&quot;--&gt;</span><br><span class="line">&lt;!--过滤器可额外接收参数，多个过滤器可串联，原始数据未改变，产生的是新的数据--&gt;</span><br><span class="line">&lt;/h3&gt;</span><br><span class="line">&lt;body&gt;</span><br></pre></td></tr></table></figure>

<h2 id="绑定样式"><a href="#绑定样式" class="headerlink" title="绑定样式"></a>绑定样式</h2><p>适用于动态指定类名<br><code>&lt;div class=&#39;box&#39; :class=&#39;xxx&#39; :style=&quot;&#123;fontSize: n +&#39;px&#39; &#125;&quot; &gt;test&lt;/div&gt;</code>;xxx可为字符串、数组[‘box1’,’box2’]、对象{box1:false,box2:true}。</p>
<h2 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h2><p>又名生命周期回调函数、生命周期函数、生命周期钩子，是vue在关键时刻帮我们调用的一些特殊名称的函数，其名字不可更改，其中的this指向vm或组件实例对象。</p>
<table>
<thead>
<tr>
<th>生命周期</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>初始化：生命周期、事件</td>
<td>但数据代理还未开始</td>
</tr>
<tr>
<td>beforeCreate</td>
<td>无法通过vm访问到data中的数据已经methods中的方法</td>
</tr>
<tr>
<td>初始化：数据检测、数据代理</td>
<td></td>
</tr>
<tr>
<td>created</td>
<td>可以通过vm可访问到data中的数据、methods中的方法</td>
</tr>
<tr>
<td>解析模板，生成虚拟DOM</td>
<td>此时页面还不能显示解析好的内容</td>
</tr>
<tr>
<td>beforeMount</td>
<td>页面呈现的是未经Vue编译的DOM结构，此时所有对DOM的操作，最终都不奏效</td>
</tr>
<tr>
<td>创建vm $el</td>
<td>将内存中的虚拟DOM转为真实DOM插入页面</td>
</tr>
<tr>
<td>mounted</td>
<td>页面中呈现的是经过Vue编译的DOM，对DOM的操作均有效，到此初始化过程结束。一般在此进行开启定时器、发送网络请求、订阅消息、绑定自定义事件等操作</td>
</tr>
<tr>
<td>beforeUpdate</td>
<td>此时数据是新的，但页面是旧的，即页面未与数据保持同步</td>
</tr>
<tr>
<td>根据新的数据，生成新的虚拟DOM，随后与旧的虚拟DOM进行比较，最终完成页面的更新</td>
<td></td>
</tr>
<tr>
<td>updated</td>
<td>此时数据和页面保持同步</td>
</tr>
<tr>
<td>beforeDestroy</td>
<td>此时vm中所有的data、methods、指令等都处于可用状态，马上要执行销毁过程，一般在此进行关闭定时器、取消订阅消息、解绑自定义事件等操作</td>
</tr>
<tr>
<td>destroyed</td>
<td>销毁vue实例后自定义事件会失效，但原生DOM事件依然有效</td>
</tr>
</tbody></table>
<h2 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h2><p>实现应用中局部功能代码和资源的集合</p>
<blockquote>
<p>模块：向外提供特定功能的js程序</p>
</blockquote>
<ul>
<li>非单文件组件：一个文件中包含有n个组件</li>
</ul>
<p>创建school组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//简写</span><br><span class="line">const school=&#123;&#125;;</span><br><span class="line">//标准写法</span><br><span class="line">const school=Vue.extend(&#123;</span><br><span class="line">//组件定义时，不要写el配置项,最终所有的组件都要进过一个vm的管理</span><br><span class="line">//名字</span><br><span class="line">name:&#x27;xuexiao&#x27;,</span><br><span class="line"></span><br><span class="line">//使用template可以配置组件结果。</span><br><span class="line">template:`</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;h3&gt;test&lt;/h3&gt;</span><br><span class="line">&lt;/div&gt;`,</span><br><span class="line"></span><br><span class="line">data()&#123;	//data必须写成函数，为避免组件被复用时，数据存在引用关系</span><br><span class="line">return &#123;</span><br><span class="line">	schoolName:&#x27;BST&#x27;,</span><br><span class="line">	address:&#x27;beijing&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>定义app组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const app=Vue.extend(&#123;&#125;);</span><br></pre></td></tr></table></figure>

<p>创建vm</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">new Vue(&#123;</span><br><span class="line">el:&#x27;#root&#x27;,</span><br><span class="line">template:&#x27;&lt;app&gt;&lt;/app&gt;&#x27;,</span><br><span class="line">//局部注册组件</span><br><span class="line">components:&#123;</span><br><span class="line">	xuexioa:school,		//组件名：一个单词通常首字母大小，多个单词通常用-分隔，或首字母大写（需要Vue脚手架支持）</span><br><span class="line">	app</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//全局注册组件</span><br><span class="line">Vue.component(&#x27;xuexiao&#x27;,school);</span><br></pre></td></tr></table></figure>

<p>使用组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;xuexiao&gt;&lt;/xuexiao&gt;</span><br><span class="line">&lt;xuexiao /&gt;&lt;!--需要脚手架支持，否则多个组件时，后续组件将不能渲染--&gt;</span><br></pre></td></tr></table></figure>

<p>关于VueComponent，组件本质是一个名为VueComponent的构造函数，是由Vue.extend生成的。当我们写<code>&lt;xuexiao&gt;&lt;/xuexiao&gt;</code>，Vue解析时会帮我们创建school组件的实例对象，即vue帮我们执行<code>new VueComponent();</code>。当我们每次调用Vue.extend()时,返回的都是一个全新的VueComponent。在组件配置中，data函数、methods中的函数、watch中的函数等，它们的this都指向VueComponent实例对象。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//定义一个构造函数</span><br><span class="line">function Demo()&#123;</span><br><span class="line">this.a=1;</span><br><span class="line">this.b=2;</span><br><span class="line">&#125;</span><br><span class="line">//创建一个Demo实例对象</span><br><span class="line">const d=new Demo();</span><br><span class="line">console.log(Demo.prototype);	//显示原型属性</span><br><span class="line">console.log(d.__proto__);	//隐式原型属性</span><br><span class="line">//显示原型属性与隐式原型属性都指向原型对象</span><br><span class="line">//通过显示原型属性操作原型对象</span><br><span class="line">Demo.prototype.e=21;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>!!重要内置关系：VueComponent.prototype.<strong>proto</strong>===Vue.prototype;其可以让组件实例对象访问到Vue原型上的属性和方法。</p>
</blockquote>
<ul>
<li>单文件组件：一个文件中只包含有一个组件<ul>
<li>school.vue组件</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!--组件的结构--&gt;</span><br><span class="line">	&lt;div class=&quot;demo&quot;&gt;</span><br><span class="line">	&lt;h2&gt;&#123;&#123;schoolName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">	&lt;h2&gt;&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//组件交互的代码</span><br><span class="line">	export default&#123;</span><br><span class="line">	name:&#x27;School&#x27;,</span><br><span class="line">	data()&#123;</span><br><span class="line">	return&#123;</span><br><span class="line">	  schoolName:&#x27;daxue&#x27;</span><br><span class="line">	  address:&#x27;beijing&#x27;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	methods:&#123;</span><br><span class="line">	   showName()&#123;</span><br><span class="line">		alert(this.schoolName);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/*样式*/</span><br><span class="line">.demoo&#123;</span><br><span class="line">background-color:red;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>App.vue组件</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;School/&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入组件</span><br><span class="line">import School from &#x27;./School&#x27;</span><br><span class="line"></span><br><span class="line">export default&#123;</span><br><span class="line">name:&#x27;App&#x27;,</span><br><span class="line">components:&#123;School&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>main.js</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">el:&#x27;#root&#x27;,</span><br><span class="line">components:&#123;App&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>index.html</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset=&#x27;utf-8&quot;/&gt;</span><br><span class="line">	&lt;title&gt;test&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id=&quot;root&quot;&gt;&lt;div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;./vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;./main.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>


<h2 id="脚手架vue-cli-command-line-interface"><a href="#脚手架vue-cli-command-line-interface" class="headerlink" title="脚手架vue.cli(command line interface)"></a>脚手架vue.cli(command line interface)</h2><ol>
<li>全局安装@vue/cli:<code>npm install -g @vue/cli</code></li>
<li>切换到要创建项目的目录，然后创建项目：<code>vue create xxxx</code></li>
<li>启动项目：<code>npm run serve</code></li>
</ol>
<blockquote>
<ol>
<li>配置npm淘宝镜像：<code>npm config set registry https://registry.npm.taobao.org</code></li>
<li>Vue脚手架隐藏了所有webpack相关的配置，若想查看具体webpack配置，执行：<code>vue inspect &gt; output.js</code></li>
</ol>
</blockquote>
<ul>
<li>main.js项目的入口文件</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//引入vue.runtime.xxx.js，其是运行版的vue,只包含核心功能，没有模板解析器,而完整版的Vue才有。</span><br><span class="line">import Vue from &#x27;vue&#x27;		</span><br><span class="line">//引入App组件</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//关闭生产提示</span><br><span class="line">Vue.config.productionTip=false;</span><br><span class="line"></span><br><span class="line">//创建VUe实例对象</span><br><span class="line">new Vue(&#123;</span><br><span class="line">el:&#x27;#root&#x27;,</span><br><span class="line">//将App组件放入容器中</span><br><span class="line">render:h=&gt;h(app),	//没有模板解析器，不能使用template配置项，需要使用render函数接收到的createElement函数去指定具体内容</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>vue.config.js配置</li>
</ul>
<p>使用vue.config.js可以对脚手架进行个性化定制</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">module.exports=&#123;</span><br><span class="line">	pages:&#123;</span><br><span class="line">	  index:&#123;</span><br><span class="line">		//入口</span><br><span class="line">		entry:&#x27;src/main.js&#x27;,</span><br><span class="line">		&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">	lintOnSave:false	//关闭语法检查</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>脚手架文件结构</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">|--node_modules</span><br><span class="line">|--public</span><br><span class="line">|--src</span><br><span class="line">    |--assets:静态资源文件夹</span><br><span class="line">    |--component:存放组件文件夹</span><br><span class="line">    |--App.vue：汇总所有组件</span><br><span class="line">    |--mian.js：入口文件</span><br><span class="line">|--.gitignore: git版本管制忽略的配置</span><br><span class="line">|--babel.config.js </span><br><span class="line">|--package.json: 应用包配置文件</span><br><span class="line">|--package-lock.json: 包版本控制文件</span><br></pre></td></tr></table></figure>

<ul>
<li>ref属性</li>
</ul>
<p>id的替代者,用来给元素或组件注册引用信息,应用在html标签上获取的是真实DOM元素，应用组件标签上获取的是组件的实例对象</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;h1 v-text=&quot;msg&quot; ref=&quot;title&quot;&gt;&lt;/h1&gt;</span><br><span class="line">&lt;button ref=&quot;btn&quot; @click=&quot;showDOM&quot;&gt;outPut_DOM&lt;/button&gt;</span><br><span class="line">&lt;School ref=&quot;sch&quot; /&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import School from &#x27;./component/school&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">	name:&#x27;App&#x27;,</span><br><span class="line">	components:&#123;School&#125;</span><br><span class="line">	data()&#123;</span><br><span class="line">	return&#123;</span><br><span class="line">	msg:&#x27;hello&#x27;</span><br><span class="line">	&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	methods:&#123;</span><br><span class="line">	showDOM()&#123;</span><br><span class="line">	console.log(this.$ref.title);	//真实DOM元素</span><br><span class="line">	console.log(this.$ref.sch);	//School组件的实例对象</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>props配置项</li>
</ul>
<p>让组件接收外部传来的数据,props是只读的，Vue底层会监测(非深度监测)props，若发生修改会发出警告。若要修改数据，请复制一份到data中,再修改。</p>
<blockquote>
<p>v-modle绑定的值不应是props传过来的值，当其为对象类型时，修改对象中的属性时，vue无法发现</p>
</blockquote>
<p>子组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">new Vue(&#123;</span><br><span class="line">data:&#123;&#125;,</span><br><span class="line">//简单声明接收</span><br><span class="line">props:[&#x27;name&#x27;,&#x27;age&#x27;,&#x27;sex&#x27;]</span><br><span class="line">//接收的同时对数据进行类型限制</span><br><span class="line">props:&#123;</span><br><span class="line">name:String,</span><br><span class="line">age:Number,</span><br><span class="line">sex:String</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">//接收的同时对数据进行类型限制和默认值的指定</span><br><span class="line">props:&#123;</span><br><span class="line">name:&#123;</span><br><span class="line">	type:String,</span><br><span class="line">  	required:true,	//name必填</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p>父组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">	&lt;!--传递数据--&gt;</span><br><span class="line">	&lt;Student name=&quot;xiaoMei&quot; sex=&quot;female&quot; :age=&quot;12&quot;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Student from &#x27;./components/Student&#x27;</span><br><span class="line">export default&#123;</span><br><span class="line">	name:&#x27;App&quot;,</span><br><span class="line">	components:&#123;Student&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>props适用于父组件和子组件的通信，子组件与父组件的通信要求父先给子一个函数，子再通过形参的形式传递数据</p>
</blockquote>
<h2 id="自定义事件"><a href="#自定义事件" class="headerlink" title="自定义事件"></a>自定义事件</h2><p>适用于子组件与父组件通信<br>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- 通过父组件给子组件绑定一个自定义事件：用于子给父传递数据 --&gt;</span><br><span class="line">&lt;Student v-on:test=&quot;getStudentName&quot;/&gt;</span><br><span class="line">&lt;!-- 第二种写法,使用ref--&gt;</span><br><span class="line">&lt;!-- &lt;student ref=&quot;student&quot;/&gt;  --&gt;</span><br><span class="line">&lt;!-- &lt;student ref=&quot;student&quot;  @click.native=&quot;show&quot;/&gt;  组件绑定原生DOM事件，需要使用native修饰符 --&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line">import Student from &#x27;./components/Student&#x27;</span><br><span class="line"></span><br><span class="line">export default&#123;</span><br><span class="line">name:&#x27;App&#x27;, components:&#123;School,Student&#125;</span><br><span class="line">data()&#123;</span><br><span class="line">	return &#123;</span><br><span class="line">	   msg: &#x27;test1!!!!!!!!&#x27;</span><br><span class="line">	&#125;&#125;</span><br><span class="line">methods:&#123;</span><br><span class="line">	getStudentName(name)&#123;</span><br><span class="line">		console.log(name);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	// 第二种写法,使用ref--&gt;</span><br><span class="line">	/*</span><br><span class="line">	mounted()&#123;</span><br><span class="line">	this.$refs.student.$on(&#x27;test&#x27;,this.getStudentName);</span><br><span class="line">	//this.$refs.student.$on(&#x27;test&#x27;,(name,...params)=&gt;&#123;...//要用箭头函数，否则this指向出错&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	*/</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>Student.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;h2&gt;&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;h2&gt;&#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;button @click=&quot;sendStudentName&quot;&gt;test&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;Student&#x27;</span><br><span class="line">data()&#123;</span><br><span class="line">return&#123;</span><br><span class="line">name:&#x27;xiaoHu&#x27;,</span><br><span class="line">sex:&#x27;man&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">sendStudentName()&#123;</span><br><span class="line">//触发student组件实例身上的test(getStudentName)事件;即this.$emit(&#x27;传过来的事件名&#x27;,参数数据）；</span><br><span class="line">this.$emit(&#x27;test&#x27;,this.name,xx,32);</span><br><span class="line">&#125;</span><br><span class="line">unbind()&#123;</span><br><span class="line">//this.$off(&#x27;demo1&#x27;);	//解绑一个自定义事件</span><br><span class="line">//this.$off(&#123;&#x27;xx&#x27;,&#x27;xx&#x27;,&#x27;xx&#x27;&#125;);	//解绑多个自定义事件</span><br><span class="line">this.$off();	//解绑所有自定义事件</span><br><span class="line">&#125;,</span><br><span class="line">death()&#123;</span><br><span class="line">this.$destroy();	//销毁当前student组件的实例，销毁后所有student实例的自定义事件全部失效</span><br><span class="line">&#125;</span><br><span class="line"> &#125;</span><br><span class="line"> &lt;/script&gt;</span><br></pre></td></tr></table></figure>


<h2 id="全局事件总线"><a href="#全局事件总线" class="headerlink" title="全局事件总线"></a>全局事件总线</h2><p>适用与任意组件间的通信</p>
<p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">	el:&#x27;#root&#x27;,</span><br><span class="line">	render:h=&gt;h(App),</span><br><span class="line">	beforeCreate()&#123;</span><br><span class="line">	   Vue.prototype.$bus=this	//安装全局事件总线</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>School.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">	name:&#x27;school&#x27;,</span><br><span class="line">	data()&#123;</span><br><span class="line">	return&#123;</span><br><span class="line">	name:&#x27;xuexiao&#x27;,</span><br><span class="line">	address:&#x27;biejing&#x27;</span><br><span class="line">	&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">	mounted()&#123;</span><br><span class="line">	//接受数据</span><br><span class="line">	this.$bus.$on(&#x27;hello&#x27;,(data)=&gt;&#123;</span><br><span class="line">	console.log(&#x27;recieve data&#x27;,data);</span><br><span class="line">	&#125;);</span><br><span class="line">	&#125;,</span><br><span class="line">	beforeDestroy()&#123;</span><br><span class="line">	//解绑事件</span><br><span class="line">	this.$bus.$off(&#x27;hello&#x27;)&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>School.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;temlate&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default(&#123;</span><br><span class="line">	name:&#x27;School&#x27;,</span><br><span class="line">	data()&#123;</span><br><span class="line">	return&#123;</span><br><span class="line">	name:&#x27;小米&#x27;,</span><br><span class="line">	sex:&#x27;woman&#x27;,</span><br><span class="line">	&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	methods:&#123;</span><br><span class="line">	sendStudentName()&#123;</span><br><span class="line">	//提供数据</span><br><span class="line">	this.$bus.$emit(&#x27;hello&#x27;,32)</span><br><span class="line">	&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>


<h2 id="消息发布和订阅"><a href="#消息发布和订阅" class="headerlink" title="消息发布和订阅"></a>消息发布和订阅</h2><p>适用于任意组件间通信</p>
<p>School.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//安装pubsub: npm i pubsub-js</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">export default&#123;</span><br><span class="line">	name:&#x27;School&#x27;,</span><br><span class="line">	data()&#123;</span><br><span class="line">	return&#123;</span><br><span class="line">	name:&#x27;xuexiao&#x27;,</span><br><span class="line">	address:&#x27;beijing&#x27;</span><br><span class="line">	&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">	mounted()&#123;</span><br><span class="line">	//订阅消息，接收数据</span><br><span class="line">	this.pubId=pubsub.subscribe(&#x27;hello&#x27;,function(msgName,data)&#123;</span><br><span class="line">	console.log(&#x27;有人发布hello消息&#x27;,msgName,data);</span><br><span class="line">	console.log(this);</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;,</span><br><span class="line">	beforeDestroy()&#123;</span><br><span class="line">	pubsub.unsubscribe(this.pubId);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>student.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">export default (&#123;</span><br><span class="line">	name:&#x27;Student&#x27;,</span><br><span class="line">	data()&#123;</span><br><span class="line">	return&#123;</span><br><span class="line">	name:&#x27;xiaomei&#x27;,</span><br><span class="line">	sex:&#x27;woman&#x27;</span><br><span class="line">	&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	methods:&#123;</span><br><span class="line">	///提供数据</span><br><span class="line">	sendData()&#123;</span><br><span class="line">	pubsub.publish(&#x27;hello&#x27;,2222);</span><br><span class="line">	&#125;	</span><br><span class="line">	&#125;,</span><br><span class="line">	&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>nextTick</li>
</ul>
<p>语法：<code>this.$nextTick(回调函数)</code><br>作用：在下一次DOM更新结束后执行其指定的回调,用于当改变数据后，要基于更新后的新DOM进行某些操作时，要在nextTick所指定的回调函数中执行</p>
<ul>
<li>mixins(混入)配置项</li>
</ul>
<p>可以把多个组件共用的配置提取成一个混入对象<br>school组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;h2 @click=&quot;showName&quot; &gt;&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引用一个test</span><br><span class="line">import&#123;test&#125; from &#x27;../mixin&#x27;</span><br><span class="line">//import&#123;test,test2&#125; from &#x27;../mixn&#x27;</span><br><span class="line"></span><br><span class="line">export default&#123;</span><br><span class="line">	name:&#x27;School&#x27;,</span><br><span class="line">	data()&#123;</span><br><span class="line">	return &#123;name:&#x27;daxue&#x27;&#125;	</span><br><span class="line">	&#125;,</span><br><span class="line">	mixins:[test]</span><br><span class="line">	//mixins:[test,test2]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//全局混入</span><br><span class="line">//Vue.mixin(xxx)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>mixin.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//定义混合</span><br><span class="line">export const test=&#123;</span><br><span class="line">	methods:&#123;</span><br><span class="line">		showNamw()&#123;alert(this.name);&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">	mounted()&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">export const test2=&#123;</span><br><span class="line">	data()&#123;</span><br><span class="line">	return&#123;</span><br><span class="line">		x:2,</span><br><span class="line">		y:1</span><br><span class="line">		&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">	mounted()&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<ul>
<li>插件:用于增强Vue</li>
</ul>
<p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//引入Vue</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">//引入APP</span><br><span class="line">import APP from &#x27;./App.vue&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import plugins from &#x27;./plugins&#x27;</span><br><span class="line"></span><br><span class="line">//使用插件</span><br><span class="line">Vue.use(plugins,33,2);</span><br><span class="line"></span><br><span class="line">//创建VM</span><br><span class="line">new Vue(&#123;</span><br><span class="line">	el:&#x27;#root&#x27;,</span><br><span class="line">	render:h=&gt;h(App)</span><br><span class="line">	&#125;);</span><br></pre></td></tr></table></figure>

<p>plugins.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//定义插件</span><br><span class="line">export default&#123;</span><br><span class="line">install (Vue,x,y)&#123;</span><br><span class="line">console.log(x,y);</span><br><span class="line">//添加全局过滤器</span><br><span class="line">Vue.filter(....)</span><br><span class="line">//添加实例方法</span><br><span class="line">Vue.prototype.$myMethod=function()&#123;..&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<ul>
<li>scoped样式<br>让样式只在本组件内有效，即局部生效，防止冲突。写法：<code>&lt;style scoped&gt;&lt;/style&gt;</code></li>
</ul>
<blockquote>
<p>组件化编码流程：1.拆分成静态组件。2.实现动态组件。3.实现交互即绑定事件</p>
</blockquote>
<ul>
<li>vue封装的动画与过渡</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;ransition name=&quot;hello&quot; appear&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">/*动画*/</span><br><span class="line">.hello-enter-active&#123;</span><br><span class="line">	animation: test 0.5s linear;</span><br><span class="line">&#125;</span><br><span class="line">.hello-leave-active&#123;</span><br><span class="line">	animation: test 0.3s linear reverse;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes test&#123;&#125;</span><br><span class="line"></span><br><span class="line">/*详细写法</span><br><span class="line">/*进入的起点*/</span><br><span class="line">.hello-enter&#123;</span><br><span class="line">	transform:translateX(-100x);</span><br><span class="line">&#125;</span><br><span class="line">/*进入的终点*/</span><br><span class="line">.hello-enter-to&#123;</span><br><span class="line">	transform:translateX(0px);</span><br><span class="line">&#125;</span><br><span class="line">/**/</span><br><span class="line">.hello-leave&#123;</span><br><span class="line">	transform:translateX(0px);</span><br><span class="line">&#125;</span><br><span class="line">/**/</span><br><span class="line">.hello-leave-to&#123;</span><br><span class="line">	transform:translateX(-100px);</span><br><span class="line">&#125;</span><br><span class="line">*/</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="vue脚手架配置代理服务"><a href="#vue脚手架配置代理服务" class="headerlink" title="vue脚手架配置代理服务"></a>vue脚手架配置代理服务</h2><p>vue.config.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">module.exports=&#123;</span><br><span class="line"></span><br><span class="line">	pages:&#123;</span><br><span class="line">		index:&#123;</span><br><span class="line">			//入口</span><br><span class="line">		entry:&#x27;src/main.js&#x27;</span><br><span class="line">			&#125;,</span><br><span class="line">	&#125;,</span><br><span class="line">lintOnSave:false,	//关闭语法检测</span><br><span class="line">//开启代理服务器（一）:配置简单，但不能配置多个代理</span><br><span class="line">/*</span><br><span class="line">devServer:&#123;</span><br><span class="line">	proxy:&#x27;http://localhost:3333&#x27;</span><br><span class="line">&#125;*/</span><br><span class="line">//开启代理服务器（二）:可以配置多个代理</span><br><span class="line">devServer:&#123;</span><br><span class="line">proxy:&#123;</span><br><span class="line">&#x27;/api&#x27;:&#123;	//匹配所有以&#x27;/api&#x27;开头的请求路径</span><br><span class="line">target:&#x27;&lt;url&gt;&#x27;,</span><br><span class="line">ws:true,	//用于支持websocket</span><br><span class="line">changeOrigin:true	//用于控制请求头中的host值,true时，服务器请求头伪装成localhost：5050，false时为localhost:8080</span><br><span class="line">&#125;,</span><br><span class="line">&#x27;/test&#x27;:&#123;</span><br><span class="line">target:&#x27;&lt;other_url&gt;&#x27;</span><br><span class="line">&#125;,</span><br><span class="line">&#x27;/test2&#x27;&#123;</span><br><span class="line">target:&#x27;http://localhost:5000&#x27;,</span><br><span class="line">pathRewrite:&#123;&#x27;^/test2&#x27;:&#x27;&#x27;&#125;,	//清除地址前面的协议域名端口http://localhost:8080</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">	name:&#x27;App&#x27;,</span><br><span class="line">	methods:&#123;</span><br><span class="line">	getStudents()&#123;</span><br><span class="line">	aixos.get(&#x27;http://localhost:8081/students&#x27;).then(</span><br><span class="line">	response=&gt;&#123;</span><br><span class="line">	console.log(&#x27;请求成功&#x27;,data);	</span><br><span class="line">	&#125;,</span><br><span class="line">	error=&gt;&#123;</span><br><span class="line">	console.log(&#x27;请求fail&#x27;,message);	</span><br><span class="line">	&#125;);</span><br><span class="line">//aioxs.post(地址,&#123;key:value,key2:value2&#125;).then(function(response)&#123;&#125;,function(error)&#123;&#125;)</span><br><span class="line">	&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="插槽"><a href="#插槽" class="headerlink" title="插槽"></a>插槽</h2><p>用于父组件与子组件的通信</p>
<p>Category.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;category&quot;&gt;</span><br><span class="line">&lt;h3&gt;&#123;&#123;title&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;!--定义插槽--&gt;</span><br><span class="line">&lt;!-- 默认插槽 --&gt;</span><br><span class="line">&lt;slot &gt;默认 当没有传递具体结构时，会显示&lt;/slot&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 具名插槽 --&gt;</span><br><span class="line">&lt;slot name=&quot;center&quot;&gt;默认 当没有传递具体结构时，会显示&lt;/slot&gt;</span><br><span class="line">&lt;slot name=&quot;footer&quot;&gt;默认 当没有传递具体结构时，会显示&lt;/slot&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 作用域插槽:数据在组件的自身，但根据数据生成的结构需要组件的使用者来决定 --&gt;</span><br><span class="line">&lt;slot :games=&quot;test&quot;  :games2:&#x27;list&#x27;&gt;默认 当没有传递具体结构时，会显示&lt;/slot&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">	name:&#x27;Category&#x27;,</span><br><span class="line">	data()&#123;</span><br><span class="line">	return &#123;</span><br><span class="line">	test:[&#x27;xxx&#x27;,&#x27;0989&#x27;,&#x27;33&#x27;],</span><br><span class="line">	list:[&#x27;&#x27;,&#x27;&#x27;,&#x27;&#x27;,&#x27;&#x27;]	</span><br><span class="line">	&#125;	</span><br><span class="line">	&#125;,</span><br><span class="line">	props:[&#x27;listData&#x27;,&#x27;title&#x27;]</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;Category&gt;</span><br><span class="line">&lt;img slot=&quot;center&quot; src=&quot;xxx&quot;&gt;</span><br><span class="line">&lt;a slot=&quot;footer&quot; href=&quot;xxxx&quot;&gt;&lt;/a&gt;</span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">&lt;Category&gt;</span><br><span class="line">&lt;template scope=&quot;test1&quot;&gt;</span><br><span class="line">&lt;h1&gt;&#123;&#123;test1.games&#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;&#123;&#123;test1.games2&#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="webStorage"><a href="#webStorage" class="headerlink" title="webStorage"></a>webStorage</h2><p>存储内容大小一般支持5MB左右<br>浏览器端通过Window.sessionStorage和Window.localStorage属性来实现本地存储。<br>相关api：</p>
<ol>
<li>xxxxStorage.setItem(‘key’,’value’);接受一个键和值作为参数，把键值添加到存储中，若存在则更新。</li>
<li>xxxxStorage.getItem(‘person’);接受一个键名作为参数,返回键名对应的值。</li>
<li>xxxStorage.removeItem(‘key);接受一个键名作为参数,删除键名和其对应的值。</li>
<li>xxxStorage.clear();清空存储中的所有数据。</li>
</ol>
<p>注意：1.SessionStorage存储内容会随浏览器窗口的关闭而消失；2.LocalStorage存储的内容，需手动清除才会消失。3.xxxxx.Storage.getItem(xx);若xx对应的值获取不到则返回null；4.JSON.parse(null)的结果依然是null。</p>
<h2 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a>vuex</h2><p>专门在vue中实现集中式状态（数据）管理的一个vue插件,对vue应用中多个组件的共享状态进行集中式的管理（读与写），也是一种组件间通信的方式，适用于任意组件间的通信。</p>
<p>使用时机：多个组件需要共享数据时</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/fJo8ZF"><img src="https://z3.ax1x.com/2021/08/10/fJo8ZF.png" alt="fJo8ZF.png"></a></p>
<h3 id="store"><a href="#store" class="headerlink" title="store"></a>store</h3><p>创建文件：src/store/index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//使用vuex插件</span><br><span class="line">Vue.use(Vuex);</span><br><span class="line"></span><br><span class="line">//action--用于响应组件中的动作</span><br><span class="line">const actions=&#123;&#125;</span><br><span class="line">//mutations--用于操作数据state</span><br><span class="line">const mutations=&#123;&#125;</span><br><span class="line">//state--用于储存数据</span><br><span class="line">const state=&#123;&#125;</span><br><span class="line"></span><br><span class="line">//创建store</span><br><span class="line">const store =new Vuex.Store(&#123;</span><br><span class="line">actions,</span><br><span class="line">mutatuons,</span><br><span class="line">state,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//暴露store</span><br><span class="line">expore default store</span><br></pre></td></tr></table></figure>

<p>在main.js中创建vm时传入store配置项</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import Vue form &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;/App.vue&#x27;</span><br><span class="line">//引用插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">import Vuex form &#x27;vuex&#x27;</span><br><span class="line">import store form  &#x27;./store&#x27;</span><br><span class="line"></span><br><span class="line">//使用插件</span><br><span class="line">Vue.use(vueResource);</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">el:&#x27;#app&#x27;,</span><br><span class="line">render:h=&gt;h(App),</span><br><span class="line">store,</span><br><span class="line">beforeCreate()&#123;</span><br><span class="line">Vue.prototype.$bus=this</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h4><p>初始化数据、配置actions、mutations，操作文件store.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import Vuex form &#x27;vuex&#x27;</span><br><span class="line">Vue.use (Vuex);</span><br><span class="line"></span><br><span class="line">const actions=&#123;</span><br><span class="line">//响应组件中的动组</span><br><span class="line">jia:function(context,value)&#123;</span><br><span class="line">	//context里中存放着一些方法</span><br><span class="line">context.commit(&#x27;JIA&#x27;,value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const mutations=&#123;</span><br><span class="line">//执行jia</span><br><span class="line">JIA:function(state,value)&#123;</span><br><span class="line">state.sum+=value;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//初始化数据</span><br><span class="line">const state=&#123;sum=0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.store(&#123;</span><br><span class="line">actions:actions,</span><br><span class="line">mutations,</span><br><span class="line">state,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>组件中读取vuex中的数据：<code>$store.state.sum</code><br>组件中修改vuex中的数据：<code>$store.dispatch(&#39;actions中的方法名&#39;,数据)</code>或<code>$store.commit(&#39;mutatuins中的方法名&#39;,数据)</code></p>
<blockquote>
<p>若没有网络请求或其他业务逻辑，组件中也可以越过actions，即不写dispatch,直接编写commit</p>
</blockquote>
<h4 id="四个map方法的使用"><a href="#四个map方法的使用" class="headerlink" title="四个map方法的使用"></a>四个map方法的使用</h4><ul>
<li>mapState:用于帮助我们映射state中的数据为计算属性</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">computed:&#123;</span><br><span class="line">//借助mapState生成计算属性，对象写法</span><br><span class="line">...mapState(&#123;sum:&#x27;sum&#x27;,school:&#x27;shchool&#x27;,subject:&#x27;subject&#x27;&#125;);</span><br><span class="line">//借助mapState生成计算属性，对象写法</span><br><span class="line">...mapState([&#x27;sum&#x27;,&#x27;shchool&#x27;,&#x27;subject&#x27;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>mapGetters: 帮助我们映射getters中的数据为计算属性</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">computed:&#123;</span><br><span class="line">...mapGetters(&#123;b:&#x27;b&#x27;&#125;);</span><br><span class="line">...mapGetters([&#x27;b&#x27;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>mapActions方法：帮助我们生成与action对法的方法，即包含<code>$store.dispatch(xxx)</code>的函数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">...mapActions(&#123;inicrementOdd:&#x27;jiaOdd&#x27;,incrementWait:&#x27;jiaWait&#x27;&#125;)</span><br><span class="line">...mapActions([&#x27;jiaOdd&#x27;,&#x27;jiaWait&#x27;])</span><br></pre></td></tr></table></figure>

<ul>
<li>mapMutations方法：用于帮助我们生成与mutations对话的方法，即：包含$store.commit(xxx)的函数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">...mapMutations(&#123;increment:&#x27;JIA&#x27;,decrement:&#x27;JIAN&#x27;&#125;)</span><br><span class="line">...mapMutations([&#x27;JIA&#x27;,&#x27;JIAN&#x27;])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>mapActions与mapMutations使用时，若需要传递参数需要在模板中绑定事件时传递好参数，否则参数是事件对象</p>
</blockquote>
<h3 id="store-1"><a href="#store-1" class="headerlink" title="store"></a>store</h3><p>index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">//创建store</span><br><span class="line">import vue from &#x27;vue&#x27;</span><br><span class="line">import vuex from &#x27;vuex&#x27;</span><br><span class="line">//应用vuex插件</span><br><span class="line">Vue.use(vuex);</span><br><span class="line"></span><br><span class="line">const test=&#123;</span><br><span class="line">//namespaced:true,</span><br><span class="line">action:&#123;&#125;,</span><br><span class="line">mutations:&#123;&#125;,</span><br><span class="line">state:&#123;&#125;,</span><br><span class="line">getters:&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">//store：actions、mutations、state、getters</span><br><span class="line"></span><br><span class="line">//创建暴露store</span><br><span class="line">export default new Vuex.store&#123;</span><br><span class="line">	modules:&#123;</span><br><span class="line">	a:test,</span><br><span class="line">	b:xxx	</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>test.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">,,,</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;mapState,mapGetters,mapMutations,mapActions &#125; form &#x27;vuex&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;test&#x27;</span><br><span class="line">data()&#123;&#125;,</span><br><span class="line">computed:&#123;</span><br><span class="line">personList()&#123;</span><br><span class="line">	return this.$store.state.personAbout</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>


<h3 id="模块化-命名空间"><a href="#模块化-命名空间" class="headerlink" title="模块化+命名空间"></a>模块化+命名空间</h3><p>为了让代码更好维护，让多种数据分类更加明确</p>
<p>修改store.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">const countAbout=&#123;</span><br><span class="line">namespaced:true,	//开启命名空间</span><br><span class="line">state:&#123;x:1&#125;,</span><br><span class="line">mutatuions:&#123;.........&#125;,</span><br><span class="line">actions:&#123;..&#125;,</span><br><span class="line">getters:&#123;</span><br><span class="line"></span><br><span class="line">bigSum(state)&#123;</span><br><span class="line">	return state.sum+1;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const personAbout=&#123;</span><br><span class="line">namespaced:true,</span><br><span class="line">state:&#123;..&#125;,</span><br><span class="line">mutations:&#123;&#125;,</span><br><span class="line">actions:&#123;&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const store=new Vuex.Store(&#123;</span><br><span class="line">modules:&#123;</span><br><span class="line">countAbout,</span><br><span class="line">personAbout</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>开启命名空间后，组件读取state数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.$store.state.personAbout.list</span><br><span class="line">//借助mapState读取</span><br><span class="line">...mapState(&#x27;countAbout&#x27;,[&#x27;sum,&#x27;school&#x27;,&#x27;subject&#x27;]);</span><br></pre></td></tr></table></figure>

<p>开启命名空间后，组件读取getters数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.$store.getters(&#x27;personAbout/firstPersonName&#x27;)</span><br><span class="line">//借助mapGetters读取</span><br><span class="line">...mapGetters(&#x27;countAbout&#x27;,[&#x27;bigSum&#x27;]);</span><br></pre></td></tr></table></figure>

<p>开启命名空间后，组件读取dispatch数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.$store.dispatch(&#x27;personAbout/addPersonWang&#x27;person`)</span><br><span class="line">//借助mapActions读取</span><br><span class="line">...mapActions(&#x27;countAbout&#x27;,&#123;incrementOdd:&#x27;jiaOdd&#x27;,incrementWait:&#x27;jiaWait&#x27;&#125;);</span><br></pre></td></tr></table></figure>

<p>开启命名空间后，组件读取commit数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">this.$store.commit(&#x27;personAbout/ADD_PERSON&#x27;,person)</span><br><span class="line">...mapMutations(&#x27;countAbout&#x27;,&#123;increment:&quot;JIA&quot;,decrement:&quot;JIAN&quot;&#125;)</span><br></pre></td></tr></table></figure>


<h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><p>路由就是一组映射（key-value）的对应关系,key为路径，value是function或Component</p>
<ul>
<li>后端路由:value是function,用于处理客户端提交的请求，即服务端根据请求路径找到匹配的函数处理数据后，返回响应数据</li>
</ul>
<blockquote>
<p>路由组件一般放在pages文件夹，一般组件则放在Component文件夹；通过切换，隐藏了的路由组件，默认是被销毁的，需要的时候在去挂载；每个组件都有$route属性，里面存储着自己的路由信息<br>；整个应用只有一个route，可通过组件的$router属性获取到。</p>
</blockquote>
<h4 id="vue-router：vue的一个插件库，用来实现SPA应用（单个web应用，整个页面只有一个完整页面，只会做页面的局部更新，数据需要通过ajax请求获取）"><a href="#vue-router：vue的一个插件库，用来实现SPA应用（单个web应用，整个页面只有一个完整页面，只会做页面的局部更新，数据需要通过ajax请求获取）" class="headerlink" title="vue-router：vue的一个插件库，用来实现SPA应用（单个web应用，整个页面只有一个完整页面，只会做页面的局部更新，数据需要通过ajax请求获取）"></a>vue-router：vue的一个插件库，用来实现SPA应用（单个web应用，整个页面只有一个完整页面，只会做页面的局部更新，数据需要通过ajax请求获取）</h4><p>src/router/index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">//引入路由</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About form &#x27;../components/About.vue&#x27;</span><br><span class="line">import Home form &#x27;../components/Home.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建并暴露一个路由器</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line"></span><br><span class="line">routes:[</span><br><span class="line">&#123;path:&quot;/about&quot;,</span><br><span class="line">component:About</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">path:&quot;/home&quot;</span><br><span class="line">component:Home</span><br><span class="line">children:[	//多级路由</span><br><span class="line">&#123;</span><br><span class="line">path:&#x27;news&#x27;,	//不能写‘/news’</span><br><span class="line">component:News,</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//引入Vue</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">//引入APP</span><br><span class="line">import App form &#x27;./App.vue&#x27;</span><br><span class="line">//引入VueRouter </span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入路由器</span><br><span class="line">import router form &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">//应用插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"></span><br><span class="line">//创建vm</span><br><span class="line">new Vue(&#123;</span><br><span class="line">el:&quot;#app&quot;,</span><br><span class="line">render:h=&gt;h(App),</span><br><span class="line">router:router</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>index.js跳转</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!--用route-link代替a标签去跳转--&gt;</span><br><span class="line">&lt;!--active-class属性：该元素激活时触发样式，可配置高亮样式--&gt;</span><br><span class="line">&lt;router-link  class=&quot;&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">&lt;router-link  class=&quot;&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">&lt;router-link  class=&quot;&quot; to=&quot;/home/news&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">&lt;!--跳转路由并携带query参数（字符串写法）--&gt;</span><br><span class="line">&lt;router-link  class=&quot;&quot; to=&quot;/home/news?id=xxx&amp;titel=xxx&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">&lt;!--跳转路由并携带query参数（对象写法）--&gt;</span><br><span class="line">&lt;router-link  class=&quot;&quot; to=&quot;</span><br><span class="line">&#123;path:&#x27;/home/news&#x27;,</span><br><span class="line">query:&#123;id:xxx,titel:xxx&#125;</span><br><span class="line">&#125;&quot;&gt;&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;router-view&gt;&lt;/route-view&gt;	&lt;!--指定组件呈现的位置--&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>接收query参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$route.query.id</span><br></pre></td></tr></table></figure>



<h4 id="命名路由"><a href="#命名路由" class="headerlink" title="命名路由"></a>命名路由</h4><p>简化路由跳转</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">path:&#x27;/demo&#x27;,</span><br><span class="line">component:Demo,</span><br><span class="line">children:[</span><br><span class="line">&#123;</span><br><span class="line">	path:&#x27;test&#x27;</span><br><span class="line">	component:Test,</span><br><span class="line">	chilren:[</span><br><span class="line">		&#123;</span><br><span class="line">		name:&#x27;hello&#x27;	//给路由命名</span><br><span class="line">		path:&#x27;welcome&#x27;,</span><br><span class="line">		component:Hello</span><br><span class="line">		&#125;</span><br><span class="line">		]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">name:weather</span><br><span class="line">path:&#x27;weather/:id/:title&#x27;,	//使用占位符声明接收params参数</span><br><span class="line">component:Weather</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>跳转</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link :to=&quot;name:hello&quot;&gt;test&lt;/router-link&gt;</span><br><span class="line">&lt;router-link :to=&quot;</span><br><span class="line">&#123;</span><br><span class="line">name:hello,</span><br><span class="line">query:&#123;id:xxx,title:xxx&#125;</span><br><span class="line">&#125;&quot;&gt;test&lt;/router-link&gt;</span><br><span class="line">&lt;!--跳转路由并携带params参数（字符串写法）--&gt;</span><br><span class="line">&lt;router-link  class=&quot;&quot; to=&quot;/home/news/id/title&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">&lt;!--跳转路由并携带params参数（对象写法）--&gt;</span><br><span class="line">&lt;router-link  class=&quot;&quot; to=&quot;</span><br><span class="line">&#123;name:&#x27;weather&#x27;,</span><br><span class="line">params:&#123;id:xxx,titel:xxx&#125;</span><br><span class="line">&#125;&quot;&gt;&lt;/router-link&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>携带params参数时，若使用to的对象写法，则不能使用path配置项，必须用name配置下</p>
</blockquote>
<p>接收params参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$route.params.id</span><br></pre></td></tr></table></figure>

<h3 id="路由的props配置"><a href="#路由的props配置" class="headerlink" title="路由的props配置"></a>路由的props配置</h3><p>index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">export default new VueRouter(&#123;</span><br><span class="line"></span><br><span class="line">routes:[</span><br><span class="line">&#123;</span><br><span class="line">path:&#x27;/home&#x27;,</span><br><span class="line">component:Home,</span><br><span class="line">children:[</span><br><span class="line">&#123;</span><br><span class="line">name:&#x27;test&#x27;,</span><br><span class="line">path:&#x27;detail/:id/:title&#x27;,</span><br><span class="line">compomemt:Detail,</span><br><span class="line">//props的第一种写法，值为对象，该对象中的所有key-value都会以props的形式传给Detail组件</span><br><span class="line">props:&#123;a:1,b:&#x27;hello&#x27;&#125;</span><br><span class="line">//props的第二种写法，值为布尔值，若布尔值为真，就会把该路由组件收到的所有params参数，以props的形式传给detail组件。只能传params参数</span><br><span class="line">props：true</span><br><span class="line">//props的第三种写法，值为函数,该函数返回的对象中每一组key-value都会通过props传给Detail组件</span><br><span class="line">props($route)&#123;</span><br><span class="line">return &#123;id:$route.query.id,title:$route.query.title&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>Detail.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">	&lt;li&gt;&lt;/li&gt;</span><br><span class="line">	&lt;li&gt;&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">name:&#x27;Detail&#x27;,</span><br><span class="line">props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">computed:&#123;xxx&#125;,</span><br><span class="line">mounted()&#123;xxx&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>


<ul>
<li><router-link>的replace属性<ul>
<li>作用：控制路由跳转时操作的浏览器历史记录的模式</li>
<li>历史记录的写入方式：<code>push</code>追加历史记录，<code>replace</code>替换当前记录；路由跳转时默认为<code>push</code></li>
<li><router-link replace >test</router-link></li>
</ul>
</li>
</ul>
<p>message.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">name:&#x27;massage&#x27;,</span><br><span class="line">data()&#123;&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">pushShow(m)&#123;</span><br><span class="line">this.$router.push(&#123;</span><br><span class="line"></span><br><span class="line">	name:&#x27;test&#x27;,</span><br><span class="line">	query:&#123;</span><br><span class="line">		id:m.id,</span><br><span class="line">		title:m.title	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Banner.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;</span><br><span class="line">	methods:&#123;</span><br><span class="line">	back()&#123;this.$router.back()&#125;,</span><br><span class="line">	forward()&#123;this.$router.forward()&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="编程式路由导航"><a href="#编程式路由导航" class="headerlink" title="编程式路由导航"></a>编程式路由导航</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">this.$router.push(&#123;</span><br><span class="line">	name:&#x27;test&#x27;,</span><br><span class="line">	params:&#123;id:xxx,title:xxx&#125;</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">this.$router.replace(&#123;</span><br><span class="line">	name:&#x27;test&#x27;,</span><br><span class="line">	params:&#123;id:xxx,title:xxx&#125;</span><br><span class="line">	&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="缓存路由组件"><a href="#缓存路由组件" class="headerlink" title="缓存路由组件"></a>缓存路由组件</h3><p>让不展示的路由组件保持挂载，不被销毁</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive include=&quot;News&quot;&gt;</span><br><span class="line">&lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure>

<p>home.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">	&lt;ul&gt;</span><br><span class="line">		&lt;li&gt;</span><br><span class="line">			&lt;router-link to=&quot;/home/new&quot;&gt;news&lt;/router-link&gt;</span><br><span class="line">		&lt;/li&gt;</span><br><span class="line">		&lt;li&gt;</span><br><span class="line">			&lt;router-link to=&quot;/home/message&quot;&gt;message&lt;/router-link&gt;</span><br><span class="line">		&lt;/li&gt;</span><br><span class="line">	&lt;/ul&gt;</span><br><span class="line">&lt;!--缓存多个路由组件--&gt;</span><br><span class="line">&lt;!-- &lt;keep-alive :include=&quot;[&#x27;&#x27;,&#x27;&#x27;]&quot;&gt;--&gt;</span><br><span class="line">&lt;!--缓存一个路由组价--&gt;</span><br><span class="line">&lt;keep-alive include=&quot;News&quot;&gt;</span><br><span class="line">	&lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line"> name:&#x27;Home&#x27;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>New.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"> export default&#123;</span><br><span class="line">	name:&#x27;News&#x27;,</span><br><span class="line">	data()&#123;</span><br><span class="line">		return&#123;</span><br><span class="line">		opacity:1</span><br><span class="line">		&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">	//路由组件所独有的两个钩子，用于捕获路由组件的激活状态</span><br><span class="line">	activated()&#123;console.log(&#x27;News组件被激活了&#x27;)&#125;	</span><br><span class="line">	deactivated()&#123;console.log(&#x27;News组件失活了&#x27;)&#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="路由守卫"><a href="#路由守卫" class="headerlink" title="路由守卫"></a>路由守卫</h3><p>对路由进行权限控制</p>
<ul>
<li>全局守卫</li>
</ul>
<p>index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">const router=new VueRounter(&#123;</span><br><span class="line">	routes:[</span><br><span class="line">		&#123;</span><br><span class="line">		name:&#x27;test&#x27;,</span><br><span class="line">		path:&#x27;/about&#x27;,</span><br><span class="line">		component:About</span><br><span class="line">		meta:&#123;isAuth:true,title:&#x27;新闻&#x27;&#125;,</span><br><span class="line">		&#125;,</span><br><span class="line">	]</span><br><span class="line">//全局前置路由守卫---初始化时被调用，每次路由切换之前被调用</span><br><span class="line">router.beforeEach((to,from,next)=&gt;&#123;</span><br><span class="line">if(to.meta.isAuth)&#123;//判断当前路由是否需要进行权限控制</span><br><span class="line">	if(localStorage.getItem(&#x27;shool&#x27;)===&#x27;test&#x27;)&#123;next();&#125;</span><br><span class="line">	else&#123;alert(&#x27;学校名不对&#x27;)&#125;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">next();	//放行</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//全局前置路由守卫---初始化时被调用，每次路由切换之后被调用</span><br><span class="line">router.afterEach((to,from,next)=&gt;&#123;</span><br><span class="line">console.log(&#x27;后置路由守卫&#x27;);</span><br><span class="line">dovument.title=to.meta.title||&#x27;testTitle&#x27;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">export default router;</span><br></pre></td></tr></table></figure>

<ul>
<li>独享守卫</li>
</ul>
<p>index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">name:&#x27;news&#x27;,</span><br><span class="line">path:&#x27;news&#x27;,</span><br><span class="line">component:News,</span><br><span class="line">meta:&#123;isAuth:true,title:&#x27;新闻&#x27;&#125;,</span><br><span class="line">beforeEnter:(to,from,next)=&gt;&#123;</span><br><span class="line">if(to.meta.isAuth)&#123;//判断当前路由是否需要进行权限控制</span><br><span class="line">	if(localStorage.getItem(&#x27;shool&#x27;)===&#x27;test&#x27;)&#123;next();&#125;</span><br><span class="line">	else&#123;alert(&#x27;学校名不对&#x27;)&#125;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">next();	//放行</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>组件内守卫</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//进入守卫：进入该组件时被调用</span><br><span class="line">beforeRouteEnter(to,from,next)&#123;&#125;,</span><br><span class="line">//离开守卫：离开该组件时被调用</span><br><span class="line">beforeRouteLeave(to,from,next)&#123;&#125;</span><br></pre></td></tr></table></figure>


<h3 id="路由器工作模式"><a href="#路由器工作模式" class="headerlink" title="路由器工作模式"></a>路由器工作模式</h3><p>对于一个url来说<code>#</code>及其后的内容就是hash值;hash值不会包含在http请求中，即hash值不会带给服务器。</p>
<ul>
<li>hash模式:</li>
</ul>
<p>地址中永远带着#号，不美观；通过第三方手机app分享时可能会标记为不合法；但其兼容性好；</p>
<ul>
<li>history模式:</li>
</ul>
<p>地址干净，兼容比hash略差，应用部署上线时需要后端人员支持，解决刷新页面服务端404的问题；</p>
<h2 id="Vue-UI组件库"><a href="#Vue-UI组件库" class="headerlink" title="Vue UI组件库"></a>Vue UI组件库</h2><p>移动端：<code>Vant</code>,<code>Cube UI</code>,<code>Mint UI</code></p>
<p>PC端：<code>Element UI</code>, <code>IView UI</code></p>
<p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入ElementUI组件库</span><br><span class="line">import ElementUI from &#x27;element-ui&#x27;</span><br><span class="line">//引入ElementUI全部样式</span><br><span class="line">import &#x27;element-ui/lib/theme-chalk/index.css&#x27;;</span><br><span class="line"></span><br><span class="line">Vue.ues(ElementUI);</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">	el:&#x27;#app&#x27;</span><br><span class="line">	render:h=&gt;h(App),</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>balel.config.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">module.exports=&#123;</span><br><span class="line">presets:[</span><br><span class="line">	&#x27;@vue/cli-plugin-babel/preset&#x27;,</span><br><span class="line">	[&quot;@babel/present-env&quot;,&#123;&quot;modules&quot;:false&#125;],</span><br><span class="line">],</span><br><span class="line">plugins:[</span><br><span class="line">[</span><br><span class="line">	&quot;component&quot;,</span><br><span class="line">	&#123;</span><br><span class="line">	&quot;libraryName&quot;:&#x27;element-ui&#x27;,</span><br><span class="line">	&quot;styleLibraryName&quot;:&quot;theme-chalk&quot;</span><br><span class="line">	&#125;</span><br><span class="line">]</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    
  </div>

</article>


   
  <div class="text-center donation">
    <div class="inner-donation">
      <span class="btn-donation">END</span>
      <div class="donation-body">
        <div class="tip text-center">???????</div>
        <ul>
        
          <li class="item">
            
            <img src="/images/2.png" alt="">
          </li>
        
        </ul>
      </div>
    </div>
  </div>


   
  <div class="box-prev-next clearfix">
    <a class="show pull-left" href="/2021/05/22/js/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/2021/06/12/nodejs/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>




</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">关闭</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              rel="noopener noreferrer"
              target="_self"
              >
              Notes
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/categories/"
              rel="noopener noreferrer"
              target="_self"
              >
              分类
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              rel="noopener noreferrer"
              target="_self"
              >
              关于
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/search/"
              rel="noopener noreferrer"
              target="_self"
              >
              搜索
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    

    
    

    

    
    

    

  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
