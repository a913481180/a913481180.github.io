<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/1.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/1.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"a913481180.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":false,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="KK">
<meta property="og:url" content="https://a913481180.github.io/page/4/index.html">
<meta property="og:site_name" content="KK">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="KK">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://a913481180.github.io/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>KK</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">KK</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://a913481180.github.io/2020/12/22/20-33-22/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/22/20-33-22/" class="post-title-link" itemprop="url">十大排序算法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-22 20:33:22" itemprop="dateCreated datePublished" datetime="2020-12-22T20:33:22+08:00">2020-12-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-14 23:12:11" itemprop="dateModified" datetime="2024-05-14T23:12:11+08:00">2024-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/study/" itemprop="url" rel="index"><span itemprop="name">study</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="十大排序算法"><a href="#十大排序算法" class="headerlink" title="十大排序算法"></a>十大排序算法</h1><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/2QDphq"><img src="https://z3.ax1x.com/2021/06/02/2QDphq.md.png" alt="2QDphq.md.png"></a><br><a target="_blank" rel="noopener" href="https://imgtu.com/i/2QDC90"><img src="https://z3.ax1x.com/2021/06/02/2QDC90.md.png" alt="2QDC90.md.png"></a></p>
<h2 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h2><blockquote>
<p>时间复杂度 O(n^2);稳定的排序方法，</p>
</blockquote>
<p>首先在未排序序列中找到最小元素，存放到排序序列的起始位置，然后，再从剩余未排序元素中继续寻找最小元素，然后放到已未排序序列的第一个。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">selection_sort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span> ; i &lt; len - <span class="number">1</span> ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">                <span class="keyword">int</span> min = i; <span class="comment">//用于记录最小值的下标</span></span><br><span class="line">                <span class="keyword">for</span> (j = i + <span class="number">1</span>; j &lt; len; j++)     <span class="comment">//从后面的元素开始找</span></span><br><span class="line">                        <span class="keyword">if</span> (arr[j] &lt; arr[min])    <span class="comment">//找到比当前元素小的值</span></span><br><span class="line">                                min = j;    <span class="comment">//紀錄最小值的下标</span></span><br><span class="line">                swap(&amp;arr[min], &amp;arr[i]);    <span class="comment">//交换当前值与最小值</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h2><blockquote>
<p>时间复杂度 O(n^2);稳定的排序方法，</p>
</blockquote>
<p>比较相邻的元素。如果第一个比第二个大，就交换它们两个；</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bubble_sort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i, j, temp;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i++)</span><br><span class="line">                <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; len - <span class="number">1</span> - i; j++)</span><br><span class="line">                        <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                                temp = arr[j];</span><br><span class="line">                                arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">                                arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">                        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h2><blockquote>
<p>时间复杂度为 O(n^2) ;稳定的排序方法，n 值较小时的最佳排序方法；</p>
</blockquote>
<p>取出下一个元素，在已经排序的元素序列中从后向前扫描；如果已排序中的元素大于该元素，则将比它大的那个元素后移到下一位置,重复以上步骤，直到找到已排序的元素<em>小于或者等于新元素</em>的位置；将新元素插入到该位置后；</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertion_sort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> len)</span></span>&#123; <span class="comment">//传入数组和数组长度</span></span><br><span class="line">        <span class="keyword">int</span> i,j,key;</span><br><span class="line">        <span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;len;i++)&#123;</span><br><span class="line">                key = arr[i]; <span class="comment">//key等于当前元素</span></span><br><span class="line">                j=i<span class="number">-1</span>;  <span class="comment">//j为前一个元素下标</span></span><br><span class="line">                <span class="keyword">while</span>((j&gt;=<span class="number">0</span>) &amp;&amp; (arr[j]&gt;key)) &#123;  <span class="comment">//如果前面的元素大于当前元素</span></span><br><span class="line">                        arr[j+<span class="number">1</span>] = arr[j];  <span class="comment">//则比它大的那个元素后移一位</span></span><br><span class="line">                        j--;  <span class="comment">//j下标前移</span></span><br><span class="line">                &#125;</span><br><span class="line">                arr[j+<span class="number">1</span>] = key;  <span class="comment">//前面大的元素已经后移一位，现在只需插入当前元素</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="插入排序-希尔排序"><a href="#插入排序-希尔排序" class="headerlink" title="插入排序-希尔排序"></a>插入排序-希尔排序</h2><blockquote>
<p>时间复杂度为 O(n^(3/2));不稳定的排序方法，</p>
</blockquote>
<p>将整个待排序的记录序列分割成为若干子序列,分别进行直接插入排序，具体算法描述：</p>
<p>选择一个增量序列 t1，t2，…，tk，其中 ti&gt;tj，tk=1；(dlta[k]=2^(t-k+1)-1, t 为排序趟数，1&lt;=k&lt;=log(2)(n+1)]<br>按增量序列个数 k，对序列进行 k 趟排序；<br>每趟排序，根据对应的增量 ti，将待排序列分割成若干长度为 m 的子序列，分别对各子表进行直接插入排序。仅增量因子为 1 时，整个序列作为一个表来处理，表长度即为整个序列的长度。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">shell_sort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> gap, i, j;</span><br><span class="line">        <span class="keyword">int</span> temp;</span><br><span class="line">        <span class="keyword">for</span> (gap = len &gt;&gt; <span class="number">1</span>; gap &gt; <span class="number">0</span>; gap &gt;&gt;= <span class="number">1</span>) <span class="comment">//</span></span><br><span class="line">                <span class="keyword">for</span> (i = gap; i &lt; len; i++) &#123;</span><br><span class="line">                        temp = arr[i];</span><br><span class="line">                        <span class="keyword">for</span> (j = i - gap; j &gt;= <span class="number">0</span> &amp;&amp; arr[j] &gt; temp; j -= gap)&#123; <span class="comment">//</span></span><br><span class="line">     arr[j + gap] = arr[j];</span><br><span class="line">   &#125;</span><br><span class="line">                        arr[j + gap] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h2><blockquote>
<p>时间复杂度 O(nlogn);n 值较大时，所需时间较堆排序省，但所需的辅助存储量最多。</p>
</blockquote>
<p>把长度为 n 的输入序列分成两个长度为 n/2 的子序列；<br>对这两个子序列分别采用归并排序；<br>将两个排序好的子序列合并成一个最终的排序序列。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">min</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x &lt; y ? x : y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge_sort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *a = arr;</span><br><span class="line">    <span class="keyword">int</span> *b = (<span class="keyword">int</span> *) <span class="built_in">malloc</span>(len * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="keyword">int</span> seg, start;</span><br><span class="line">    <span class="keyword">for</span> (seg = <span class="number">1</span>; seg &lt; len; seg += seg) &#123;</span><br><span class="line">        <span class="keyword">for</span> (start = <span class="number">0</span>; start &lt; len; start += seg * <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> low = start, mid = min(start + seg, len), high = min(start + seg * <span class="number">2</span>, len);</span><br><span class="line">            <span class="keyword">int</span> k = low;</span><br><span class="line">            <span class="keyword">int</span> start1 = low, end1 = mid;</span><br><span class="line">            <span class="keyword">int</span> start2 = mid, end2 = high;</span><br><span class="line">            <span class="keyword">while</span> (start1 &lt; end1 &amp;&amp; start2 &lt; end2)</span><br><span class="line">                b[k++] = a[start1] &lt; a[start2] ? a[start1++] : a[start2++];</span><br><span class="line">            <span class="keyword">while</span> (start1 &lt; end1)</span><br><span class="line">                b[k++] = a[start1++];</span><br><span class="line">            <span class="keyword">while</span> (start2 &lt; end2)</span><br><span class="line">                b[k++] = a[start2++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> *temp = a;</span><br><span class="line">        a = b;</span><br><span class="line">        b = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (a != arr) &#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">            b[i] = a[i];</span><br><span class="line">        b = a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>递归版：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge_sort_recursive</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> reg[], <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (start &gt;= end)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> len = end - start, mid = (len &gt;&gt; <span class="number">1</span>) + start;</span><br><span class="line">    <span class="keyword">int</span> start1 = start, end1 = mid;</span><br><span class="line">    <span class="keyword">int</span> start2 = mid + <span class="number">1</span>, end2 = end;</span><br><span class="line">    merge_sort_recursive(arr, reg, start1, end1);</span><br><span class="line">    merge_sort_recursive(arr, reg, start2, end2);</span><br><span class="line">    <span class="keyword">int</span> k = start;</span><br><span class="line">    <span class="keyword">while</span> (start1 &lt;= end1 &amp;&amp; start2 &lt;= end2)</span><br><span class="line">        reg[k++] = arr[start1] &lt; arr[start2] ? arr[start1++] : arr[start2++];</span><br><span class="line">    <span class="keyword">while</span> (start1 &lt;= end1)</span><br><span class="line">        reg[k++] = arr[start1++];</span><br><span class="line">    <span class="keyword">while</span> (start2 &lt;= end2)</span><br><span class="line">        reg[k++] = arr[start2++];</span><br><span class="line">    <span class="keyword">for</span> (k = start; k &lt;= end; k++)</span><br><span class="line">        arr[k] = reg[k];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge_sort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">const</span> <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> reg[len];</span><br><span class="line">    merge_sort_recursive(arr, reg, <span class="number">0</span>, len - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h2><blockquote>
<p>时间复杂度 O(nlogn),不稳定的排序方法，最坏情况 O(n^2)</p>
</blockquote>
<p>从数列中挑出一个元素，称为 “基准”（pivot）；<br>重新排序数列，所有元素比基准值小的摆放在基准前面，所有元素比基准值大的摆在基准的后面（相同的数可以到任一边）。在这个分区退出之后，该基准就处于数列的中间位置。这个称为分区（partition）操作；<br>递归地（recursive）把小于基准值元素的子数列和大于基准值元素的子数列排序。</p>
<h2 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h2><blockquote>
<p>时间复杂度 O(nlogn);不稳定的排序方法，</p>
</blockquote>
<p>将初始待排序关键字序列(R1,R2….Rn)构建成大顶堆，此堆为初始的无序区；<br>将堆顶元素 R[1]与最后一个元素 R[n]交换，此时得到新的无序区(R1,R2,……Rn-1)和新的有序区(Rn),且满足 R[1,2…n-1]&lt;=R[n]；<br>由于交换后新的堆顶 R[1]可能违反堆的性质，因此需要对当前无序区(R1,R2,……Rn-1)调整为新堆，然后再次将 R[1]与无序区最后一个元素交换，得到新的无序区(R1,R2….Rn-2)和新的有序区(Rn-1,Rn)。不断重复此过程直到有序区的元素个数为 n-1，则整个排序过程完成。</p>
<h2 id="基数排序"><a href="#基数排序" class="headerlink" title="基数排序"></a>基数排序</h2><blockquote>
<p>时间复杂度 O(d(n+rd));稳定的排序方法，适用于 n 值较大而关键词较小的序列</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://a913481180.github.io/2020/12/22/20-22-11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/22/20-22-11/" class="post-title-link" itemprop="url">计算机网络基础</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-22 20:22:11" itemprop="dateCreated datePublished" datetime="2020-12-22T20:22:11+08:00">2020-12-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-14 23:12:11" itemprop="dateModified" datetime="2024-05-14T23:12:11+08:00">2024-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/study/" itemprop="url" rel="index"><span itemprop="name">study</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="计算机网络基础"><a href="#计算机网络基础" class="headerlink" title="计算机网络基础"></a>计算机网络基础</h1><h2 id="进制转换"><a href="#进制转换" class="headerlink" title="进制转换"></a>进制转换</h2><p>十进制：89D；<br>八进制：89O；<br>十六进制：89H；</p>
<blockquote>
<p>二进制数 1101.01 转化成十进制<br><code>1101.01（2）=1*2^0+0*2^1+1*2^2+1*2^3 +0*2^(-1)+1*2^(-2)=1+0+4+8+0+0.25=13.25（10）</code></p>
</blockquote>
<ul>
<li><p>十进制整数转换为二进制整数采用”除 2 取余，逆序排列”法。具体做法是：用 2 整除十进制整数，可以得到一个商和余数；再用 2 去除商，又会得到一个商和余数，如此进行，直到商为小于 1 时为止，然后把先得到的余数作为二进制数的低位有效位，后得到的余数作为二进制数的高位有效位，依次排列起来。</p>
</li>
<li><p>十进制小数转换成二进制小数采用”乘 2 取整，顺序排列”法。具体做法是：用 2 乘十进制小数，可以得到积，将积的整数部分取出，再用 2 乘余下的小数部分，又得到一个积，再将积的整数部分取出，如此进行，直到积中的小数部分为零，此时 0 或 1 为二进制的最后一位。或者达到所要求的精度为止。</p>
</li>
<li><p>整数二进制转八进制：从右往左每三位二进制转 1 位八进制，不足三位在左边补零；反之八进制转二进制，每一位八进制转换为三位二进制</p>
</li>
<li><p>整数二进制转十六进制:从右往左每四位二进制转 1 位十六进制，不足四位在左边补零；反之十六进制转二进制，每一位十六进制转换为四位二进制</p>
</li>
</ul>
<blockquote>
<p>[0~9,a-f]</p>
</blockquote>
<p>最高位为符号位：1 表示负数，0 表示正数<br>反码：正数原码反码一样，负数符号位不变，其他取反<br>补码：正数原码补码一样，负数在反码的基础上加 1，由补码求原码则是先取反再加 1</p>
<blockquote>
<p>计算机中一般采用补码进行存储，因为补码和移码的 0 是唯一，补码可以直接带符号运算而不出现错误</p>
</blockquote>
<p>取值范围：<br>原码：-[2^(n-1)-1]~2^(n-1)-1<br>反码：-[2^(n-1)-1]~2^(n-1)-1<br>补码：-2^(n-1)~2^(n-1)-1</p>
<h3 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h3><ul>
<li>或：有 1 则为 1</li>
<li>与：全 1 才为 1</li>
<li>非：取反</li>
<li>异或：不相同才为 1</li>
</ul>
<h3 id="计算机结构"><a href="#计算机结构" class="headerlink" title="计算机结构"></a>计算机结构</h3><ul>
<li><p>总线：数据总线，地址总线，控制总线；</p>
</li>
<li><p>主机：</p>
<ol>
<li>主存储器<br> 2.cpu<ul>
<li>运算器<ol>
<li> 算术逻辑单元 ALU</li>
<li> 累加寄存器 AC:暂存计算结果</li>
<li> 数据缓冲寄存器</li>
<li> 状态条件寄存器</li>
</ol>
</li>
<li>控制器<ol>
<li> 程序计数器 PC:储存指令地址</li>
<li> 指令寄存器 IR</li>
<li> 指令译码器</li>
<li> 时序部件</li>
</ol>
</li>
</ul>
</li>
</ol>
</li>
<li><p>寻址方式：<br>一条指令包括操作码和地址码</p>
</li>
</ul>
<ol>
<li>立即寻址</li>
<li>内存寻址<ul>
<li>变址寻址</li>
<li>直接寻址</li>
<li>间接寻址</li>
</ul>
</li>
<li>寄存器寻址与寄存器间接寻址</li>
</ol>
<ul>
<li>CISC(复杂)与 RISC(精简)</li>
</ul>
<ul>
<li>CISC:</li>
</ul>
<ul>
<li><p>RISC:统一指令编码、泛用的寄存器、单纯的寻址方式、寻址方式少、硬件中支持少数资料类型。指令长度固定、指令种类尽可能少。增加寄存器数目减少访存次数。</p>
</li>
<li><p>流水线：</p>
</li>
</ul>
<p>取址-》分析-》执行<br>流水线执行时间计算公式：<code>(t1+t2+t3)+(n-1)t1</code><br>(t1+t2+t3)为一条指令顺序执行时间即取址、分析、执行的时间之和。t1 为三个步骤中执行时间最长的一段<br>吞吐率：指令条数/流水线执行时间<br>加速比：不使用流水线的时间/使用流水线的执行时间</p>
<h3 id="存储容量单位"><a href="#存储容量单位" class="headerlink" title="存储容量单位"></a>存储容量单位</h3><p>主存(内存):RAM 随机存储器，掉电丢失；ROM 只读存储器，掉电不丢失；<br>缓存 cache：缓和寄存器与内存间的速率矛盾；<br>Cache 是一个高速小容量的临时储存器，其容量远远小于内存，cpu 先访问 Cache 再访问内存，如果数据在 cache 中为命中，在内存中为不命中，</p>
<blockquote>
<p>Cache 的访问命中率为 h，Cache 访问周期为 t1，主存器访问时间为 t2；整个系统的平均访存时间为<code>h* t1+(1-h)*t2</code></p>
</blockquote>
<p>地址范围：末地址-首地址+1</p>
<blockquote>
<p>注意：二进制 10-1=1</p>
</blockquote>
<p>位：bit<br>字节：1B=8bit<br>字：通常为字节的整数倍</p>
<p>1K=2^10b<br>1M=2^10K<br>1G=2^10M</p>
<p>磁盘容量/物理块大小=物理块个数<br>物理块个数/字长（一个字需要的物理块=位示图大小需要的字<br>（物理块大小<em>系统字长</em>磁盘容量)/物理块=物理块大小*磁盘容量</p>
<ul>
<li>磁盘：<br>RAID 技术:</li>
</ul>
<ol>
<li>RAID0:将所有硬盘构成一个磁盘阵列。写入速度快，不具备备份和容错能力；可靠性最差;利用率为 100%</li>
<li>RAID1:磁盘镜像技术，将一个硬盘的内容同步备份到另一个硬盘；具备容错和备份能力；效率不高，可靠性好；利用率为 50%</li>
<li>RAID3:奇偶校验盘的分段技术；容错性好，可靠性高；单块硬盘失效时会出现 I/O 瓶颈。有一块磁盘用于存放校验数据所以利用率=（n-1）/n</li>
<li>RAID5:分布式奇偶校验技术，校验值分布在各盘的不同位置；性能比 RAID3 好;利用率一样</li>
<li>RAID6:带有两个独立分布式校验方案的独立数据磁盘；能实现两个磁盘掉线容错；磁盘利用率（n-2）/n</li>
</ol>
<p>DMA 存取方式是一种完全有硬件执行 I/O 数据交换的工作方式，它即考虑到中断的响应，又要节约中断开销。此时，DMA 控制器代替 CPU 完全接管对总线的控制，数据交换不经过 CPU，直接在内存和外围设备之间进行数据交换</p>
<ul>
<li><p>进程管理<br>等待，就绪，运行</p>
</li>
<li><p>死锁：一个进程在等待一个不可能发生的事就会出现死锁<br>解决死锁：</p>
</li>
</ul>
<ol>
<li>预防死锁</li>
<li>死锁避免<ul>
<li>银行家算法</li>
</ul>
</li>
<li>死锁检测</li>
<li>死锁解除</li>
</ol>
<ul>
<li><p>pv 操作：<br>解决进程互斥同步问题<br>P 操作：使 s=s-1 若 s&gt;=0 则进程继续执行，否则进入等待队列；<br>V 操作：使 s=s+1 若 s&lt;=0 则唤醒等待队列中的一个进程</p>
</li>
<li><p>软件开发模型：<br>瀑布模型<br>v 模型<br>喷泉模型<br>螺旋模型</p>
</li>
</ul>
<h3 id="网络按分布范围分类"><a href="#网络按分布范围分类" class="headerlink" title="网络按分布范围分类"></a>网络按分布范围分类</h3><p>局域网(误码率最小)，城域网，广域网</p>
<h3 id="网络按拓扑结构分类"><a href="#网络按拓扑结构分类" class="headerlink" title="网络按拓扑结构分类"></a>网络按拓扑结构分类</h3><p>总线型、星型、环型、树形、网状型、混合型</p>
<h3 id="OSI-七层模型"><a href="#OSI-七层模型" class="headerlink" title="OSI 七层模型"></a>OSI 七层模型</h3><table>
<thead>
<tr>
<th align="right">osi 层次</th>
<th align="center">封装单位</th>
<th align="center">地址标识</th>
<th align="center">功能</th>
</tr>
</thead>
<tbody><tr>
<td align="right">物理层</td>
<td align="center">比特流</td>
<td align="center">Bit</td>
<td align="center">定义物理设备接口链路标准,用于建立、维护、拆除物理链路链接，确保原始数据在物理媒介上的传输</td>
</tr>
<tr>
<td align="right">数据链路层</td>
<td align="center">数据帧</td>
<td align="center">MAC 地址</td>
<td align="center">在物理层提供的比特流的服务上，建立相邻结点间的数据链路，通过差错控制提供数据帧在信道上的无差错的传输，功能有物理寻址，比特流封装成帧，帧同步，差错、流量控制</td>
</tr>
<tr>
<td align="right">网络层</td>
<td align="center">数据包，分组</td>
<td align="center">IP 地址</td>
<td align="center">基于 IP 地址进行不同网络间的路径选择，网络寻址</td>
</tr>
<tr>
<td align="right">传输层</td>
<td align="center">数据段</td>
<td align="center">端口号</td>
<td align="center">定义了传输数据的协议与端口，提供端与端可靠的数据传输，分段与重组</td>
</tr>
<tr>
<td align="right">会话层</td>
<td align="center">应用进程</td>
<td align="center">进程号</td>
<td align="center">会话的连接与释放,同步</td>
</tr>
<tr>
<td align="right">表示层</td>
<td align="center">应用进程</td>
<td align="center">进程号</td>
<td align="center">数据解释，数据加密，数据压缩</td>
</tr>
<tr>
<td align="right">应用层</td>
<td align="center">应用进程</td>
<td align="center">进程号</td>
<td align="center">用户应用程序的协议</td>
</tr>
</tbody></table>
<p>OSI 网络管理标准中的 5 大功能：配置管理、故障管理、性能管理、安全管理、计费管理；</p>
<h3 id="tcp-ip-四层模型"><a href="#tcp-ip-四层模型" class="headerlink" title="tcp/ip 四层模型"></a>tcp/ip 四层模型</h3><table>
<thead>
<tr>
<th>层</th>
<th>常见协议</th>
</tr>
</thead>
<tbody><tr>
<td>网络接口层(物理层和数据链路层)</td>
<td>以太网、令牌环、帧中继、ATM</td>
</tr>
<tr>
<td>网络层</td>
<td>IP、ICMP、IGMP、ARP、RARP</td>
</tr>
<tr>
<td>传输层</td>
<td>tcp udp</td>
</tr>
<tr>
<td>应用层</td>
<td>tcp:pop3(110)、ftp(20、21)、http(80)、HTTPS(443)、telent(23)、SMTP。udp：DHCP、DNS(53)、SNMP(161、162)、TFTP(69)。共用：NFS、Samba 等。</td>
</tr>
</tbody></table>
<p><strong>数据的封装：</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>上层数据</td>
<td>应用层</td>
<td>HTTP FTP TFTP SMTP SNMP DNS</td>
</tr>
<tr>
<td>tcp 头部+上层数据</td>
<td>传输层</td>
<td>TPC UDP</td>
</tr>
<tr>
<td>ip 头部+tcp 头部+上层数据</td>
<td>网络层</td>
<td>ICMP iGMP IP ARP RARP</td>
</tr>
<tr>
<td>MAC 头部+ip 头部+tcp 头部+上层数据</td>
<td>数据链路层</td>
<td>由底层网络定义协议</td>
</tr>
<tr>
<td>二进制数据</td>
<td>物理层</td>
<td>由底层网络定义的协议</td>
</tr>
</tbody></table>
<h4 id="OSI-模型服务访问点"><a href="#OSI-模型服务访问点" class="headerlink" title="OSI 模型服务访问点"></a>OSI 模型服务访问点</h4><ul>
<li>垂直方向：</li>
</ul>
<hr>
<blockquote>
<p>服务用户： 第 n+1 层 实体（n+1）</p>
</blockquote>
<hr>
<blockquote>
<p>服务提供者：第 n 层 实体（n）</p>
</blockquote>
<hr>
<ul>
<li>常见访问点 SAP:</li>
</ul>
<ol>
<li>数据链路层：LLC 地址</li>
<li>网络层：IP 地址</li>
<li>传输层：端口号</li>
</ol>
<h2 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h2><h3 id="时延"><a href="#时延" class="headerlink" title="时延"></a>时延</h3><ol>
<li>发送时延=数据帧长度(bit)/发送速率(bit/s)</li>
<li>传播时延=信道长度(m)/电磁波在信道上的传播速率(m/s)；电磁波的传输速率为光速；铜线为 2.3<em>10^8m/s；光纤/电缆为 2</em>10^8m/s;卫星信号的传播延迟为 270ms。</li>
<li>处理时延</li>
<li>排队时延</li>
</ol>
<h3 id="传输介质"><a href="#传输介质" class="headerlink" title="传输介质"></a>传输介质</h3><ol>
<li>双绞线：屏蔽双绞线（stp）非屏蔽双绞线（utp）；<br>双绞线线序：T568A,T6568B;<br>双绞线两端使用相同标准称为直通线，否则称为交叉线；</li>
</ol>
<table>
<thead>
<tr>
<th>设备互联</th>
<th>线缆种类</th>
</tr>
</thead>
<tbody><tr>
<td>计算机–计算机</td>
<td>交叉线</td>
</tr>
<tr>
<td>计算机–交换机</td>
<td>直通线</td>
</tr>
<tr>
<td>计算机–路由器</td>
<td>交叉线</td>
</tr>
<tr>
<td>交换机–交换机</td>
<td>交叉线</td>
</tr>
<tr>
<td>交换机–路由器</td>
<td>直通线</td>
</tr>
<tr>
<td>路由器–路由器</td>
<td>交叉线</td>
</tr>
</tbody></table>
<ol start="2">
<li>同轴电缆<br>有很好的抗干扰性，常用于高数据传输；单工通信：无线广播</li>
<li>光纤</li>
</ol>
<p>单模单纤: 激光二极管 LED 做光源;传播距离远，数据传输速率高，信号衰减小；造价高<br>多模光纤：发光二极管 LED 做为光源;反之</p>
<h4 id="信道"><a href="#信道" class="headerlink" title="信道"></a>信道</h4><ul>
<li><p>信道带宽 W:模拟信道<code>W=f2-f1</code>（f2、f1 分别表示信道能通过的最高|最低频率，单位为 hz）</p>
</li>
<li><p>码元：即一个数字脉冲</p>
</li>
<li><p>一个码元携带的信息量 n 与码元种类 N 的关系：<code>n=log(2)N</code></p>
</li>
<li><p>码元速率（波特率）B：单位时间内信道传输的码元个数，若码元宽度（脉冲周期）为 T，则码元速率<code>B=1/T</code>,单位为波特 Baud</p>
</li>
<li><p>无噪声影响：（尼奎斯特定理）信道带宽为 W,最大码元速率为<code>B=2W</code>;数据极限传输速率为<code>R=Blog(2)N=2Wlog(2)N</code>其中 N 为码元种类数</p>
</li>
<li><p>噪声影响：(香农理论)信道的极限传输传输速率为：<code>C=Wlog(2)(1+S/N)</code>;W：带宽；S:信号平均功率；N:噪声平均功率；<br>由于信噪比 S/N 的比值通常太大，因此通常用分贝 db 来表示,分贝与信噪比的转换公式：db=10log(s/n);常见的：<code>db=30 =&gt; S/N=1000</code>;<code>log(2)1001=log(2)1024=10</code>;</p>
</li>
<li><p>信道复用：发送端复用器，接收端分用器；频分复用 FDM、时分 TDN、波分 WDM、吗分 CDM</p>
</li>
<li><p>调制与解调</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>数据种类</th>
<th>模拟信道</th>
<th>数字信道</th>
</tr>
</thead>
<tbody><tr>
<td>模拟数据</td>
<td>调幅 AM、调频 FM、调相 PM、正交调相 QAM</td>
<td>_PCM 脉冲编码调制_：采样(奈奎斯特定理)、量化(如：量化 128 个信道=2^7==7bit)、编码</td>
</tr>
<tr>
<td>数字数据</td>
<td>调制：ASK(码元种类：2),FSK(码元种类：2),PSK(码元种类：2),DPSK(码元种类：2)、4DPSK(码元种类：4)、QPSK(码元种类：4)</td>
<td>基本编码，应用型编码</td>
</tr>
</tbody></table>
<ul>
<li>E1:<br>E1 载波有 32 个信道，30 个用来传数据，2 个不传，即控制率为<code>2/32*100%</code>,基本帧传送时间为 125us;数据速率为 2.048Mb/s,每个信道的速率是 64Kb/s<br>E2 信道由 4 个 E1 信道组成，数据速率为 8.448Mb/s.</li>
<li>T1：<br>T1 载波控制位为 24+1 位，总帧长为<code>24*（7+1）=193</code>速率为 1.544Mb/s<br>T2 信道由 4 个 T1 信道组成，数据速率为 6.312Mb/s</li>
</ul>
<blockquote>
<p>异步通信中，每个字符包含一位起始位、7 位数据位、1 位奇偶位、一位终止位，每秒传送 100 个字符，采用 DPSK 调制，则码元速率位 1000 波特，有效数据速率为 700bps</p>
</blockquote>
<p>采取 pcm 编码,信道的数据速率为<code>采样率*每次采样所占位数</code></p>
<ul>
<li>编码：</li>
</ul>
<ol>
<li>不归零制：高电平为 1，低电平为 0；</li>
<li>归零制：正脉冲为 1，负脉冲为 0；</li>
<li>曼切斯特编码：在中心周期由高电平向低电平跳变为 1，反之变为 0；</li>
<li>差分曼切斯特编码：边界处有跳变为 0，没有为 1；</li>
</ol>
<p>应用型编码：</p>
<ol>
<li>曼切斯特编码（常用于 10M 以太网）和差分曼特斯特编码（常用于令牌环网），编码效率只有 50%</li>
<li>8B/6B:100Base-T,</li>
<li>4B/5B 编码：常用于 100base-x，编码效率为 80%</li>
<li>8B/10B 编码：千兆以太网，编码效率为 80%</li>
</ol>
<blockquote>
<p>在采用曼斯特编码方式的数字通信中，传输一个比特需要发送 2 个码元，波特率是数据速率的 2 倍</p>
</blockquote>
<table>
<thead>
<tr>
<th>标准</th>
<th>频段</th>
<th>技术</th>
<th>速率</th>
</tr>
</thead>
<tbody><tr>
<td>802.11</td>
<td>2.4GHz 的 ISM 频段</td>
<td>扩频通信技术</td>
<td>1mbps</td>
</tr>
<tr>
<td>802.11b</td>
<td>2.4GHz 的 ISM 频段</td>
<td>CCK 技术</td>
<td>11mbps</td>
</tr>
<tr>
<td>802.11a</td>
<td>5GHz 的 U-NII 频段</td>
<td>OFDM 调制技术</td>
<td>54mbps</td>
</tr>
<tr>
<td>802.11g</td>
<td>2.4GHz 的 ISM 频段</td>
<td>OFDM 调制技术</td>
<td>54mbps</td>
</tr>
<tr>
<td>802.11n</td>
<td>2.4GHz 和 5GHz</td>
<td>MIMO,OFDM</td>
<td>600mbps</td>
</tr>
</tbody></table>
<h3 id="接入技术"><a href="#接入技术" class="headerlink" title="接入技术"></a>接入技术</h3><ul>
<li>常见接入网技术:SONET/SDH<br>SONET 信号 STS-1 和 OC-1 的速率:51.840Mb/s<br>SONET 信号 STS-3、OC-3 与 SDH 信号 STM-1 的速率:155.520Mb/s</li>
</ul>
<ol>
<li>窄带（N-ISDN）用户利用 2B+D 数字用户线拨号上网</li>
<li>xDSL：各种 DSL 数字用户线的总称，通过频分复用技术，利用电话线传输数字数据。<ul>
<li>IDSL：数字用户线路，128kbps，对称模式</li>
<li>HDSL:对称,上下行 1.544Mb/s</li>
<li>SDSL:对称,上下行 2.3Mb/s</li>
<li><em>ADSL：非对称用户数字线路，采用频分多路复用技术 DMT，非对称模式。下行 8Mbps，下 640kbps-1Mbps</em></li>
<li>VDSL：超高数据速率数字用户线路，非对称模式,上 8Mb/s,下 640kbps-1Mbps</li>
</ul>
</li>
<li>局域网接入</li>
<li>HFC 光纤同轴混合网：电缆调制解调器:利用有线电视电缆</li>
<li>FTTX:光纤接入技术:为了有效利用光纤资源，会在光纤干线与广大用户之间铺设一段管线转换器，即 ODN 光配线网，使得十几个用户共同享用一条光纤干线，无源的光配线网称为无源光网络：</li>
</ol>
<ul>
<li>无源光网络 PON：<br>ODN 光分配网络，没有有源电子设备，避免电磁干扰；下行采用 TDM 广播方式，上行采用 TDMA 时分多址接入方式</li>
</ul>
<p>PON 三种类型：</p>
<ol>
<li>APON:以 53 字节固定长度的 ATM 信元方式传输</li>
<li>EPON：基于以太网的 PON 技术，可变长度的分组进行</li>
<li>GPON： 上下行传输不对称，兼容上面两种；</li>
</ol>
<h2 id="数据链路层"><a href="#数据链路层" class="headerlink" title="数据链路层"></a>数据链路层</h2><p>两种协议：ppp、CSMA/CD 协议；<br>三个问题：封装成帧、透明传输、差错控制；<br>以太网 MAC 层的硬件地址；</p>
<h4 id="封装成帧"><a href="#封装成帧" class="headerlink" title="封装成帧"></a>封装成帧</h4><ol>
<li>把网络层交下来的 IP 数据报添加首部和尾部封装成帧；</li>
<li>把封装好的数据帧发送给结点 B 的数据链路层；</li>
<li>若结点 B 的数据链路层收到的帧无差错，则从帧中提取 IP 数据报交给网络层，否则丢弃该帧；</li>
</ol>
<p>帧的首部和尾部的作用是确定帧的界限即帧定界<br>为了提高帧的传输效率，应使帧的数据长度尽可能大于首部和尾部的长度。而规定数据部分长度的上限称为最大传送单元 MTU；<br>帧定界可以使用特殊的帧定界符：帧开始 SOH、帧结束 EOT；</p>
<ul>
<li>MAC 帧组成(最小 64 字节)：6B<code>目的地址</code>，6B<code>源地址</code>，2B<code>类型(上层协议类型)</code>，网络层的<code>数据</code>46~1500 字节(不够时填充 0 保持最小帧长,46 字节是最小帧长 64 字节减去首尾一共 18 字节而得的)，4B<code>FCS(CRC校验）</code>;即合法帧长为 64~1518 字节</li>
</ul>
<blockquote>
<p>规定最小帧长为 64 位，避免发送过程中检测不到冲突，若帧长不够则填充冗余字节到最小帧长</p>
</blockquote>
<h4 id="透明传输"><a href="#透明传输" class="headerlink" title="透明传输"></a>透明传输</h4><p>数据链路层的透明传输指无论什么样的比特组合的数据，都能够按照原来没有差错的通过这个数据链路层；<br>避免非 ASCII 吗的的文本文件中的某个字节的二进制代码恰好和 SOH、EOT 这种控制字符一样；发送端会在数据部分的 SOH、EOT、ESC 等控制字符的前面插入一个转义字符“ESC”,接受端收到后会删除该字符在交给网络层，此方法称为字符填充</p>
<h4 id="差错控制"><a href="#差错控制" class="headerlink" title="差错控制"></a>差错控制</h4><p>任意两个码字之间最少变化的二进制位数称为该数据编码的最小码距</p>
<p>在一个码组内为了检测 e 个误码，最小码距应满足：<code>d&gt;=e+1</code>;<br>在一个码组内为了纠正 t 个误码，则最小码距应满足：<code>d&gt;=2t+1</code></p>
<ul>
<li>奇偶校验：<br>奇偶校验是最简单的错误检测码，是一个给定位数的二进制数中 1 的个数是奇数或偶数的二进制数。如果传输过程中包括校验位的奇数或者偶数个数据位发生改变，那么奇偶校验位将出错。奇偶检验位是一种检错码，但不能确定具体哪一位出错，所以无法纠正。<br>检错码=信息字段+校检字段；</li>
</ul>
<blockquote>
<p>奇偶校验用的是模二加运算法则</p>
</blockquote>
<ol>
<li> 垂直奇偶校验（纵向奇偶校验）</li>
<li> 水平奇偶校验（横向奇偶校验）</li>
</ol>
<ul>
<li><p>海明校验：<br>海明码特点：<code>m+k+1&lt;=2^k</code> m 为数据位数，k 为冗余码个数，海明码存放的位置在 2^n 上，如：<code>4位冗余码==p1p2c1p3c2c3c4p4c5c6....</code>能纠错一位.</p>
</li>
<li><p>CRC 校验<br>生成多项式的最高次幂为冗余码个数<br>如:P(x)=x^4+x^2+1;则冗余码为 4 个，即在发送的帧后面添加 4 个 0；除数为 10011；<br>模二运算法则,相同为 0，不同为 1</p>
</li>
</ul>
<p>循环冗余检验一般不进行纠错，若数据出错则请求重传。</p>
<h3 id="点对点协议-PPP"><a href="#点对点协议-PPP" class="headerlink" title="点对点协议 PPP"></a>点对点协议 PPP</h3><h3 id="CSMA-CD-协议-载波监听多点接入-碰撞检测"><a href="#CSMA-CD-协议-载波监听多点接入-碰撞检测" class="headerlink" title="CSMA/CD 协议:载波监听多点接入/碰撞检测"></a>CSMA/CD 协议:载波监听多点接入/碰撞检测</h3><p>使用 CSMA/CD 协议时，一个站不可能同时进行发送和接受，所以使用该协议的以太网只能进行半双工通信。</p>
<ul>
<li><p>载波监听过程</p>
<ol>
<li> 非坚持型监听算法：空余时立即发送，忙时放弃监听，随机后退一段时间再监听(信道利用率低)</li>
<li> 1-坚持型监听算法：空时立即发送，忙时继续监听(减少发送延迟，发生冲突的概率大）</li>
<li> P-坚持型监听算法：空时根据概率 p 决定是否发送，忙时继续监听（算法复杂）</li>
</ol>
</li>
<li><p>冲突检测方法<br>边发边听:碰撞窗口（争用期）=2 倍传播时延；<code>发送时延&gt;=2*传播时延</code>所以最短帧长计算：<code>发送时延&gt;=2*传播时延</code>;</p>
</li>
<li><p>发现冲突，停止发送</p>
</li>
<li><p>随机延迟重发<br>采用截断二进制指数退避算法：</p>
<ol>
<li> 确定基本退避时间即 2 倍传播时延</li>
<li> k=Min[重传次数,10],从集合[0,1,3,….,((2^k)-1)]中随机区一个数，乘于 2 倍传输时延，</li>
<li> 当重传 16 次仍不成功，则丢弃</li>
</ol>
</li>
</ul>
<blockquote>
<p>第 n 次重传后再发生冲突的概率：<code>1/2^(n+1)</code></p>
</blockquote>
<h4 id="MAC-地址-一般采用-16-进制表示"><a href="#MAC-地址-一般采用-16-进制表示" class="headerlink" title="MAC 地址:一般采用 16 进制表示"></a>MAC 地址:一般采用 16 进制表示</h4><p>（硬件唯一标识地址）MAC 地址： 48 位；前 24 位为供应商标志；第 8 位 I/G 位为 1 表示组播地址,用于多播(一对多,广播为一对全体)，为 0 表示单播地址。后一半为网卡的唯一编码；</p>
<h3 id="局域网"><a href="#局域网" class="headerlink" title="局域网"></a>局域网</h3><p>局域网分类：</p>
<ul>
<li>以太网</li>
<li>令牌环网</li>
<li>ATM 网</li>
<li>无线局域网</li>
<li>FDDI 网</li>
</ul>
<h3 id="局域网设备"><a href="#局域网设备" class="headerlink" title="局域网设备"></a>局域网设备</h3><ol>
<li>集线器：物理层</li>
<li>网桥：数据链路层；生成树网桥、源路由网桥；</li>
<li>交换机：数据链路层；</li>
<li>路由器：网络层</li>
</ol>
<blockquote>
<p>网桥根据 MAC 帧的目的地址对帧进行转发和过滤<br>交换机根据以太网帧中的目的地址智能转发数据，只能分割冲突域,交换机分割冲突域，实现全双工通信，不使用 CSMA/CD 协议。交换机级联可在不同厂家的设备间使用，而堆叠只能在通厂家间的设备进行；路由器能分割冲突域和广播域，集线器啥都不能；</p>
</blockquote>
<p>交换机与路由器相关参数计算：<br>背板带宽=端口数<em>相应端口速率</em>2（全双工模式）<br>包转发率=千兆端口数量<em>1.488Mpps+百兆端口数量</em>0.1488MPPS+其余端口数*相应速率</p>
<h3 id="无线局域网"><a href="#无线局域网" class="headerlink" title="无线局域网"></a>无线局域网</h3><table>
<thead>
<tr>
<th>种类</th>
<th>标准</th>
<th>应用</th>
</tr>
</thead>
<tbody><tr>
<td>无线个人网 WPAN</td>
<td>IEEE802.15</td>
<td>蓝牙</td>
</tr>
<tr>
<td>无线局域网 WLAN</td>
<td>IEEE802.11</td>
<td>企业</td>
</tr>
<tr>
<td>无线城/广域网 WMAN</td>
<td>IEEE802.20&amp;&amp;蜂窝通信</td>
<td>访问 internet</td>
</tr>
</tbody></table>
<p>无线局域网中的 AP 的轮询会锁定异步帧，在 IEEE802.11 网络中定义了无争用服务机制来解决这问题。</p>
<ul>
<li>加密<br>WEP：对称加密算法；<br>WPA:<br>WPA2:AES 加密算法；</li>
</ul>
<h3 id="流量和差错控制"><a href="#流量和差错控制" class="headerlink" title="流量和差错控制"></a>流量和差错控制</h3><p>停等协议<br>滑动窗口协议<br>停等 ARQ 协议:应答帧大小为 64B；<br>选择重发(SR)：其最大值就是最小帧编号总数的一半即<code>W发=W收&lt;=2^(k-1)</code><br>后退 N 帧(GBN):限制发送窗口的大小为<code>W&lt;=2^k-1</code>; 接收窗口=1</p>
<h3 id="以太网标准"><a href="#以太网标准" class="headerlink" title="以太网标准"></a>以太网标准</h3><ol>
<li><p>以太网：早期的局域网标准 802.3，速率 10Mbps。最小帧长 64B，最大帧长 1518B。10Basc-T：无屏蔽双绞线，曼切斯特编码，半双工模式</p>
</li>
<li><p>快速以太网：802.3u 标准，速率 100Mbps，最小帧长 64B，最大帧长 1518B。<br>100Base-T4:4 对 3 类非屏蔽双绞线，最大长度 100m，三对数据传输，一对冲突检测；8B/6T 编码；半双工模式。<br>100Base-T2:2 对 3 类 UTP，100m<br>100Base_TX:2 对 5 类非屏蔽双绞线，一对发，一对收，4B/5B 与 MLT-3 编码，全双工模式。<br>100Base-FX:一对光纤，最大长度 45m，一发一收，4B/5B 编码；全双工</p>
</li>
<li><p>千兆以太网：速率 1000Mbps，最小帧长 512B,最大帧长 1518B。<br>1000 Base-T:(802.3ab 标准)非屏蔽双绞线，PAM5 编码 100 米。<br>1000 Base-X:全双工，半双工，多模光纤；8B/10B 编码，</p>
<ul>
<li>1000 Base-CX:屏蔽双绞线，25m；802.3z 标准，</li>
<li>1000 Base-LX:单模光纤，3km；802.3z 标准，</li>
<li>1000 Base-SX:多模光纤，300m-500m；802.3z 标准，</li>
</ul>
</li>
<li><p>万兆以太网:只工作在<em>全双工模式</em>；802.3ae 标准，最小帧长 64B，最大 1518B。64B/66B 编码；光纤；</p>
</li>
</ol>
<h3 id="VLAN"><a href="#VLAN" class="headerlink" title="VLAN"></a>VLAN</h3><p>基于 802.1Q 标准，每个交换机所有端口都处于广播域，交换机所有端口默认属于 VLAN1。VLAN:把同一物理局域网内的不同用户，在逻辑上划分成不同的广播域。VLAN 的取值范围为 0-4095；</p>
<ul>
<li>access 接口为数据打上 VLAN id，用于交换机连接终端设备，只允许一个 VLAN 帧通过。</li>
<li>trunk 链路可以放行多个 VLAN 的流量，用于交换机之间连接。允许多个 VLAN 通过，除缺省 VLAN 外其它 VLAN 都带有标签通过 trunk 端口。</li>
<li>hybrid 端口：允许一个或多个 VLAN 的帧通过，可以选择是否带标签。</li>
</ul>
<blockquote>
<p>VLAN 静态划分的方式是按端口划分的。</p>
</blockquote>
<ul>
<li>GARP 通用属性注册协议<br>GVRP 协议：VLAN 注册协议<br><em>交换机端口模式：</em><ol>
<li> Normal 模式：允许该端口动态注册或注销 VLAN，传播动态或静态 VLAN 信息；</li>
<li> Fixed 模式：禁止该端口动态注册或注销 VLAN，只传播静态 VLAN 信息；</li>
<li> Forbidden 模式：禁止该端口动态注册或注销 VLAN，除 VLAN1 外，不传播任何 VLAN 信息；</li>
</ol>
</li>
</ul>
<hr>
<p>VLAN trunk（vlan 中继）指在交换机之间或交换机与路由器之间连接的情况下，在互相连接的端口上配置中继模式，使得属于不同 vlan 的数据帧都可以通过这条中继链路进行传输。</p>
<ul>
<li>VTP 指 VLAN 中继协议,用于交换机设置 VLAN。有三种工作模式：</li>
</ul>
<ol>
<li>服务模式：可设置 VLAN 信息，服务器自动广播所以 VLAN 信息到其他交换机</li>
<li>客户模式:不能配置 VLAN 信息，只能接受服务器的 VLAN 配置。</li>
<li>透明模式：可以配置 vlan 信息，但不广播自己的 vlan 信息，接受服务器 vlan 配置信息后不使用，而是直接转发给其他交换机。</li>
</ol>
<p>交换机初始工作在透明模式下，这个模式下有一个默认的 VLAN，所有的端口都属于这个 VLAN<br>VTP 修剪的作用是减掉不必要的 trunk 链路上的广播，以提升整个交换网的性能和带宽</p>
<ul>
<li><p>生成树协议：STP<br>删除交换机之间的网络环路，逻辑上断开环路，防止广播风暴的产生,增加了带宽，提高了网络的可靠性。</p>
<ol>
<li> 选择根网桥：交换机之间选择网桥 ID 值最小的。网桥 ID 组成：网桥优先值 2 字节（取值范围 0~65535，默认 32768，越小优先级越高）+网桥 mac 地址 6 字节；</li>
<li> 选择根端口：从非跟网桥上选择，本端口到根网桥路径成本最低，带宽越小开销越小。网桥 ID 最小，端口 ID 最小。端口 ID=端口优先级(默认 128)+端口编号</li>
<li> 选择指定端口：根桥上的端口全是指定端口，所以还需要在非根网桥上选择指定端口，端口所在的网桥路径成本最低，网桥 ID 较小，端口 ID 较小。</li>
</ol>
</li>
<li><p>快速生成树协议：RSTP</p>
<ol>
<li>rstp 端口角色：根端口，指定端口，替代端口，备份端口；<br> 替换端口是对根端口的备份，备份端口是指定端口的备份</li>
<li>rstp 端口状态：丢弃，学习，转发。<br> rstp 快速收敛机制：</li>
<li> 边缘端口机制</li>
<li> 根端口快速切换机制</li>
<li> 指定端口快速切换机制</li>
</ol>
</li>
<li><p>多生成树协议：MSTP<br>基于实例计算出多棵生成树</p>
</li>
</ul>
<h4 id="以太网通道"><a href="#以太网通道" class="headerlink" title="以太网通道"></a>以太网通道</h4><p>多条链路负载均匀，提高带宽，容错率。<br>LACP 链路聚合控制协议<br>PAGP 端口聚合协议</p>
<h3 id="广域网"><a href="#广域网" class="headerlink" title="广域网"></a>广域网</h3><ul>
<li><p>交换方式：电路交换，报文交换、分组交换（虚电路、ATM、IP 数据报）</p>
</li>
<li><p>广域网技术：</p>
<ol>
<li> HDLC:面向<em>比特</em>的高级数据链路控制协议，是思科私有协议;头尾 8bit 为 01111110;</li>
</ol>
<blockquote>
<p>HDLC 中控制字段中第一，二位表示传送帧的类型：第一位为 0 表示信息帧（I 帧），第一，二位为“10”是监控帧（S 帧），S 帧不带信息字段，“11”为无编号帧（U 帧）。第三，四位 S 帧类型的编码“00”接受就绪（RR）；“01”拒绝（REJ）:用于要求发送方从编号为 N 开始的帧及其以后的所有的帧进行重传；“10”接收未就绪（RNR）:表示编号小于 N 的帧已被收到，但目前处于正忙状态，尚未准备好接受第 N 的帧；“11”选择拒绝（SREJ）:表示其他帧已接收但第 N 帧需要重发。</p>
</blockquote>
<ol start="2">
<li> PPP 协议：点对点协议，面向<em>字符</em>；只检错，不纠错，没有流量控制。提供了一整套协议框架来解决链路建立配置、维护、拆除、上层协议协商和认证等问题；ppp 验证方法：密码验证协议 PAP、挑战式握手验证协议 CHAP。</li>
</ol>
</li>
</ul>
<blockquote>
<p>PPPoE 为宽带上网的主机使用的链路层协议</p>
</blockquote>
<ul>
<li><p>常见广域网协议：</p>
<ol>
<li> X.25:使用电话或 ISDN 设备作为网络硬件设备来构架广域网，建立虚电路，实现可靠交付；</li>
<li> 帧中继：第二层建立虚拟电路，只检错，不重传，没有流量控制，但有拥塞控制，把复杂的检错交个高层处理；</li>
<li> ATM 异步传输网络：面向连接，将数据分割成固定长度的信元.(采用固定 53 字节来进行帧分割，称为信元)。采用统计时分复用 TDM 技术。使用虚电路的虚通路 VPI 和虚信道 VCI 作为链路标识.数据速率为 155Mb/s</li>
<li> IP 数据报</li>
</ol>
</li>
<li><p>流量控制：</p>
<ol>
<li> 停等协议：</li>
<li> 滑动窗口协议：</li>
<li> 停等 ARQ 协议</li>
<li> 选择重发 ARQ：其最大值小于帧编号总数的一半，即 W 发=W 收&lt;=2^(k-1)</li>
<li> 后退 N 帧 ARQ：限制发送窗口大小为 W&lt;=(2^k)-1,(K 为帧编号的位数）</li>
</ol>
</li>
</ul>
<h2 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h2><h4 id="IP-网际协议"><a href="#IP-网际协议" class="headerlink" title="IP 网际协议"></a>IP 网际协议</h4><p>IP 地址组成：<code>网络号</code>+<code>主机号</code><br>组成：首部+数据部分；</p>
<blockquote>
<p>首部固定 20 字节,最多 60 字节，</p>
</blockquote>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>版本 4 位（ipv4、ipv6）</td>
<td>首部长度 4 位（二进制 5-15）</td>
<td>区分服务 8 位</td>
<td>总长度 16 位(首部和数据)</td>
<td></td>
</tr>
<tr>
<td>标识 16 位(判断是否为同一个数据报)</td>
<td></td>
<td></td>
<td>标志 2 位(MF=1 表示后面还有分片，DF=0 表示允许分片)</td>
<td>片偏移 14 位(字节，从数据部分开始)</td>
</tr>
<tr>
<td>生存时间 8 位(TTL 没经过一个路由器就-1)</td>
<td>协议 8 位(TCP、UDP)</td>
<td></td>
<td>首部校验和 16 位(只校验首部)</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>源地址 32 位</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>目的地址 32 位</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="ipv4"><a href="#ipv4" class="headerlink" title="ipv4"></a>ipv4</h3><p>ipv4 使用 32 位（四字节）地址。</p>
<table>
<thead>
<tr>
<th></th>
<th>范围</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>A 类地址(0….)</td>
<td>1.0.0.0-127.255.255.255</td>
<td>可用网络号为 2^7-1 即 126 个，网络号全 0 为保留地址，指本网络，网络号 127 用于环回测试；可用主机号为 2^24-2,主机号全 0 表示该 IP 地址为本主机所连接到的单个地址，主机号全 1 表示该网络上的所有主机</td>
</tr>
<tr>
<td>B 类(10…)</td>
<td>128.0.0.0-191.255.255.255</td>
<td>可用网络号为 2^14-1,因为前两位固定为 10，128.0.0.0 保留，不可指派；主机号同理</td>
</tr>
<tr>
<td>C 类(110..)</td>
<td>192.0.0.0-223.255.255.255</td>
<td>前三位固定 110，192.0.0.0 不指派，即可用网络号为 2^21-1</td>
</tr>
<tr>
<td>D 类(1110…)（组播）</td>
<td>224.0.0.1-239.255.255.254</td>
<td></td>
</tr>
<tr>
<td>E 类（保留）</td>
<td>240.0.0.0-255.255.255.255</td>
<td></td>
</tr>
</tbody></table>
<p>0.0.0.0-0.255.255.255</p>
<blockquote>
<p>私有地址–NAT–公有地址</p>
</blockquote>
<ul>
<li>ipv4 私有地址范围：</li>
</ul>
<p>A 类中：10.0.0.0-10.255.255.255(网络号：10，网络数：1）</p>
<p>B 类：172.16.0.0-172.31.255.255(网络号：172.16~172.31，网络数：16）</p>
<p>C 类：192.168.0.0-192.168.255.255(网络号：192.168.0~192.168.255，网络数：256）</p>
<ul>
<li>特殊地址：</li>
</ul>
<p><code>0.0.0.0</code>:在本网络上的本主机，目的地址不可以使用，源地址可以使用</p>
<p><code>127.0.0.1</code>:本地环回地址，用于本地测试</p>
<p><code>255.255.255.255</code>：全网广播地址，源地址不可以使用，目的地址可以；</p>
<p><code>169.254.0.0/16</code>：本地链接地址段</p>
<p><code>169.254.x.x/16</code>:自动专用 IP 地址（APIPA）</p>
<blockquote>
<p>子网掩码是用来标识两个 IP 地址是否同属于一个子网。32 位长的二进制数值；为 1 则代表该位是网络位；为 0 则表示该位是主机位；</p>
</blockquote>
<ul>
<li>单播地址：</li>
<li>组播地址：tcp/ip 协议使用的以太网多播地址块范围为 224.0.0.0-239.255.255.255；组播地址只能用于目的地址，不能用于源地址</li>
<li>广播地址：</li>
</ul>
<h3 id="ipv6"><a href="#ipv6" class="headerlink" title="ipv6"></a>ipv6</h3><ul>
<li><p>优点：<br>更大的地址空间:128 位地址<br>更灵活的首部格式等</p>
</li>
<li><p>地址表示：16 进制</p>
<ul>
<li>删除一个或多个前导零，零连续部分用双冒号表示，但只能使用一次</li>
<li>每个设备在启用 ipv6 时会自动配置一个链路本地地址：<code>FE80::110</code>,其用于邻居发现，因为 ipv6 中没有了广播，ARP 协议不能用。链路本地地址以<code>FE80</code>开头，路由器不会转发链路本地地址</li>
<li>环路地址：<code>::1</code></li>
<li>多播地址：<code>FF00::</code></li>
</ul>
</li>
<li><p>ipv6 地址类型：</p>
<ul>
<li>单播：48 位全球路由选择器前缀+16 位子网标识符+64 位接口标识符（mac 地址）</li>
<li>多播：组播地址在 ipv6 包中不能用作源地址。</li>
<li>任播：用来标识一组网络接口，路由器会将目标地址是任播地址的数据包发给距本路由最近的一个网络接口；</li>
</ul>
</li>
<li><p>ipv6 特殊地址</p>
<ol>
<li> 与 ipv4 兼容地址：0:0:0:0:0:0:w.x.y.z</li>
<li> ipv4 映射地址：0:0:0:0:0:FFFF:w.x.y.z</li>
</ol>
</li>
<li><p>ipv6 协议过渡方案：<br>双协议栈，隧道技术，网络地址转换技术；</p>
</li>
</ul>
<h4 id="子网划分-可变长子网掩码-VLSM"><a href="#子网划分-可变长子网掩码-VLSM" class="headerlink" title="子网划分:可变长子网掩码(VLSM)"></a>子网划分:可变长子网掩码(VLSM)</h4><p><em>子网划分：使两级 ip 地址变成三级 ip 地址；只是把主机号这部分进行再划分，增加了灵活性，减少了主机总数</em><br>IP 地址={《网络号》，《子网号》，《主机号》}</p>
<blockquote>
<p>进行子网划分后，路由器提取数据报首部提取 IP 地址与子网掩码相与（一一为一）；</p>
</blockquote>
<ul>
<li>无分类编址 CIDR 记法：<br>消除了传统 A、B、C 类网络以及子网划分的概念：IP 地址={《网络前缀》，《主机号》}</li>
</ul>
<blockquote>
<p>如 192.168.1.0/26，其网络位是 26 位，主机位为 6 位，主机全为 0 是网络 ID,不是有效主机地址；主机位全为 1 为此网络 ID 的广播地址；有效主机 IP 数量为 2^m-2;</p>
</blockquote>
<ul>
<li>路由汇聚：选择网络地址相同的位进行汇聚，不同的位划分至主机位，从而实现将多个网段汇聚成一个新的超网网段。<br>最佳路由匹配原则：查找路由表时应当选择具有最长前缀的路由，网络的前缀越长，其地址块越小。</li>
</ul>
<blockquote>
<p>使用路由汇聚时，路由表中的每个项目由‘网络前缀’和‘下一条地址’组成，因此查找路由表时可能会得到不止一个匹配结果，此时应当选择具有最长网络前缀的路由，因为网络前缀越长，其地址块越小，因而路由就越具体。</p>
</blockquote>
<p>路由汇聚是把小网段中网络位一模一样的位数全部保留，网络位不一样的全部变成主机位；汇聚后主机位有 32-n 位；其中有效地址个数为 2 的 n 次方减 2。</p>
<p>汇聚地址块 120.64.4.0/22 的 ip 地址范围为 120.64.4.0/22-120.64.7.255/22 其中 120.64.6.0/22 为汇聚网络 ID，120.64.7.255/22 为广播地址</p>
<h3 id="网际控制报文协议-ICMP"><a href="#网际控制报文协议-ICMP" class="headerlink" title="网际控制报文协议 ICMP"></a>网际控制报文协议 ICMP</h3><blockquote>
<p>封装在 IP 数据报中，作为数据部分</p>
</blockquote>
<ul>
<li>ICMP 差错报告报文：<ul>
<li>终点不可达</li>
<li>时间超过</li>
<li>参数问题</li>
<li>改变路由</li>
</ul>
</li>
<li>ICMP 询问报文：<ul>
<li>回送请求与问答</li>
<li>时间戳请求与问答</li>
</ul>
</li>
</ul>
<ol>
<li>对 ICMP 差错报告报文不再发送 ICMP 差错报告报文</li>
<li>对特殊地址 0.0.0.0 或 127.0.0.0 等的数据报不发送 ICMP 差错报告报文</li>
<li>对具有多播地址的数据报不发送</li>
<li>对第一个分片的数据报片的所有后续数据报片都不发送</li>
</ol>
<ul>
<li>应用：<ul>
<li>ping 命令</li>
<li>traceroute、tracert 命令</li>
</ul>
</li>
</ul>
<h3 id="IGMP-网际组管理协议"><a href="#IGMP-网际组管理协议" class="headerlink" title="IGMP:网际组管理协议"></a>IGMP:网际组管理协议</h3><p>IP 多播需要使用网际组管理协议 IGMP 和多播路由选择协议</p>
<h3 id="ARP-地址解析协议"><a href="#ARP-地址解析协议" class="headerlink" title="ARP 地址解析协议"></a>ARP 地址解析协议</h3><p>ARP 位于 OSI 模型的网络层。ARP 从已知的 IP 地址中找到主机的硬件地址。一台设备将数据报发送到另一台设备之前，它会查看其 ARP 缓存以查看目标设备是否存在 MAC 地址和相应的 IP 地址。如果没有，源设备将发送广播地址给网络中的每一台设备，每个设备都将自己的 IP 地址与其进行比较，只有具有匹配 IP 地址的设备才会回复包含该设备 MAC 地址的数据包，然后源设备会添加目标设备 MAC 地址放入到 ARP 表以供参考。</p>
<blockquote>
<p>ARP 协议数据封装在以太帧中进行传输，ICMP 协议数据封装在 IP 数据包中，RIP 封装在 UDP 报中。</p>
</blockquote>
<h3 id="路由协议"><a href="#路由协议" class="headerlink" title="路由协议"></a>路由协议</h3><blockquote>
<p>互联网太过于庞大，因此划分为许多较小的自治系统 AS。</p>
</blockquote>
<ul>
<li>静态路由协议</li>
</ul>
<p>配置形式：目标网络+对应掩码+下一跳地址（本地出接口）<br>动态路由协议</p>
<ul>
<li><p>RIP 路由协议：距离矢量路由协议。基于 UDP 的 520 端口发送信息；路由协议优先级为 100；经过节点最多不能超过 15 跳，经 16 跳的任何分组都将被路由器丢弃；只会和邻居路由器交换路由表信息；路由器更新周期为 30s.每次路由更新最多承载 25 调路由；解决路由环路的方法:水平分割；毒性反转；触发更新；抑制计时器。</p>
</li>
<li><p>距离向量算法：</p>
<ol>
<li> 收到邻居路由表时，邻居路由表跳数全部+1，下一跳路由器为它自己。</li>
<li> 与自己路由表比较，目的地址下一跳为它的，则更新跳数，不论多少。</li>
<li> 目的地址下一跳不是它的，则比较跳数,谁短要谁。</li>
<li> 条目没有的则直接添加</li>
</ol>
</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>RIPv1</th>
<th>RIPv2</th>
</tr>
</thead>
<tbody><tr>
<td>有无路由协议</td>
<td>有</td>
<td>无</td>
</tr>
<tr>
<td>是否支持可变子网掩码 VLSM 与 CIDR</td>
<td>否</td>
<td>是</td>
</tr>
<tr>
<td>是否支持认证</td>
<td>否</td>
<td>是</td>
</tr>
<tr>
<td>更新类型</td>
<td>广播</td>
<td>组网</td>
</tr>
</tbody></table>
<ul>
<li>OSPF 路由协议:</li>
</ul>
<p>链路状态路由器协议；OSPF 报文封装在 IP 层，协议号为 89 作为标识，优先级为 10。OSPF 路由器所发的信息是与本路由相邻的所有路由器的链路状态。每个路由器都存在有全网的链路状态信息。当链路发生变化时才用泛洪法发送 LSU 分组更新路由链路信息。通过 244.0.0.5 与 244.0.0.6 发送 hello 报文(LSA 分组)确定邻居路由是否连通（默认 10s）。OSPF 采用 Dijkstra 算法计算最佳路径.</p>
<p>ospf 将自治系统划分为多个区域，每个区域被指定了一个 32 位的区域标识符，可用点分十进制表示，如 0.0.0.0。单域 ospf 网络只有主干区域网络（配置成区域 0）。OSPF 的区域分为五种： 1.标准区域：可接受任何链路更新信息和路由汇总信息 2.主干区域：其他区域都通过主干区域交换路由信息。主干区域拥有标准区域的所有性质 3.存根区域：不接受本地自治系统以外的路由信息，对自治系统以外的区域的目标采用默认路由 0.0.0.0</p>
<p>OSPF 协议相对于 RIP 的优势：没有跳数的限制，支持可变长子网掩码。支持网络规模大，收敛速度快。不过 RIP2 也支持可变长子网掩码（VLSM）</p>
<ul>
<li>OSPF 定义了 4 种网络：</li>
</ul>
<ol>
<li><p>广播多址网络：具有共享介质的局域网(以太网 Ethernet、 Token Ring、FDDI)</p>
</li>
<li><p>非广播多址网络：通过组播的方式传播信息(X.25、Frame Relay、SMDS；)</p>
</li>
<li><p>点到点网络：点到点可字节交换路由信息(PPP、HDLC、)</p>
</li>
<li><p>点到多网络：把非广播网络当作多条点对点网络来使用，从而把一条路由信息发送到不同目标(RARP)</p>
</li>
<li><p>BGP 路由协议；边界网关协议。采用路径向量路由协议，寻找较好的路由。适用于自治域（AS）间的路由。通过 TCP，179 端口建立关系；封装在 tcp 报文中。防环机制：EBGP=&gt;通过 AS-Path 属性防环；IBGP=&gt;;</p>
</li>
</ol>
<h2 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h2><h3 id="UDP-协议"><a href="#UDP-协议" class="headerlink" title="UDP 协议"></a>UDP 协议</h3><p>特点：无连接，尽最大努力交付，面向报文，首部开销小（8 字节），支持 1 对多,没有拥塞控制，</p>
<p><em>首部（源端口 2 字节，目的端口 2 字节，长度 2 字节(数据长度)，校验和 2 字节）+数据</em></p>
<p>UDP 检验，添加伪首部，变成二进制，相加后取反放入校验和。</p>
<h3 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h3><p>特点：面向连接，每一条连接只有两个端点，可靠交付，全双工通信，面向字节流</p>
<ul>
<li><p>TCP 连接的端点叫套接字：socket=（IP 地址：端口号）<br>TCP 连接={socket1，socket2}</p>
</li>
<li><p>可靠传输：</p>
<ul>
<li>停止等待协议：发送一个分组停止发送，等待对方确认后再发送下一个分组。</li>
<li>连续 ARQ 协议（滑动窗口）(后退 N 帧)：同时发送多个分组，每收到一个确认就把发送窗口移动一个分组。接收方收到多个分组，会对按序到达的最后一个分组发送确认表示前面的分组已经正确收到。缺点：当中间分组丢失时，会抛弃之后的分组，对前面的分组发送确认。发送方需要把之后的重新发送。</li>
</ul>
</li>
<li><p>首部（最小 20 字节)+数据</p>
</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td>源端口 16 位</td>
<td>目的端口 16 位</td>
<td></td>
</tr>
<tr>
<td></td>
<td>序号 32 位(一个字节流中每一个字节都按序编号)</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>确认号 32 位(期待对方下一个报文段的第一个数据字节的序号)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>数据偏移 4 位(距离首部开头)</td>
<td>保留 4 位</td>
<td>2 位:ACK（为 1 时确认号才有效）、URG（为 1 时，紧急指针才有效）、PSH（尽快交付给上层应用）、RST（TCP 连接出现严重错误时重新建立连接）、SYN（建立连接时用来同步序号，置 1 表示连接请求）、FIN（置 1 表示释放连接）</td>
<td>窗口 16 位(自己的窗口)</td>
</tr>
<tr>
<td></td>
<td>校验和 16 位</td>
<td>紧急指针 16 位(紧急数据字节数、位置)</td>
<td></td>
</tr>
</tbody></table>
<p>三次握手，四次断开</p>
<blockquote>
<p>客户端收到服务器发送的释放连接报文后，必须对此发送确认。并且经过时间等待计时器（TIME-WAIT)设置的时间 2MSL（最长报文段寿命）后，客户端才进入关闭状态。</p>
</blockquote>
<ul>
<li><p>状态：</p>
<ul>
<li><code>LISTEN</code>:服务器等待连接</li>
<li><code>SYN_SENT</code>:客户端发起连接，</li>
<li><code>SYN_RCVD</code>:服务器收到 SYN 包</li>
<li><code>ESTABLISHED</code>:完成三次握手，可以开始传输数据</li>
</ul>
</li>
<li><p>流量控制：可变窗口(单位位字节）</p>
</li>
<li><p>拥塞和控制：<br>判断网络拥塞的依据就是出现<em>超时</em></p>
<ul>
<li>慢开始，拥塞避免，<ol>
<li>刚开始发送时设置初始拥塞窗口为 1 到 2 个发送方最大报文段（SMSS）</li>
<li>慢开始：从 0 以指数增长</li>
<li>拥塞避免：到达初始拥塞窗口则成线性增长</li>
<li>网络拥塞即遇到超时，初始拥塞窗口设置为出现拥塞时的 1/2</li>
<li>从 0 进行慢开始</li>
</ol>
</li>
<li>快重传，快恢复<ol>
<li>快重传： 执行拥塞避免时一连收到 3 个同样的 ack，则初始拥塞窗口设置为当前的 1/2</li>
<li>快恢复：从初始拥塞窗口开始，继续执行拥塞避免</li>
</ol>
</li>
</ul>
</li>
</ul>
<h3 id="传输层端口-16-位"><a href="#传输层端口-16-位" class="headerlink" title="传输层端口(16 位)"></a>传输层端口(16 位)</h3><ul>
<li>熟知端口：0~1023<br><code>ftp</code>：数据 20，控制 21<br><code>tftp</code>:69<br><code>http</code>：80<br><code>https</code>：443<br><code>telnet</code>：23<br><code>SMTP</code>：25<br><code>pop3</code>:110<br><code>DNS</code>:53<br><code>DHCP</code>：服务端 67，客户端 68<br><code>SNMP</code>：udp 协议；轮询 161 端口,发送请求和应答，陷阱 162</li>
<li>登记端口：1024~49151</li>
<li>客户端端口：49152~65535</li>
</ul>
<h3 id="DNS-域名系统"><a href="#DNS-域名系统" class="headerlink" title="DNS 域名系统"></a>DNS 域名系统</h3><ul>
<li>名称解析的方法：Host 表、DNS 系统</li>
</ul>
<p>DNS 系统实现将域名和 ip 地址进行映射，提供解析的分布式数据库服务</p>
<ul>
<li><p>分类：<br>主域名服务器（权威域名服务器）<br>辅助域名服务器（从域名服务器）<br>转发域名服务器</p>
</li>
<li><p>解析过程：<br>本地解析，迭代解析，递归解析</p>
</li>
<li><p>资源记录：<br>SOA:定义该区域中的哪个名称服务器为主域名服务器（权威域名服务器）<br>NS:表示该区域中的所有域名服务器<br>A：列出域名到 IP 地址的映射<br>PTR：IP 地址到域名的映射<br>MX：邮件交换器信息<br>CNAME：别名记录</p>
</li>
</ul>
<h3 id="DHCP-服务"><a href="#DHCP-服务" class="headerlink" title="DHCP 服务"></a>DHCP 服务</h3><p>客户端（68）服务端（67）<br><code>Dhcpdiscover</code>：客户端 ip 租用请求<br><code>Dhcpoffer</code>:服务端分配 ip<br><code>Dhcprequest</code>:客户端接受<br><code>Dhcpack</code>:服务端确认<br><code>Dhcpdecline</code>:客户端发现服务端分配的 ip 无法使用</p>
<h3 id="服务质量-QOS"><a href="#服务质量-QOS" class="headerlink" title="服务质量 QOS"></a>服务质量 QOS</h3><p>用来解决网路延迟和阻塞问题的一种技术。用于区分流量，保证重要流量及时被转发</p>
<ol>
<li>尽力而为服务模型：先进先出</li>
<li>综合服务模型：提前申请网络资源</li>
<li>区分服务模型: 不预留资源，通过多种方式之指定报文的 QOS</li>
</ol>
<h3 id="电子邮件服务"><a href="#电子邮件服务" class="headerlink" title="电子邮件服务"></a>电子邮件服务</h3><p>客户端：发送 STMP-》STMP-》接收 POP3<br>网页：http-》STMP-》http</p>
<ul>
<li><p>pops:电子邮件客户端上的操作不反馈到服务器上</p>
</li>
<li><p>IMAP：能同步到服务器上</p>
</li>
<li><p>MIME:多用途互联网邮件扩展，支持图片，视频，声音</p>
</li>
</ul>
<h3 id="HTTP-协议"><a href="#HTTP-协议" class="headerlink" title="HTTP 协议"></a>HTTP 协议</h3><p>HTTP 的 URL 的一般协议:<code>http://主机:端口/路径</code></p>
<ol>
<li>浏览器分析超链接指向页面的 URL.</li>
<li>浏览器向 dns 请求解析网址</li>
<li>域名系统 dns 解析出网址的 ip 地址</li>
<li>浏览器与服务器建立 TCP 连接</li>
<li>浏览器发出取文件命令:GET/xx/index.htm</li>
<li>服务器给出响应</li>
<li>TCP 连接释放</li>
<li>浏览器显示页面</li>
</ol>
<h3 id="网络安全"><a href="#网络安全" class="headerlink" title="网络安全"></a>网络安全</h3><ol>
<li>系统病毒：传染性，潜伏性，破坏性。前缀：win95</li>
<li>网络蠕虫：不需要用户触发，基本模块：目标搜索模块，攻击模块；前缀 worm</li>
<li>木马：隐蔽性，木马本身不带有破坏性，服务端位于被攻击的主机上,用于夺取计算机控制权。前缀：Trojan</li>
<li>后门：一般在黑客初次取得控制权后，留下后门便于下次入侵。前缀：Backdoor</li>
<li>黑客：前缀：Hack</li>
<li>宏病毒：只感染 office。前缀：macro</li>
<li>vb 脚本病毒：浏览器，前缀：script</li>
</ol>
<h3 id="网络攻击"><a href="#网络攻击" class="headerlink" title="网络攻击"></a>网络攻击</h3><ol>
<li>主动攻击：<ol>
<li>拒绝服务攻击 DOS：消耗资源，破坏配置如 ping 泛洪、缓冲区溢出、<br>ARP 欺骗攻击：通过 wireshark 中的协议这栏，看到有大量 ARP 报文，说明可能遭遇 ARP 病毒的攻击。可通过<code>arp -s</code>设置静态储存表解决。</li>
<li>分布式拒绝服务 DDOs：控制一些计算机后，向攻击目标统一发起拒绝服务攻击（SYNFlooding)</li>
<li>ping of Death 攻击：通过 ping 发送的 ICMP 的 echo 请求消息</li>
</ol>
</li>
<li>被动攻击：</li>
</ol>
<p>收集信息而不进行访问：嗅探、信息收集、端口扫描</p>
<h3 id="网络安全设备"><a href="#网络安全设备" class="headerlink" title="网络安全设备"></a>网络安全设备</h3><ol>
<li>防火墙： 具有访问控制功能，内容控制功能；对内部网络的攻击无能为力。</li>
<li>IDS 入侵检测系统：积极主动的安全防护工具，只能发出警告</li>
<li>IPS 入侵防护系统：提供实时的防护，自动拦截</li>
</ol>
<h3 id="加密技术"><a href="#加密技术" class="headerlink" title="加密技术"></a>加密技术</h3><ul>
<li>对称加密(加密秘钥与解密秘钥相同,秘钥需要事先约定或通过信使传送或用高度安全的密钥分配中心 KDC 分配):(数字加密标准)DES(56 位）、(三重 DES)3DES（第一次和第三次加密秘钥一样,112 位）、IDEA、AES</li>
<li>非对称加密(公钥密码体系):RSA、ECC、Rabin、EIGamal、背包加密<ul>
<li>数字签名：基于非对称加密(私钥生成)，主要用于报文鉴定，不可否认、报文完整性<br>报文摘要算法：MD5：128 位输出。SHA：160 位输出</li>
<li>数字证书(数字标识):由证书鉴证机关（CA）签发的对用户<em>公钥</em>的认证。采用 X.509 V3 标准，内容包含：公钥、发行者签名、证书序列号等</li>
</ul>
</li>
<li>安全协议 SSL：功能有 SSL 服务器鉴别、加密的 SSL 会话、SSL 客户鉴别</li>
<li>安全协议 PGP：对邮件报文摘要加密后组成的报文再次进行加密，然后传输。pgp 不是一种完全的非对称加密体系，它是由一个对称加密算法 IDEA,一个非对称加密算法 RSA，一个单向散列算法 MD5 组成的混合加密算法。</li>
<li>SNMPv3 把对网络协议的安全威胁分为主要和次要两类：<br>主要：<br>修改信息，<br>假冒<br>修改报文流<br>消息泄露<br>次要：<br>拒绝服务<br>通信分析。</li>
</ul>
<h3 id="知识产权"><a href="#知识产权" class="headerlink" title="知识产权"></a>知识产权</h3><ul>
<li><p>产权人的确定：<br>利用单位的物质条件进行创作、或有合同约定、或在本职工作中活动的结果：除署名权外其他著作权归单位。<br>本职工作中作出的发明、离职一年内、履行本职工作之外的任务所作出的发明：单位享有专利</p>
</li>
<li><p>保护期限：<br>公民的署名权、修改权、完整权没有限制,发表权、使用权、获得报酬权为死后 50 年<br>单位的发表权、使用权、获得报酬权为 50 年<br>注册商标有效期为 10 年，发明专利权为 20 年、实用新型和外观设计专利为 10 年</p>
</li>
</ul>
<h3 id="常见命令"><a href="#常见命令" class="headerlink" title="常见命令"></a>常见命令</h3><ul>
<li><p>Pathping :显示通信线路上每个子网的延迟和丢包率</p>
</li>
<li><p>Nslookup:用于查询 internet 域名信息或诊断 dns 服务器问题的工具</p>
</li>
<li><p>netstart<br><code>-r命令</code>：显示路由记录<br><code>a</code>:显示所有连接和监听端口<br><code>-e</code>:显示以太网统计信息<br><code>-s</code>:显示按协议统计信息<br><code>-n</code>:以数字形式显示地址和端口号<br><code>-o</code>：显示与每个连接相关的所属进程 ID</p>
</li>
<li><p>Tracert：跟踪路由,通过多次向目标发送 ICMP 回声（echo）请求报文，每一次增加 IP 头中的 TTL 字段的值，从而确定到达各个路由器的时间。<br><code>-d</code>不进行名字解析，只显示中间节点的 IP 地址</p>
</li>
<li><p>route print；查看路由表命令</p>
</li>
<li><p>ping：发生 ICMP 回声请求报文检验与另一个计算机的连接<br><code>-t</code>:持续发送请求，直到 Ctrl+C<br><code>-l</code>:显示目标 IP 域名：指定数据包大小<br><code>-a</code>:用 ip 地址表示目标，进行反向主机名字解析<br><code>-n 数字</code>:说明发送回声请求的次数，默认 4 次</p>
</li>
<li><p>ipconfig<br><code>/all</code>:显示本机 TCP/IP 配置<br><code>/release</code>:DHCP 客户端手动释放 IP 地址<br><code>/renew</code>:DHCP 客户端手动向服务器刷新请求<br><code>/flushdns</code>:清除本地 DNS 缓存内容<br><code>/displaydns</code>:显示本地 DNS 缓存内容</p>
</li>
<li><p>route:添加路由</p>
</li>
</ul>
<h4 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h4><ul>
<li><p>目录</p>
<ul>
<li>/etc/hosts:配置 ip 地址和对应主机名的文件</li>
<li>/etc/hostname:系统的主机名称，域名</li>
<li>/etc/resolv.conf:为 DNS 的配置文件</li>
<li>/etc/gateway:路由表文件</li>
<li>/etc/inetd.conf:是 tcp/ip 服务配置文件</li>
<li>/etc/lilo.conf:加载配置为你阿基诺</li>
<li>/etc/httpd/conf/httpdxonf:Web 服务器主配置文件</li>
</ul>
</li>
<li><p>命令</p>
</li>
</ul>
<p>查看文件内容:</p>
<ul>
<li>cat：一次性全部输出</li>
<li>more：分页</li>
<li>less：可上下移动一行</li>
</ul>
<h3 id="综合布线系统"><a href="#综合布线系统" class="headerlink" title="综合布线系统"></a>综合布线系统</h3><ul>
<li>工作区子系统：连接用户终端设备的子系统，如电脑和网线接口之间的部分</li>
<li>水平子系统：连接工作区与主干的子系统，如楼层弱电井里的配线架到每个房间的网卡接口之间的部分。(插座接口到配线架之间）</li>
<li>管理子系统：对布线电缆进行端接及配置管理的子系统，如配线间中的设备部分(配线架)</li>
<li>干线子系统：连接管理间、设备间的子系统，如将接入层交换机连接到分布层交换机的网络线路(楼层之间）</li>
<li>设备间子系统：核心交换机所在的位置就是设备间(机房）</li>
<li>建筑群主干子系统：地下管道、直埋沟内、架空(建筑之间)</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://a913481180.github.io/2020/12/18/20-00-00/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/18/20-00-00/" class="post-title-link" itemprop="url">markdown语法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-18 20:00:00" itemprop="dateCreated datePublished" datetime="2020-12-18T20:00:00+08:00">2020-12-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-14 23:12:11" itemprop="dateModified" datetime="2024-05-14T23:12:11+08:00">2024-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/blog/" itemprop="url" rel="index"><span itemprop="name">blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h2><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 这是一级标题</span></span><br><span class="line"></span><br><span class="line"><span class="section">## 这是二级标题</span></span><br><span class="line"></span><br><span class="line"><span class="section">### 这是三级标题</span></span><br><span class="line"></span><br><span class="line"><span class="section">#### 这是四级标题</span></span><br><span class="line"></span><br><span class="line"><span class="section">##### 这是五级标题</span></span><br><span class="line"></span><br><span class="line"><span class="section">###### 这是六级标题</span></span><br><span class="line"></span><br><span class="line">井号与标题间有空格</span><br></pre></td></tr></table></figure>

<p><strong>效果：</strong></p>
<h1 id="这是一级标题"><a href="#这是一级标题" class="headerlink" title="这是一级标题"></a>这是一级标题</h1><h2 id="这是二级标题"><a href="#这是二级标题" class="headerlink" title="这是二级标题"></a>这是二级标题</h2><h3 id="这是三级标题"><a href="#这是三级标题" class="headerlink" title="这是三级标题"></a>这是三级标题</h3><h4 id="这是四级标题"><a href="#这是四级标题" class="headerlink" title="这是四级标题"></a>这是四级标题</h4><h5 id="这是五级标题"><a href="#这是五级标题" class="headerlink" title="这是五级标题"></a>这是五级标题</h5><h6 id="这是六级标题"><a href="#这是六级标题" class="headerlink" title="这是六级标题"></a>这是六级标题</h6><hr>
<h2 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h2><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">**这是加粗的文字**</span></span><br><span class="line"></span><br><span class="line"><span class="emphasis">_这是倾斜的文字_</span></span><br><span class="line"></span><br><span class="line"><span class="strong">**<span class="emphasis">_这是斜体加粗的文字_</span>**</span></span><br><span class="line"></span><br><span class="line">~~这是加删除线的文字~~</span><br></pre></td></tr></table></figure>

<p><strong>效果：</strong><br><strong>这是加粗的文字</strong><br><em>这是倾斜的文字</em>`<br><strong><em>这是斜体加粗的文字</em></strong><br><del>这是加删除线的文字</del></p>
<hr>
<h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="quote">&gt; 这是引用的内容</span></span><br><span class="line"></span><br><span class="line"><span class="quote">&gt; &gt; 这是引用的内容</span></span><br><span class="line"></span><br><span class="line"><span class="quote">&gt; &gt; &gt; 这是引用的内容</span></span><br><span class="line"><span class="quote">&gt; &gt; &gt; 在被引用的文本前加上&gt;符号，以及一个空格就可以了</span></span><br></pre></td></tr></table></figure>

<p><strong>效果：</strong></p>
<blockquote>
<p>这是引用的内容</p>
<blockquote>
<p>这是引用的内容</p>
<blockquote>
<p>这是引用的内容</p>
</blockquote>
</blockquote>
</blockquote>
<hr>
<h2 id="分隔线"><a href="#分隔线" class="headerlink" title="分隔线"></a>分隔线</h2><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">---</span></span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<h2 id="超链接"><a href="#超链接" class="headerlink" title="超链接"></a>超链接</h2><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">简书</span>](<span class="link">http://jianshu.com</span>)</span><br><span class="line">[<span class="string">百度</span>](<span class="link">http://baidu.com</span>)</span><br></pre></td></tr></table></figure>

<p><strong>效果:</strong><br><a target="_blank" rel="noopener" href="http://jianshu.com/">简书</a><br><a target="_blank" rel="noopener" href="http://baidu.com/">百度</a></p>
<hr>
<h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> 列表内容</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 列表内容</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> 列表内容</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span>  列表内容</span><br><span class="line"><span class="code">    \+ 列表内容</span></span><br><span class="line"><span class="code">    前面加反斜线\即可显示符号本身</span></span><br><span class="line"><span class="code">2.  列表内容</span></span><br><span class="line"><span class="code">    注意：序号跟内容之间要有空格</span></span><br><span class="line"><span class="code">3.  列表内容</span></span><br><span class="line"><span class="code">4.  列表嵌套</span></span><br><span class="line"><span class="code">    上一级和下一级之间敲三个空格即可</span></span><br></pre></td></tr></table></figure>

<p><strong>效果：</strong></p>
<ul>
<li><p>列表内容</p>
</li>
<li><p>列表内容</p>
</li>
<li><p>列表内容</p>
</li>
</ul>
<ol>
<li>列表内容<br>+ 列表内容</li>
<li>列表内容</li>
<li>列表内容 4. 列表嵌套</li>
</ol>
<hr>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">`代码内容`</span></span><br><span class="line"></span><br><span class="line">单行代码：代码之间分别用一个反引号包起来</span><br><span class="line"></span><br><span class="line">\<span class="code">```</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">代码块</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">\```</span></span><br><span class="line"></span><br><span class="line">代码块：代码之间分别用三个反引号包起来，且两边的反引号单独占一行或者缩进 4 个空格或是 1 个制表符</span><br></pre></td></tr></table></figure>

<h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">| 商品   | 数量 |  单价  |</span><br><span class="line">| ------ | ---: | :----: |</span><br><span class="line">| :苹果: |   10 |  \$1   |</span><br><span class="line">| :电脑  |    1 | \$1000 |</span><br><span class="line"></span><br><span class="line">冒号在左边表示左对齐，右边表示有对齐，两边都有表示居中。</span><br></pre></td></tr></table></figure>

<p><strong>效果：</strong></p>
<table>
<thead>
<tr>
<th>商品</th>
<th align="right">数量</th>
<th align="center">单价</th>
</tr>
</thead>
<tbody><tr>
<td>:苹果:</td>
<td align="right">10</td>
<td align="center">$1</td>
</tr>
<tr>
<td>:电脑</td>
<td align="right">1</td>
<td align="center">$1000</td>
</tr>
</tbody></table>
<hr>
<h2 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h2><h2 id="链接写法：-lt-http-baidu-com-gt"><a href="#链接写法：-lt-http-baidu-com-gt" class="headerlink" title="链接写法：&lt;http://baidu.com&gt;"></a><code>链接写法：&lt;http://baidu.com&gt;</code></h2><h2 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h2><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">文本</span>](<span class="link">图片地址 &quot;可选标题&quot;</span>)</span><br><span class="line">开头一个感叹号 !</span><br><span class="line">接着一个方括号，里面放上图片的替代文字</span><br><span class="line">接着一个普通括号，里面放上图片的网址，最后还可以用引号包住并加上选择性的 &#x27;title&#x27; 属性的文字。</span><br></pre></td></tr></table></figure>

<h2 id="画图"><a href="#画图" class="headerlink" title="画图"></a>画图</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://mermaid.nodejs.cn/syntax/flowchart.html">Mermaid 中文网</a></p>
</blockquote>
<p>包括流程图、顺序图、类图、状态图、实体关系图、用户旅程图、甘特图、饼图、象限图、需求图、Gitgraph 图、思维导图和时间线图等</p>
<h3 id="流程图"><a href="#流程图" class="headerlink" title="流程图"></a>流程图</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">\```Mermaid</span><br><span class="line">  graph LR</span><br><span class="line">    A[节点A] --&gt; B&#123;条件&#125;</span><br><span class="line">    B --&gt; C&#123;条件&#125;</span><br><span class="line">    %% 注释 ----------------------</span><br><span class="line">    C --&gt; D</span><br><span class="line">\```</span><br></pre></td></tr></table></figure>

<h4 id="在-Mermaid-中，标识符可以包括字母、数字和下划线，但必须以字母或下划线开头"><a href="#在-Mermaid-中，标识符可以包括字母、数字和下划线，但必须以字母或下划线开头" class="headerlink" title="在 Mermaid 中，标识符可以包括字母、数字和下划线，但必须以字母或下划线开头"></a>在 Mermaid 中，标识符可以包括字母、数字和下划线，但必须以<code>字母</code>或<code>下划线</code>开头</h4><p>标识符是用来表示节点名称的，例如在流程图中使用 A、B、C 等表示不同的节点。除了标识符，Mermaid 还支持使用文本和样式来描述节点的内容和属性，例如使用<code>&#123;text&#125;</code>表示节点内的文本内容，使用<code>&#123;style&#125;</code>表示节点的样式属性。<br><code>style A fill:#f9f,stroke:#333,stroke-width:4px</code></p>
<p>定义一类样式并将该类附加到应该具有不同外观的节点。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A:::xxx --&gt; B</span><br><span class="line">classDef xxx fill:#f96</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="节点之间的链接"><a href="#节点之间的链接" class="headerlink" title="节点之间的链接"></a>节点之间的链接</h4><p>带箭头的链接:<code>A--&gt;B</code><br>不带箭头的链接:<code>A---B</code><br>带箭头和文本的链接:<code>A--&gt;|xxxx|B</code>或<code>A--|xxxx|--&gt;B</code><br>不带箭头和文本的链接:<code>A--|xxxx|---B</code>或<code>A---|xxxx|B</code><br>虚线的链接:<code>A-.-&gt;B</code><br>虚线和文本的链接:<code>A-.xxxx.-&gt;B</code><br>粗线的链接:<code>A==&gt;B</code><br>粗线和文本的链接:<code>A==xxxx==&gt;B</code><br>看不见的链接:<code>A ~~~ B</code></p>
<p>可以在同一行中声明多个链接<code>a --&gt; b --&gt; d</code><br>还可以在同一行中声明多个节点链接<code>a --&gt; b &amp; c--&gt; d</code>,<code>A &amp; B--&gt; C &amp; D</code></p>
<p>多方向多类型箭头:<code>A o--o B</code>,<code>B &lt;--&gt; C</code>,<code>C x--x D</code></p>
<p>链接的最小长度<br>默认情况下，链接可以跨越任意数量的等级，但你可以通过在链接定义中添加额外的<code>-</code>来要求任何链接比其他链接更长。<code>B ----&gt;|No| E[End]</code><br>当链接标签写在链接中间时，必须在链接右侧添加额外的<code>-</code>。<code>B -- No ----&gt; E[End]</code><br>对于点链接或粗链接，要添加的字符是等号或点</p>
<h4 id="Mermaid-支持多种节点类型，这些类型主要通过文本表示。例如"><a href="#Mermaid-支持多种节点类型，这些类型主要通过文本表示。例如" class="headerlink" title="Mermaid 支持多种节点类型，这些类型主要通过文本表示。例如"></a>Mermaid 支持多种节点类型，这些类型主要通过文本表示。例如</h4><p>默认节点：使用 A、B、C 等大写字母表示，如<code>A[默认节点]</code>。<br>文本节点：使用<code>B[bname]</code>的格式表示，其中“bname”是节点的名字。<br>平行四边形：使用<code>B[\bname\]</code>的格式表示，其中“bname”是节点的名字。<br>平行四边形：使用<code>B[/bname/]</code>的格式表示，其中“bname”是节点的名字。<br>梯形：使用<code>B[/bname\]</code>的格式表示，其中“bname”是节点的名字。<br>梯形：使用<code>B[\bname/]</code>的格式表示，其中“bname”是节点的名字。<br>圆角节点：使用<code>C(cname)</code>的格式表示，其中“cname”是节点的名字。<br>圆角节点：使用<code>C([cname])</code>的格式表示，其中“cname”是节点的名字。<br>圆柱节点：使用<code>C[(cname)]</code>的格式表示，其中“cname”是节点的名字。<br>圆形节点：使用<code>D((dname))</code>的格式表示，其中“dname”是节点的名字。<br>非对称节点：使用<code>E&gt;ename]</code>的格式表示，其中“ename”是节点的名字。<br>菱形节点：使用<code>F&#123;fname&#125;</code>的格式表示，其中“fname”是节点的名字。<br>六角形节点：使用<code>G&#123;&#123;六角形节点&#125;&#125;</code>的格式表示。<br>平行四边形节点：使用<code>H&#123;&#123;平行四边形节点&#125;&#125;</code>的格式表示。</p>
<h4 id="子图"><a href="#子图" class="headerlink" title="子图"></a>子图</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">flowchart TB</span><br><span class="line">    c1--&gt;a2</span><br><span class="line">    subgraph one</span><br><span class="line">    a1--&gt;a2</span><br><span class="line">    end</span><br><span class="line">    subgraph two</span><br><span class="line">      direction RL</span><br><span class="line">      b1--&gt;b2</span><br><span class="line">    end</span><br><span class="line">    subgraph three</span><br><span class="line">    c1--&gt;c2</span><br><span class="line">    end</span><br></pre></td></tr></table></figure>

<h4 id="点击事件"><a href="#点击事件" class="headerlink" title="点击事件"></a>点击事件</h4><p>触发 js 函数</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> callback = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    alert(<span class="string">&quot;A callback was triggered&quot;</span>);</span></span><br><span class="line"><span class="javascript">  &#125;;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>click C call callback() &quot;Tooltip for a callback&quot;</code></p>
<p>链接在同一浏览器选项卡/窗口中打开<br><code>click D href &quot;https://www.github.com&quot; &quot;Open this in a new tab&quot; _blank</code></p>
<h3 id="画序列图"><a href="#画序列图" class="headerlink" title="画序列图"></a>画序列图</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">    participant A as Alice</span><br><span class="line">    participant J as John</span><br><span class="line">    A-&gt;&gt;J: Hello John, how are you?</span><br><span class="line">    J-&gt;&gt;A: Great!</span><br></pre></td></tr></table></figure>

<p>创建和销毁参与者</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">    Alice-&gt;&gt;Bob: Hello Bob, how are you ?</span><br><span class="line">    Bob-&gt;&gt;Alice: Fine, thank you. And you?</span><br><span class="line">    create participant Carl</span><br><span class="line">    Alice-&gt;&gt;Carl: Hi Carl!</span><br><span class="line">    create actor D as Donald</span><br><span class="line">    Carl-&gt;&gt;D: Hi!</span><br><span class="line">    destroy Carl</span><br><span class="line">    Alice-xCarl: We are too many</span><br><span class="line">    destroy Bob</span><br><span class="line">    Bob-&gt;&gt;Alice: I agree</span><br></pre></td></tr></table></figure>

<p>分组/框</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">box Purple Alice &amp; John</span><br><span class="line">participant A</span><br><span class="line">participant J</span><br><span class="line">end</span><br><span class="line">box Another Group</span><br><span class="line">participant B</span><br><span class="line">participant C</span><br><span class="line">end</span><br><span class="line">A-&gt;&gt;J: Hello John, how are you?</span><br><span class="line">J-&gt;&gt;A: Great!</span><br><span class="line">A-&gt;&gt;B: Hello Bob, how is Charly?</span><br><span class="line">B-&gt;&gt;C: Hello Charly, how are you?</span><br></pre></td></tr></table></figure>

<p>可以向序列图添加注释</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">    participant John</span><br><span class="line">    Note right of John: Text in note</span><br><span class="line">    Note left of John: Text in note</span><br><span class="line">    Note over Alice,John: A typical interaction&lt;br/&gt;But now in two lines</span><br></pre></td></tr></table></figure>

<p>临界区</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">    critical Establish a connection to the DB</span><br><span class="line">        Service--&gt;DB: connect</span><br><span class="line">    option Network timeout</span><br><span class="line">        Service--&gt;Service: Log error</span><br><span class="line">    option Credentials rejected</span><br><span class="line">        Service--&gt;Service: Log different error</span><br><span class="line">    end</span><br></pre></td></tr></table></figure>

<p>平行线</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">    par Alice to Bob</span><br><span class="line">        Alice-&gt;&gt;Bob: Hello guys!</span><br><span class="line">    and Alice to John</span><br><span class="line">        Alice-&gt;&gt;John: Hello guys!</span><br><span class="line">    end</span><br><span class="line">    Bob--&gt;&gt;Alice: Hi Alice!</span><br><span class="line">    John--&gt;&gt;Alice: Hi Alice!</span><br></pre></td></tr></table></figure>

<p>背景高亮</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">    participant Alice</span><br><span class="line">    participant John</span><br><span class="line"></span><br><span class="line">    rect rgb(191, 223, 255)</span><br><span class="line">    note right of Alice: Alice calls John.</span><br><span class="line">    Alice-&gt;&gt;+John: Hello John, how are you?</span><br><span class="line">    rect rgb(200, 150, 255)</span><br><span class="line">    Alice-&gt;&gt;+John: John, can you hear me?</span><br><span class="line">    John--&gt;&gt;-Alice: Hi Alice, I can hear you!</span><br><span class="line">    end</span><br><span class="line">    John--&gt;&gt;-Alice: I feel great!</span><br><span class="line">    end</span><br><span class="line">    Alice -&gt;&gt;+ John: Did you want to go to the game tonight?</span><br><span class="line">    John --&gt;&gt;- Alice: Yeah! See you there.</span><br></pre></td></tr></table></figure>

<h3 id="思维导图"><a href="#思维导图" class="headerlink" title="思维导图"></a>思维导图</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mindmap</span><br><span class="line">Root</span><br><span class="line">    A</span><br><span class="line">      B</span><br><span class="line">      C</span><br></pre></td></tr></table></figure>

<h3 id="xy-图"><a href="#xy-图" class="headerlink" title="xy 图"></a>xy 图</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xychart-beta</span><br><span class="line">    title &quot;Sales Revenue&quot;</span><br><span class="line">    x-axis [jan, feb, mar, apr, may, jun, jul, aug, sep, oct, nov, dec]</span><br><span class="line">    y-axis &quot;Revenue (in $)&quot; 4000 --&gt; 11000</span><br><span class="line">    bar [5000, 6000, 7500, 8200, 9500, 10500, 11000, 10200, 9200, 8500, 7000, 6000]</span><br><span class="line">    line [5000, 6000, 7500, 8200, 9500, 10500, 11000, 10200, 9200, 8500, 7000, 6000]</span><br></pre></td></tr></table></figure>

<h3 id="时间线图"><a href="#时间线图" class="headerlink" title="时间线图"></a>时间线图</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">timeline</span><br><span class="line">    title History of Social Media Platform</span><br><span class="line">    2002 : LinkedIn</span><br><span class="line">    2004 : Facebook</span><br><span class="line">         : Google</span><br><span class="line">    2005 : Youtube</span><br><span class="line">    2006 : Twitter</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">timeline</span><br><span class="line">        title MermaidChart 2023 Timeline</span><br><span class="line">        section 2023 Q1 &lt;br&gt; Release Personal Tier</span><br><span class="line">          Buttet 1 : sub-point 1a : sub-point 1b</span><br><span class="line">               : sub-point 1c</span><br><span class="line">          Bullet 2 : sub-point 2a : sub-point 2b</span><br><span class="line">        section 2023 Q2 &lt;br&gt; Release XYZ Tier</span><br><span class="line">          Buttet 3 : sub-point &lt;br&gt; 3a : sub-point 3b</span><br><span class="line">               : sub-point 3c</span><br><span class="line">          Bullet 4 : sub-point 4a : sub-point 4b</span><br></pre></td></tr></table></figure>

<h3 id="需求图"><a href="#需求图" class="headerlink" title="需求图"></a>需求图</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">requirementDiagram</span><br><span class="line"></span><br><span class="line">requirement test_req &#123;</span><br><span class="line">id: 1</span><br><span class="line">text: the test text.</span><br><span class="line">risk: high</span><br><span class="line">verifymethod: test</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">element test_entity &#123;</span><br><span class="line">type: simulation</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test_entity - xxxx -&gt; test_req</span><br></pre></td></tr></table></figure>

<h3 id="甘特图"><a href="#甘特图" class="headerlink" title="甘特图"></a>甘特图</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">gantt</span><br><span class="line">    title A Gantt Diagram</span><br><span class="line">    dateFormat YYYY-MM-DD</span><br><span class="line">    section Section</span><br><span class="line">        A task          :a1, 2014-01-01, 30d</span><br><span class="line">        Another task    :after a1, 20d</span><br><span class="line">    section Another</span><br><span class="line">        Task in Another :2014-01-12, 12d</span><br><span class="line">        another task    :24d</span><br></pre></td></tr></table></figure>

<h3 id="饼图"><a href="#饼图" class="headerlink" title="饼图"></a>饼图</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pie showData</span><br><span class="line">title xxxx</span><br><span class="line">    &quot;Dogs&quot; : 386</span><br><span class="line">    &quot;Cats&quot; : 85</span><br><span class="line">    &quot;Rats&quot; : 15</span><br></pre></td></tr></table></figure>

<h3 id="画类图"><a href="#画类图" class="headerlink" title="画类图"></a>画类图</h3><p>定义类</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">classDiagram</span><br><span class="line">    class Animal[&quot;Animal with a label&quot;]</span><br><span class="line">    class Car[&quot;Car with *! symbols&quot;]</span><br><span class="line">    Animal --&gt; Car</span><br></pre></td></tr></table></figure>

<p>定义类的成员</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">classDiagram</span><br><span class="line">%% 带有 () 的被视为函数/方法，所有其他被视为属性。</span><br><span class="line">class BankAccount&#123;</span><br><span class="line">    +String owner</span><br><span class="line">    +BigDecimal balance</span><br><span class="line">    +deposit(amount)</span><br><span class="line">    +withdrawal(amount)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义关系</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">classDiagram</span><br><span class="line">classA &lt;|-- classB:xxxxxxxx</span><br><span class="line">classC *-- classD:xxxxx</span><br><span class="line">classE o-- classF</span><br><span class="line">classG &lt;-- classH</span><br><span class="line">classI -- classJ</span><br><span class="line">classK &lt;.. classL</span><br><span class="line">classM &lt;|.. classN</span><br><span class="line">classO .. classP</span><br><span class="line">%%双向关系</span><br><span class="line">Animal &lt;|--|&gt; Zebra</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://a913481180.github.io/2020/12/12/12-12-12/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/12/12-12-12/" class="post-title-link" itemprop="url">git</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-12 12:12:12" itemprop="dateCreated datePublished" datetime="2020-12-12T12:12:12+08:00">2020-12-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-14 23:12:11" itemprop="dateModified" datetime="2024-05-14T23:12:11+08:00">2024-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/blog/" itemprop="url" rel="index"><span itemprop="name">blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="安装-git"><a href="#安装-git" class="headerlink" title="安装 git"></a>安装 git</h2><p><code>sudo apt-get install git</code></p>
<h2 id="配置-git"><a href="#配置-git" class="headerlink" title="配置 git"></a>配置 git</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;用户名&quot;</span>               //个人账号</span><br><span class="line">git config --global user.email 123456@qq.com         //个人邮箱地址</span><br><span class="line"><span class="comment"># 上面的--global选项,表示以后管理git库时,默认使用上面的用户信息,也可以通过git config -l 来查看配置信息</span></span><br></pre></td></tr></table></figure>

<h2 id="分支操作"><a href="#分支操作" class="headerlink" title="分支操作"></a>分支操作</h2><p>创建分支</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">创建分支: git branch 分支名</span><br><span class="line">切换分支: git checkout 分支名</span><br><span class="line">查看所有分支: git brach -a</span><br><span class="line">分支合并: git merge 分支名 (把分支合并到当前分支)</span><br></pre></td></tr></table></figure>

<p>删除分支</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">首先使用git branch -a查看当前所有分支。</span><br><span class="line">删除本地分支：git branch -d 分支1[,分支名2,分支名3...]</span><br><span class="line">删除远程分支: git push origin --delete 分支名1[,分支命2,分支名...]</span><br></pre></td></tr></table></figure>

<h2 id="将-master-分支合并到当前迭代分支"><a href="#将-master-分支合并到当前迭代分支" class="headerlink" title="将 master 分支合并到当前迭代分支"></a>将 master 分支合并到当前迭代分支</h2><p>1、切换到 master 分支，拉取最新代码到本地</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#切换到master分支</span></span><br><span class="line">git checkout master</span><br><span class="line"><span class="comment">#拉取最新代码</span></span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>

<p>2、切换到当前开发分支，合并 master 分支</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#切换到当前分支</span></span><br><span class="line">git checkout myBranch</span><br><span class="line"><span class="comment">#合并</span></span><br><span class="line">git merge master</span><br></pre></td></tr></table></figure>

<p>3、代码冲突解决<br>这一步需要在编辑器上，把冲突部分解决掉（这一步特别重要，最好叫上相关负责人一起，防止弄丢 master 里的最新代码）</p>
<p>4、当前开发分支代码提交</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git status</span><br><span class="line">git commit -m<span class="string">&quot;merge from master&quot;</span></span><br><span class="line">git push origin</span><br></pre></td></tr></table></figure>

<h2 id="合并其他分支代码至-master-分支"><a href="#合并其他分支代码至-master-分支" class="headerlink" title="合并其他分支代码至 master 分支"></a>合并其他分支代码至 master 分支</h2><p>1.当前分支所有代码提交<br>先将 dev 分支上所有有代码提交至 git 上，提交的命令一般就是这几个，先复习下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将所有代码提交</span></span><br><span class="line">git add .</span><br><span class="line"></span><br><span class="line"><span class="comment"># 编写提交备注</span></span><br><span class="line">git commit -m <span class="string">&quot;修改bug&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 提交代码至远程分支</span></span><br><span class="line">git push origin dev</span><br></pre></td></tr></table></figure>

<p>2.切换当前分支至主干（master）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 切换分支</span></span><br><span class="line">git checkout master</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果多人开发建议执行如下命令,拉取最新的代码</span></span><br><span class="line">git pull origin master</span><br></pre></td></tr></table></figure>

<p>3.合并（merge)分支代码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git merge dev</span><br><span class="line"><span class="comment"># merge完成后可执行如下命令，查看是否有冲突</span></span><br><span class="line">git status</span><br></pre></td></tr></table></figure>

<p>4.提交代码至主干（master）<br><code>git push origin master</code></p>
<p>5.最后切换回原开发分支<br><code>git checkout dev</code></p>
<h2 id="放弃本地更改"><a href="#放弃本地更改" class="headerlink" title="放弃本地更改"></a>放弃本地更改</h2><ol>
<li>没有添加到暂存区</li>
</ol>
<p>没有执行 git add , 可以用命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout – filepathname（eg: git checkout – test.cpp）</span><br></pre></td></tr></table></figure>

<p>如果是放弃所有，直接执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout .</span><br></pre></td></tr></table></figure>

<p>此命令用来放弃掉所有还没有加入到缓存区（就是 git add 命令）的修改：新增的文件会被删除、删除的文件会恢复回来、修改的文件会回去。回到暂存区之前的样子。对之前保存在暂存区里的代码不会有任何影响。对 commit 提交到本地分支的代码就更没影响了。当然，如果你之前压根都没有暂存或 commit，那就是回到你上次 pull 下来的样子了。</p>
<p>但是此命令不会删除掉刚新建的文件。因为刚新建的文件还没已有加入到 git 的管理系统中。所以对于 git 是未知的。自己手动删除就好了。</p>
<ol start="2">
<li>已经添加到暂存区：<br>已经使用 git add 添加到暂存区，可以用命令</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD filepathname （比如： git reset HEAD readme.md）</span><br></pre></td></tr></table></figure>

<p>同样放弃所有就是</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD .</span><br></pre></td></tr></table></figure>

<p>执行完此命令后，文件状态就回归到第一种情况了，此时再按照情况 1 处理。</p>
<ol start="3">
<li>已经提交到本地仓库：<br>使用 git commit 提交到本地仓库，可以用命令回退到上一次 commit 的状态</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br></pre></td></tr></table></figure>

<p>可以用命令回退到任意版本：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> <span class="comment"># 得到你需要回退一次提交的commit id</span></span><br><span class="line">git reset --hard commitid<span class="comment"># 回到其中你想要的某个版</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>放弃本地修改，强制和远程同步<br>在使用 Git 的过程中，有些时候我们只想要 git 服务器中的最新版本的项目，对于本地的项目中修改不做任何理会，就需要用到 Git pull 的强制覆盖，具体代码如下：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git fetch --all</span><br><span class="line">git reset --hard origin/master</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>

<h2 id="回滚"><a href="#回滚" class="headerlink" title="回滚"></a>回滚</h2><ol>
<li>通过 git reset 是直接删除指定的 commit</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> <span class="comment"># 得到你需要回退一次提交的commit id</span></span><br><span class="line"></span><br><span class="line">git reset --hard</span><br><span class="line"></span><br><span class="line">git push origin HEAD --force <span class="comment"># 强制提交一次，之前错误的提交就从远程仓库删除</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>通过 git revert 是用一次新的 commit 来回滚之前的 commit</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> <span class="comment"># 得到你需要回退一次提交的commit id</span></span><br><span class="line"></span><br><span class="line">git revert <span class="comment"># 撤销指定的版本，撤销也会作为一次提交进行保存</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>git revert 和 git reset 的区别</p>
<ul>
<li><p>git revert 是用一次新的 commit 来回滚之前的 commit，此次提交之前的 commit 都会被保留；</p>
</li>
<li><p>git reset 是回到某次提交，提交及之前的 commit 都会被保留，但是此 commit id 之后的修改都会被删除</p>
</li>
</ul>
</li>
</ol>
<h2 id="git-命令"><a href="#git-命令" class="headerlink" title="git 命令"></a>git 命令</h2><p>对当前目录进行 git 管理,该目录便会成为工作区,并在当前目录下会出现个.git 隐藏目录.<br>该.git 里会保存 git 所需要的数据和资源,也就是 git 仓库和暂存区都会保存在.git 里</p>
<ul>
<li><code>git init</code> 本地初始化，建立缓存区</li>
</ul>
<p>由于 git clone 会自动生成.git 隐藏目录,所以上面无需 git init 命令初始化。<br>而且.git 目录里保存了远程仓库地址,所以上面无需 git remote 命令连接远端。</p>
<ul>
<li><p><code>git add filename</code><br>将暂存区里的文件提交到本地仓库,若暂存区某个文件被删除掉,则会删除仓库里的文件。加参数 -a:跳过暂存区,git 自动将工作区里记录的所有文件添加到暂存区并一起提交,从而跳过 git add 步骤<br>将工作区修改的文件添加到暂存区也可以使用<code>git add .</code> 将所有修改的文件进行添加;或<code>git add *</code>提交所有文件。</p>
</li>
<li><p><code>git rm filename</code><br>将暂存区的文件删除掉,若工作区文件存在,则需要使用<code>git rm -f file</code>来强制删除掉,</p>
</li>
<li><p><code>git commit -m &quot;your description&quot;</code><br>为本次操作添加描述</p>
</li>
<li><p><code>git clone https://......</code><br>克隆复制远程仓库到当前目录</p>
</li>
<li><p><code>git status</code><br>查看工作目录下文件的状态</p>
</li>
<li><p><code>git checkout filename</code><br>从暂存区恢复文件到工作区</p>
</li>
<li><p><code>git diff</code><br>查看工作区和暂存区版本区别</p>
</li>
<li><p><code>git log</code><br>查看已提交到暂存区的历史版本</p>
</li>
<li><p><code>git reset --hard 版本号</code><br>恢复文件到指定的版本</p>
</li>
</ul>
<p>-<code>git remote add origin https://.......</code><br>添加远程仓库(origin),也就是关联本地仓库和 github 仓库</p>
<ul>
<li><p><code>git push origin 分支</code><br>推送(同步)数据到远程仓库,若是本地上传,必须先使用上个命令来指定远程仓库地址(origin),<br>若是从远程仓库克隆复制的,则不需要,因为.git 里会自动保存远程仓库地址.</p>
</li>
<li><p><code>git pull</code><br>从远程仓库中同步代码</p>
</li>
</ul>
<h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><ul>
<li>git 提交=报错 443</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 取消代理</span></span><br><span class="line">git config --global --<span class="built_in">unset</span> http.proxy</span><br><span class="line">git config --global --<span class="built_in">unset</span> https.proxy</span><br><span class="line"></span><br><span class="line"><span class="comment">#刷新dns</span></span><br><span class="line">ipconfig /flushdns</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>Git push 命令报 hint: Updates were rejected because the remote contains work that you do 问题：<br>首先它的出现是因为在你上传的时候，远程仓库中有着本地仓库没有的文件，及导致本地仓库和远程有不同的开始点，也就是两个仓库没有共同的 commit 出现的无法提交。<br>至此大部分人的问题都能解决</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git pull origin master --allow-unrelated-histories</span><br><span class="line"></span><br><span class="line">我们再次对它产生的原因分析一波发现，首先它的出现是因为在你上传的时候，远程仓库中有着本地仓库没有的文件，及导致本地仓库和远程有不同的开始点，也就是两个仓库没有共同的 commit 出现的无法提交。</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://a913481180.github.io/2020/12/09/20-00-00/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/09/20-00-00/" class="post-title-link" itemprop="url">ranger</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-09 20:00:00" itemprop="dateCreated datePublished" datetime="2020-12-09T20:00:00+08:00">2020-12-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-14 23:12:11" itemprop="dateModified" datetime="2024-05-14T23:12:11+08:00">2024-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="下面列出常用操作的快捷键"><a href="#下面列出常用操作的快捷键" class="headerlink" title="下面列出常用操作的快捷键"></a>下面列出常用操作的快捷键</h2><p>? 查看帮助</p>
<h3 id="浏览"><a href="#浏览" class="headerlink" title="浏览"></a>浏览</h3><p>S 使用终端定位到当前所在目录<br>H 后退<br>L 前进<br>gg 跳到顶端<br>G 跳到底端<br>gh go home<br>gn 新建标签<br>f 查找<br>/ 搜素<br>g 快速进入目录</p>
<h3 id="编辑"><a href="#编辑" class="headerlink" title="编辑"></a>编辑</h3><p>space 选择<br>uv 取消选择<br>yy 复制<br>dd 剪切<br>pp 粘贴<br>delete 删除<br>cw 重命名<br>A 在当前名称基础上重命名<br>I 类似 A, 但是光标会跳到起始位置<br>Ctrl-f 向下翻页<br>Ctrl-b 向上翻页</p>
<h3 id="书签"><a href="#书签" class="headerlink" title="书签"></a>书签</h3><p>m 新建书签<br>` 打开书签<br>um 删除书签</p>
<h3 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h3><p>gn / C-n 新建标签<br>TAB / S-TAB 切换标签<br>A-Right, A-Left 切换标签<br>gc / C-w 关闭标签</p>
<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><p>on/ob 根据文件名进行排序(natural/basename)<br>oc 根据改变时间进行排序 (Change Time 文件的权限组别和文件自身数据被修改的时间)<br>os 根据文件大小进行排序(Size)<br>ot 根据后缀名进行排序 (Type)</p>
<p>oa 根据访问时间进行排序 (Access Time 访问文件自身数据的时间)<br>om 根据修改进行排序 (Modify time 文件自身内容被修改的时间)</p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>zh 显示隐藏文件</p>
<p>zp 打开/关闭文件预览功能<br>zP 打开目录预览功能</p>
<h3 id="链接-Link"><a href="#链接-Link" class="headerlink" title="链接(Link)"></a>链接(Link)</h3><p>pl 粘贴绝对路径的链接<br>pL 粘贴相对路径的链接<br>phl 硬链接</p>
<h3 id="批量改名"><a href="#批量改名" class="headerlink" title="批量改名"></a>批量改名</h3><p>批量选择文件后, 键入命令:bulkname, 会打开编辑器, 其中的文件名编辑后保存退出, 再次打开操作确认编辑, 然后就批量改名了, 如果想取消批量改名, 在确认时把文件内容删除即可.</p>
<h3 id="任务管理"><a href="#任务管理" class="headerlink" title="任务管理"></a>任务管理</h3><p>在执行某些操作(比如复制一个大文件)时不能立即完成, 这在 ranger 中就是一个任务. 你可以停止, 启动某个任务, 也可以对某个任务设置优先级.</p>
<p>w: 打开/关闭任务视图. 在 w 打开的任务视图中:<br>dd: 终止一个任务<br>J: 降低当前任务的优先级<br>K: 提升当前任务的优先级</p>
<h3 id="其他-1"><a href="#其他-1" class="headerlink" title="其他"></a>其他</h3><dl><dt>zf 过滤器(如过滤 pdf 文件, zf+pdf,回车)<br>S 在当前目录打开终端<br>z(*) 改变设置,*表示在弹出选项中的选择<br>o(*) 改变排序方式<br>! / s 使用 shell 命令(！shell -w ls -hl %s,%s 代表当前被选中的文件)</dt><dd>使用 ranger 命令(3? 查看可用命令)<br>:set colorscheme snow 设置颜色模式</dd></dl>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://a913481180.github.io/2020/12/01/20-00-00/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/01/20-00-00/" class="post-title-link" itemprop="url">Vim常用操作</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-01 20:00:00" itemprop="dateCreated datePublished" datetime="2020-12-01T20:00:00+08:00">2020-12-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-14 23:12:11" itemprop="dateModified" datetime="2024-05-14T23:12:11+08:00">2024-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="常用功能键"><a href="#常用功能键" class="headerlink" title="常用功能键"></a>常用功能键</h2><ol>
<li>插入模式</li>
</ol>
<p>i ：在光标前插内内容:按 8，再按 i，进入插入模式，输入=， 按 esc 进入命令模式，就会出现 8 个=。</p>
<p>a ：在光标后插入内容<br>A : 在当前行最后插入；</p>
<p>o ：在所在行的下一行插入新行<br>O ：在所在行的上一行插入新行</p>
<ol start="2">
<li>删除文本</li>
</ol>
<p>x：删除光标后面的字符<br>X：删除光标前面的字符</p>
<p>nx：删除光标后面 n 个字符<br>nX：删除光标前面的 n 个字符</p>
<p>d0：删除光标至行首的内容<br>d$：删除光标至行尾的内容</p>
<p>dd ：删除整行<br>ndd ：向下删除 n 行</p>
<ol start="3">
<li>移动光标</li>
</ol>
<p>vi 可以直接用键盘上的光标来上下左右移动，但正规的 vi 是用小写英文字母「h」、「j」、「k」、「l」，分别控制光标左、下、上、右移一格。</p>
<p>按「ctrl」+「b」：屏幕往“后”移动一页。</p>
<p>按「ctrl」+「f」：屏幕往“前”移动一页。</p>
<p>按「ctrl」+「u」：屏幕往“后”移动半页。</p>
<p>按「ctrl」+「d」：屏幕往“前”移动半页。</p>
<p>按数字「gg」:移动到文章开头<br>按「G」：移动到文章的最后。</p>
<p>按「$」：移动到光标所在行的“行尾”。</p>
<p>按「0」：移动到光标所在行的“行首”</p>
<p>按「w」：光标跳到下个字的开头</p>
<p>按「e」：光标跳到下个字的字尾</p>
<p>按「b」：光标回到上个字的开头</p>
<p>按「nl」：光标移到该行的第 n 个位置，如：5l,56l。</p>
<ol start="4">
<li>查找文本</li>
</ol>
<p>/pattern ：向下查找</p>
<p>?pattern ：向上查找</p>
<p>n ：顺序查找</p>
<p>N ：反向查找</p>
<p>:s/p1/p2/g ：在当前行，将 p1 替换成 p2</p>
<p>:n1,n2s/p1/p2/g ：将 n1 至 n2 行之间的 p1 替换成 p2 5. 复制<br>「yw」：将光标所在之处到字尾的字符复制到缓冲区中。<br>「nyw」：复制 n 个字到缓冲区<br>yy ：复制整行</p>
<p>nyy ：复制 n 行</p>
<p>p ：在所在行下一行粘贴</p>
<p>P ：在所在行上一行粘贴</p>
<p>在 Vim 中你可以把两行合并为一行，也就是说两行之间的换行符被删除了：命令是”J”。<br>dd ：剪切</p>
<p>复制 vim 里面的内容至系统粘贴板：”+y</p>
<p>粘贴系统粘贴板里面的内容至 vim：”+p</p>
<p>:n1,n2 co n3 ：将 n1 至 n2 行复制到 n3 行的下面</p>
<p>:n1,n2 m n3 ：将 n1 至 n2 行剪切至 n3 行的下面</p>
<p>:n1,n2 d ：将 n1 至 n2 行删除 6. 替换<br>「r」：替换光标所在处的字符。<br>「R」：替换光标所到之处的字符，直到按下「ESC」键为止。</p>
<ol start="7">
<li><p>回复上一次操作<br>「u」：如果您误执行一个命令，可以马上按下「u」，回到上一个操作。按多次“u”可以执行多次回复。<br>CTRL-R(重做)来反转撤消的动作</p>
</li>
<li><p>更改<br>「cw」：更改光标所在处的字到字尾处<br>「c#w」：例如，「c3w」表示更改 3 个字</p>
</li>
<li><p>跳至指定的行<br>「ctrl」+「g」列出光标所在行的行号。<br>「#G」：例如，「15G」，表示移动光标至文章的第 15 行行首。</p>
</li>
</ol>
<p>跳到文件中的某一行<br>「#」：「#」号表示一个数字，在冒号后输入一个数字，再按回车键就会跳到该行了 10. 宏<br>. –重复上一个编辑动作<br>qa：开始录制宏 a（键盘操作记录）<br>q：停止录制<br>@a：播放宏 a</p>
<ol start="11">
<li>vi 命令列表<br>ctrl+v 进入可视块模式，之后使用 j/k/h/l 键可以选中一块<br>ggVG 选中全部的文本， 其中 gg 为跳到行首，V 选中整行，G 末尾<br>:pwd 显示 vim 的工作目录<br>:Sex – 水平分割一个窗口，浏览文件系统；<br>:Vex – 垂直分割一个窗口，浏览文件系统<br>:ce(nter) 本行文字居中<br>:le(ft) 本行文字靠左<br>:ri(ght) 本行文字靠右</li>
</ol>
<h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><p>设置 backspace 的工作方式<br>:set backspace=indent,eol,start<br>:set spell－开启拼写检查功能<br>:set nospell－关闭拼写检查功能<br>「set nu」后，会在文件中的每一行前面列出行号。<br>高亮显示搜索结果用”:set hlsearch”<br>:set ruler 会在屏幕右下角显示当前光标所处位置</p>
<h2 id="Gvim-配置"><a href="#Gvim-配置" class="headerlink" title="Gvim 配置"></a>Gvim 配置</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">（“为注释）</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; 代码补全</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">set wildmenu        &quot;vim自身命令行模式智能补全</span><br><span class="line">set completeopt-=preview    &quot;补全时不显示窗口，只显示补全列表</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot;代码折叠</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">set foldmethod=syntax       &quot;设置基于语法进行代码折叠</span><br><span class="line">set nofoldenable            &quot;关闭代码折叠</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; 缓存设置</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">set nobackup        &quot;设置不备份</span><br><span class="line">set noswapfile      &quot;禁止生成临时文件</span><br><span class="line">set noundofile  &quot; 操作记录</span><br><span class="line">set autoread        &quot;文件在vim之外修改过，自动重新载入</span><br><span class="line">set autowrite       &quot;设置自动保存</span><br><span class="line">set confirm         &quot;在处理未保存或只读文件时，弹出确认</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; 编码设置</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; Lang &amp; Encoding &#123;&#123;&#123;</span><br><span class="line">set fileencodings=utf-8,gbk2312,gbk,gb18030,cp936</span><br><span class="line">set encoding=utf-8</span><br><span class="line">set langmenu=zh_CN</span><br><span class="line">let $LANG = &#x27;en_US.UTF-8&#x27;</span><br><span class="line">&quot;language messages zh_CN.UTF-8</span><br><span class="line">&quot; &#125;&#125;&#125;</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; 隐藏GVIM菜单及设置</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">source $VIMRUNTIME/delmenu.vim</span><br><span class="line">source $VIMRUNTIME/menu.vim</span><br><span class="line">&quot; 窗口大小</span><br><span class="line">set lines=35 columns=140</span><br><span class="line">&quot; 分割出来的窗口位于当前窗口下边/右边</span><br><span class="line">set splitbelow</span><br><span class="line">set splitright</span><br><span class="line">&quot;不显示工具/菜单栏</span><br><span class="line">set guioptions-=T</span><br><span class="line">set guioptions-=m</span><br><span class="line">set guioptions-=L</span><br><span class="line">set guioptions-=r</span><br><span class="line">set guioptions-=b</span><br><span class="line">&quot; 使用内置 tab 样式而不是 gui</span><br><span class="line">set guioptions-=e</span><br><span class="line">set nolist</span><br><span class="line"></span><br><span class="line">set nu</span><br><span class="line">set guifont=Consolas:h11:cANSI:qDRAFT</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://a913481180.github.io/2020/11/22/20-22-22/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/22/20-22-22/" class="post-title-link" itemprop="url">安装archlinux系统</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-22 20:22:22" itemprop="dateCreated datePublished" datetime="2020-11-22T20:22:22+08:00">2020-11-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-14 23:12:11" itemprop="dateModified" datetime="2024-05-14T23:12:11+08:00">2024-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="制作-u-盘"><a href="#制作-u-盘" class="headerlink" title="制作 u 盘"></a>制作 u 盘</h2><ul>
<li>rufus</li>
<li>进入 bios,选择 u 盘启动</li>
</ul>
<h2 id="连接-wifi"><a href="#连接-wifi" class="headerlink" title="连接 wifi"></a>连接 wifi</h2><ul>
<li><p>查看 wifi 设备：<code>ip link</code></p>
</li>
<li><p>启用设备：<code>ip link set 设备 up</code></p>
</li>
<li><p>扫描查看 wifi 名称：<code>iwlist 设备 scan | grep ESSID</code></p>
</li>
</ul>
<p>或者使用</p>
<p><code>iw dev scan ....</code></p>
<p>或者使用 usb 网络，安装系统后记得安装驱动<code>pacman -S usbmuxd</code>,live 系统中自带有所以不用装，但新安装的系统中没有</p>
<h3 id="连接-wpa-加密-wifi"><a href="#连接-wpa-加密-wifi" class="headerlink" title="连接 wpa 加密 wifi"></a>连接 wpa 加密 wifi</h3><p><code>wpa_passphrase wifi名称 密码 &gt; internet.conf</code></p>
<p><code>wpa_supplicant -i 网卡 -c internet.conf &amp;</code></p>
<p><code>dhcpcd 网卡 &amp;</code></p>
<h2 id="检查是否能上网"><a href="#检查是否能上网" class="headerlink" title="检查是否能上网"></a>检查是否能上网</h2><p>(ctrl+c 停止)</p>
<p><code>ping www.baidu.com</code></p>
<h2 id="更新系统时钟"><a href="#更新系统时钟" class="headerlink" title="更新系统时钟"></a>更新系统时钟</h2><p><code>timedatectl set-ntp true</code></p>
<h2 id="分区"><a href="#分区" class="headerlink" title="分区"></a>分区</h2><blockquote>
<p>双系统不用分 boot 启动分区，只需要根分区、家分区、交换分区 swap。linux 的 boot 分区直接挂载在 windows 的 efi 分区上</p>
</blockquote>
<ul>
<li>查看当前的可用磁盘：<code>fdisk -l</code></li>
</ul>
<h3 id="使用-cgdisk-分区"><a href="#使用-cgdisk-分区" class="headerlink" title="使用 cgdisk 分区"></a>使用 cgdisk 分区</h3><ul>
<li>选择硬盘：<code>cgdisk /dev/nvme0n1</code></li>
<li>选择<code>NEW</code>进行分区：开始位置（默认），大小(40G) ,编号（默认）</li>
<li>swap 分区编号为 8200</li>
<li>最后选择 write</li>
</ul>
<h3 id="使用-fdisk-分区"><a href="#使用-fdisk-分区" class="headerlink" title="使用 fdisk 分区"></a>使用 fdisk 分区</h3><ul>
<li>创建新分区：<code>fdisk /dev/sda    //注意磁盘名称</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">--\&gt;n --&gt;回车 --&gt;回车 --&gt;回车 --&gt;+500m  （boot分区）</span><br><span class="line"></span><br><span class="line">--\&gt;n --&gt;回车 --&gt;回车 --&gt;回车 --&gt;+6G      （根分区）</span><br><span class="line"></span><br><span class="line">--\&gt;n --&gt;回车 --&gt;回车 --&gt;回车 --&gt;回车  （将剩余空间全部分配给该分区）</span><br><span class="line"></span><br><span class="line">--\&gt;w    （写入）</span><br></pre></td></tr></table></figure>

<h2 id="根目录格式化为-ext4"><a href="#根目录格式化为-ext4" class="headerlink" title="根目录格式化为 ext4"></a>根目录格式化为 ext4</h2><p>请注意自己的对应的目录是那块区域</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkfs.fat -F32 /dev/sda1     /// boot分区</span><br><span class="line">mkswap /dev/sda2   //swap 分区</span><br><span class="line">mkfs.ext4 /dev/sda3</span><br></pre></td></tr></table></figure>

<h2 id="打开-swap-分区"><a href="#打开-swap-分区" class="headerlink" title="打开 swap 分区"></a>打开 swap 分区</h2><p>请注意自己的 swap 分区是哪块</p>
<p><code>swapon /dev/sda2</code></p>
<h2 id="更改-pacman-配置文件"><a href="#更改-pacman-配置文件" class="headerlink" title="更改 pacman 配置文件"></a>更改 pacman 配置文件</h2><p><code>vim /etc/pacman.conf</code></p>
<p>去掉 Color 的注释,用于安装时提示信息</p>
<h2 id="挂载分区"><a href="#挂载分区" class="headerlink" title="挂载分区"></a>挂载分区</h2><ul>
<li>双系统</li>
</ul>
<blockquote>
<p>先挂载根分区，再启动分区，在其他分区</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#根分区</span></span><br><span class="line">mount /dev/nvme0n8 /mnt</span><br><span class="line"><span class="comment">#启动分区，挂载在win系统efi分区上</span></span><br><span class="line">mkdir /mnt/boot</span><br><span class="line">mount /dev/nvme0n1p1 /mnt/boot</span><br><span class="line"><span class="comment">#swap分区</span></span><br><span class="line">swapon /dev/nvme0n1p7</span><br><span class="line"><span class="comment">#home分区...</span></span><br><span class="line">mkdir /mnt/home</span><br><span class="line">mount /dev/nvme0n1p6 /mnt/home</span><br></pre></td></tr></table></figure>

<ul>
<li>单系统</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#根分区</span></span><br><span class="line">mount  /dev/sda3 /mnt</span><br><span class="line">ls /mnt  /////查看是否挂载成功，若出现lost+found 则代表挂载成功</span><br><span class="line"><span class="comment">#启动分区</span></span><br><span class="line">mkdir /mnt/boot</span><br><span class="line">mount /dev/sda1 /mnt/boot      /// boot分区</span><br></pre></td></tr></table></figure>

<h2 id="配置源"><a href="#配置源" class="headerlink" title="配置源"></a>配置源</h2><p>将国内源放到第一位<br><code>vim /etc/pacman.d/mirrorlist</code></p>
<ul>
<li>自动查找源：<code>reflector --country China --age 72 --sort rate --protocol https --save /etc/pacman.d/mirrorlist</code></li>
<li>手动换源：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">## Country : China</span><br><span class="line">Server = https://mirrors.sjtug.sjtu.edu.cn/manjaro/stable/$repo/$arch</span><br><span class="line"></span><br><span class="line">## Country : China</span><br><span class="line">Server = https://mirrors.bfsu.edu.cn/manjaro/stable/$repo/$arch</span><br><span class="line"></span><br><span class="line">## Country : China</span><br><span class="line">Server = https://mirrors.tuna.tsinghua.edu.cn/manjaro/stable/$repo/$arch</span><br><span class="line"></span><br><span class="line">## Country : China</span><br><span class="line">Server = https://mirrors.ustc.edu.cn/manjaro/stable/$repo/$arch</span><br><span class="line"></span><br><span class="line">## Country : South_Korea</span><br><span class="line">Server = https://mirror.funami.tech/manjaro/stable/$repo/$arch</span><br><span class="line"></span><br><span class="line">## Country : Russia</span><br><span class="line">Server = https://mirror.kamtv.ru/manjaro/stable/$repo/$arch</span><br></pre></td></tr></table></figure>

<ul>
<li>刷新源:<code>pacman -Syy</code></li>
</ul>
<h2 id="安装基本包"><a href="#安装基本包" class="headerlink" title="安装基本包"></a>安装基本包</h2><p><code>pacstrap /mnt linux linux-firmware base base-devel</code></p>
<ul>
<li>普通内核：<code>linux</code>,<code>linux-headers</code></li>
<li>lts 稳定内核：<code>linux-lts</code>,<code>linux-lts-headers</code></li>
<li>高性能内核：<code>linux-zen</code>,<code>linux-zen-headers</code>（不支持 nvidia 显卡）</li>
</ul>
<h2 id="生成-fstab-文件"><a href="#生成-fstab-文件" class="headerlink" title="生成 fstab 文件"></a>生成 fstab 文件</h2><ul>
<li><p>开机时，系统会安装 fstab 文件的分区信息进行挂载：<code>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</code></p>
</li>
<li><p>后续可以手动修改,用于挂载 win 盘：<code>UUID=xxxxxxxxxxx /home/xxx/xxx ntfs-3g defaults 0 0</code></p>
</li>
</ul>
<h2 id="切换环境"><a href="#切换环境" class="headerlink" title="切换环境"></a>切换环境</h2><p><code>arch-chroot /mnt</code></p>
<h2 id="安装-vim"><a href="#安装-vim" class="headerlink" title="安装 vim"></a>安装 vim</h2><p><code>pacman -S vim</code></p>
<h2 id="设置语言"><a href="#设置语言" class="headerlink" title="设置语言"></a>设置语言</h2><ul>
<li><p>将/etc/locale.gen 中 en_US.UTF-8 的注释去掉,避免中文乱码,推荐先使用英文：<code>vim /etc/locale.gen</code></p>
</li>
<li><p>执行：<code>locale-gen</code></p>
</li>
<li><p>配置 /etc/locale.conf 文件：<code>vim /mnt/etc/locale.conf</code></p>
</li>
<li><p>写入：<code>LANG=en_US.UTF-8</code></p>
</li>
</ul>
<h2 id="配置时区"><a href="#配置时区" class="headerlink" title="配置时区"></a>配置时区</h2><p><code>ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</code></p>
<h2 id="硬件时间"><a href="#硬件时间" class="headerlink" title="硬件时间"></a>硬件时间</h2><p><code>hwclock --systohc</code></p>
<h2 id="设置主机名"><a href="#设置主机名" class="headerlink" title="设置主机名"></a>设置主机名</h2><p><code>vim /etc/hostname</code></p>
<h2 id="重置-root-密码"><a href="#重置-root-密码" class="headerlink" title="重置 root 密码"></a>重置 root 密码</h2><p><code>passwd</code></p>
<h2 id="安装网络相关的包"><a href="#安装网络相关的包" class="headerlink" title="安装网络相关的包"></a>安装网络相关的包</h2><ul>
<li><p>动态 Ip：<code>pacman -S dhcpcd</code></p>
</li>
<li><p>USB 网络：<code>pacman -S usbmuxd</code></p>
</li>
<li><p>基本网络连接工具：<code>iw wpa_supplicant</code></p>
</li>
<li><p>网络管理工具(多个管理工具之间相互冲突，安装一个即可)：<code>pacman -S  networkmanager dhcpcd（可不装）</code></p>
<ul>
<li>启动服务：<code>systemctl enable NetworkManager.service</code></li>
<li>图形化界面：<code>nm-connection-editor</code></li>
<li>系统托盘：<code>network-manager-applet</code></li>
<li>使用：<br>NetworkManager 附带 nmcli 和 nmtui。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 显示附近的 Wi-Fi 网络：</span></span><br><span class="line">$ nmcli device wifi list</span><br><span class="line"></span><br><span class="line"><span class="comment"># 连接到 Wi-Fi 网络：</span></span><br><span class="line">$ nmcli device wifi connect SSID_或_BSSID password 密码</span><br><span class="line"></span><br><span class="line"><span class="comment"># 连接到隐藏的 Wi-Fi 网络：</span></span><br><span class="line">$ nmcli device wifi connect SSID_或_BSSID password 密码 hidden yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># 连接到 wlan1 网络接口上的 Wi-Fi：</span></span><br><span class="line">$ nmcli device wifi connect SSID_或_BSSID password 密码 ifname wlan1 profile_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 断开网络接口上的连接：</span></span><br><span class="line">$ nmcli device disconnect ifname eth0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示连接列表及其名称、UUID、类型和支持设备：</span></span><br><span class="line">$ nmcli connection show</span><br><span class="line"></span><br><span class="line"><span class="comment"># 激活连接（即使用现有配置文件连接到网络）：</span></span><br><span class="line">$ nmcli connection up name_或_uuid</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除连接：</span></span><br><span class="line">$ nmcli connection delete name_或_uuid</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示所有网络设备及其状态：</span></span><br><span class="line">$ nmcli device</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭 Wi-Fi：</span></span><br><span class="line">$ nmcli radio wifi off</span><br><span class="line"></span><br><span class="line"><span class="comment">#编辑连接</span></span><br><span class="line"><span class="comment">### 获取连接列表：</span></span><br><span class="line">$ nmcli connection</span><br><span class="line"><span class="comment">###编辑</span></span><br><span class="line">nmcli connection edit <span class="string">&#x27;wifi名称&#x27;</span></span><br><span class="line"><span class="comment">###或</span></span><br><span class="line">nmcli connection modify <span class="string">&#x27;wifi名称&#x27;</span> 配置项</span><br><span class="line"><span class="comment">###或在 /etc/NetworkManager/system-connections/ 中修改对应的 wifi名.nmconnection 文件。别忘了使用nmcli connection reload 重新加载配置文件。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>通过 Wi-Fi 共享网络连接：安装<code>dnsmasq</code>包 以实现连接共享。NetworkManager 会启动自己的 dnsmasq 实例，与 dnsmasq.service 独立。点击小程序，选择”Create new wireless network”。按照指南 (如果使用 WEP, 确保使用 5 到 13 字符长度的密码,其他的长度可能会失败)。</li>
<li>移动网络支持:安装 <code>modemmanager</code>包 和 <code>usb_modeswitch</code>包。然后启用并启动 <code>ModemManager.service</code>。可能需要重新启动 <code>NetworkManager.service</code> 才能使其检测 <code>ModemManager</code>。重新启动后，重新插入调制解调器应该就可以识别了。</li>
<li>VPN 支持:只需要 <code>wireguard</code> 内核模块</li>
<li>通过 Ethernet 共享连接：安装 dnsmasq 包以能够真正地共享连接。你的连有 internet 的设备和其他的设备通过合适的 ethernet 线缆连接（通常这意味着一个交叉线(cross over cable)或者之间有一个交换机（switch））。从终端运行 nm-connection-editor,添加一个新的 ethernet 连接，给它起一个合适的名字。比如”共享连接”，转到”IPv4 设置”（IPv4 settings），对于”方法:”（method） 选择 “与其他电脑共享”（Shared to other computers）,保存。现在，你在 NetworkManager 的有线连接下应该有了一个新”共享连接”的选项。</li>
<li>更换内置的 DHCP 客户端：请在 <code>/etc/NetworkManager/conf.d/</code> 中的配置文件中设置选项 <code>[main]\n dhcp=客户端名称</code>。注意！不要启用 dhclient 包 和 dhcpcd 包 软件包提供的 systemd 单元。它们会与 NetworkManager 冲突</li>
</ul>
</li>
<li><p>网络管理工具：<code>dialog net-tools netctl wpa_supplicant dhcpcd</code></p>
</li>
</ul>
<h2 id="安装-CPU-编码"><a href="#安装-CPU-编码" class="headerlink" title="安装 CPU 编码"></a>安装 CPU 编码</h2><p><code>pacman -S intel-ucode（amd-ucode）</code></p>
<ul>
<li>intel CPU 安装 ：<code>intel-ucode</code></li>
<li>amd CPU 安装 ：<code>amd-ucode</code></li>
</ul>
<h2 id="安装显卡驱动"><a href="#安装显卡驱动" class="headerlink" title="安装显卡驱动"></a>安装显卡驱动</h2><ul>
<li>intel 核显：<code>xf86-video-intel</code></li>
<li>nvidia:<code>mesa</code>,<code>nvidia(linux-lts内核，navidia-lts)</code>,<code>navida-settings</code>,<code>nvidia-dkms</code>,<code>nvidia-utils</code>,<code>nvidia-prime</code></li>
<li>amd：<code>xf86-video-amdgpu</code></li>
</ul>
<h2 id="安装引导"><a href="#安装引导" class="headerlink" title="安装引导"></a>安装引导</h2><ul>
<li><p>安装工具</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pacman -S grub efibootmgr（efi启动）os-prober(寻找其他系统的工具）</span><br><span class="line">mkdir /boot/grub</span><br></pre></td></tr></table></figure></li>
<li><p>Grub2.06 后不再启用 os-prober，需要手动启用：<code>vim /etc/default/grub</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">#grub2.06默认禁用os-prober</span><br><span class="line">#启用os-prober来识别win引导</span><br><span class="line">GRUB_DISABLE_OS_PROBER=false</span><br><span class="line">...</span><br></pre></td></tr></table></figure></li>
<li><p>安装 grub</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#gpt引导32位</span></span><br><span class="line"> grub-install --target=i386-pc /dev/sda (整个磁盘，即根目录`/`）</span><br><span class="line"><span class="comment">#efi引导</span></span><br><span class="line">grub-install --target=x86_64-efi --efi-directory=/boot</span><br></pre></td></tr></table></figure></li>
<li><p>生成 grub.cfg：<code>grub-mkconfig -o /boot/grub/grub.cfg</code></p>
</li>
</ul>
<h2 id="退出当前环境"><a href="#退出当前环境" class="headerlink" title="退出当前环境"></a>退出当前环境</h2><p><code>exit</code></p>
<h2 id="关闭网络"><a href="#关闭网络" class="headerlink" title="关闭网络"></a>关闭网络</h2><p><code>killall wpa_supplicant dhcpcd</code></p>
<h2 id="重启-拔-u-盘"><a href="#重启-拔-u-盘" class="headerlink" title="重启, 拔 u 盘"></a>重启, 拔 u 盘</h2><p><code>reboot</code></p>
<hr>
<h2 id="添加用户"><a href="#添加用户" class="headerlink" title="添加用户"></a>添加用户</h2><ul>
<li>安装 sudo：<code>pacman -S sudo</code></li>
<li>添加用户：<code>useradd -m 用户名</code></li>
<li>添加用户：<code>useradd -m -G 组名 用户名</code></li>
<li>设置密码：<code>passwd 用户名</code></li>
<li>编辑权限：<code>vim /etc/sudoers</code></li>
</ul>
<blockquote>
<p>第一列用户名：test、root<br>第二列，等号左边：允许从任何主机登陆当前用户<br>第二列，等号右边：第一列用户可以切换到系统中的其他用户<br>第三列，NOPASSWD 表示 sudo 不用打密码</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root    ALL=(ALL:ALL) ALL</span><br><span class="line">test    ALL=(ALL:ALL) NOPASSWD:ALL</span><br></pre></td></tr></table></figure>

<h2 id="添加-archlinuxcn-源"><a href="#添加-archlinuxcn-源" class="headerlink" title="添加 archlinuxcn 源"></a>添加 archlinuxcn 源</h2><ul>
<li><p><code>vim /etc/pacman.conf</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[archlinuxcn]</span><br><span class="line">#archlinuxcn-keyring不报错的话可以不加下行</span><br><span class="line">#SigLevel=Optional TrustAll</span><br><span class="line">#Server=https://mirrors.bfsu.edu.cn/archlinuxcn/$arch</span><br><span class="line">Server=https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch</span><br></pre></td></tr></table></figure></li>
<li><p>取消<code>[multilib]</code>中两行的注释，不然 32 位包无法安装</p>
</li>
<li><p>同步：<code>pacman -Syu</code></p>
</li>
<li><p>安装 GPGkey：<code>pacman -S archlinuxcn-keyring</code></p>
</li>
</ul>
<h2 id="图形界面"><a href="#图形界面" class="headerlink" title="图形界面"></a>图形界面</h2><blockquote>
<p>用户登陆成功后，会读取用户目录下的<code>.bashrc</code>文件(zsh 终端则是<code>.zshrc</code>文件)，相当于手动执行<code>source ~/.bashrc</code>。此时登陆到 tty1。接着执行 startx 命令会执行<code>~/.xinitrc</code>中的内容<br>.Xresources 文件，用来调节 dpi(默认 96),<code>Xft.dpi:192</code>(数字为：放大倍数*96)</p>
</blockquote>
<ul>
<li><p>安装 xorg：<code>xorg</code> <code>xorg-server</code> <code>xorg-xinit</code></p>
</li>
<li><p>登陆管理器：</p>
<ul>
<li>slim:<ul>
<li>安装 <code>pacman -S slim</code></li>
<li>开机自启动：<code>systemctl enable slim.service</code></li>
</ul>
</li>
<li>ssdm<ul>
<li>安装：<code>pacman -S ssdm</code></li>
<li>启动：<code>systemctl enable ssdm</code></li>
</ul>
</li>
<li>lightdm<ul>
<li>安装：<code>pacman -S lightdm lightdm-gtk-greeter</code></li>
<li>启动：<code>systemctl enable lightdm</code></li>
</ul>
</li>
<li>gdm<ul>
<li>安装：<code>pacman -S gdm</code></li>
<li>启动：<code>systemctl enable gdm</code></li>
</ul>
</li>
</ul>
</li>
<li><p>桌面环境</p>
<ul>
<li>xfce4(简洁)：<ul>
<li>安装:<code>pacman -S xfce4 xfce4-goodies(工具和插件，可不装)</code></li>
<li>配置: <code>vim .xinitrc</code>，添加<code>exec startxfce4</code></li>
</ul>
</li>
<li>kde(绚丽)：<ul>
<li>安装:<code>pacman -S plasma kde-applications</code></li>
</ul>
</li>
<li>gnome(易用)：<ul>
<li>安装:<code>pacman -S gnome gnome-extra</code></li>
<li>配置: <code>vim .xinitrc</code>，添加<code>exec gnome-session</code></li>
</ul>
</li>
<li>lxde(轻量)：<ul>
<li>安装:<code>pacman -S lxde</code>或最少需要安装 <code>lxde-common</code>包, <code>lxsession</code>包, <code>openbox</code>包(或者其他窗口管理器）。</li>
<li>配置: <code>vim .xinitrc</code>，添加<code>exec startlxde</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="蓝牙服务"><a href="#蓝牙服务" class="headerlink" title="蓝牙服务"></a>蓝牙服务</h2><ul>
<li><p>安装： <code>bluez bluez-utils</code></p>
</li>
<li><p>启动服务：<code>systemctl enable bluetooth.service</code>，<code>systemctl start bluetooth.service</code></p>
</li>
<li><p>使用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ bluetoothctl --<span class="built_in">help</span>          查看帮助命令</span><br><span class="line">$ bluetoothctl -v              查看蓝牙版本</span><br><span class="line">$ bluetoothctl            进入蓝牙管理工具环境</span><br><span class="line">[bluetooth]<span class="comment"># power on                打开蓝牙</span></span><br><span class="line">[bluetooth]<span class="comment"># agent on                开启代理</span></span><br><span class="line">[bluetooth]<span class="comment"># scan on                 扫描蓝牙设备</span></span><br><span class="line">[bluetooth]<span class="comment"># pair xx:xx:xx:...       配对该设备</span></span><br><span class="line">[bluetooth]<span class="comment"># trust xx:xx:xx:...      信任该设备</span></span><br><span class="line">[bluetooth]<span class="comment"># connect xx:xx:...       连接该设备</span></span><br></pre></td></tr></table></figure></li>
<li><p>图形化界面：<code>sudo pacman -S blueman</code></p>
</li>
<li><p>如果要用蓝牙耳机，或者蓝牙音响，还需要安装 pulseaudio-bluetooth<br><code># pacman -S pulseaudio-bluetooth</code><br>这个程序默认开机启动。但经常发生开机后能连接音响，却不是用音响输出声音的情况。<br>重新启动 pulseaudio 执行<code>pulseaudio -k</code></p>
</li>
</ul>
<p>再打开音频或者视频就能从蓝牙音响输出了。</p>
<h2 id="声音"><a href="#声音" class="headerlink" title="声音"></a>声音</h2><ul>
<li>安装工具包:<code>pacman -S alsa-utils</code></li>
<li>可以使用 <code>amixer</code> 解除声卡的主音量静音：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">amixer sset Master unmute</span><br><span class="line">amixer sset Speaker unmute</span><br><span class="line">amixer sset Headphone unmute</span><br></pre></td></tr></table></figure>

<ul>
<li>使用 <code>alsamixer</code> 可以解除声卡的静音：<code>alsamixer</code></li>
</ul>
<p>声道下方标有<code>MM</code>表示其已经静音，而标有<code>00</code>表示已经启用。</p>
<p>使用<code>←</code>和<code>→</code>键滚动到 Master 和 PCM 声道，按下 m 键解除静音。</p>
<p>使用 <code>↑</code> 键增加音量，获得 0dB 的增益。增益值可在左上方 Item: 字段旁边看到。<br>注意： 若增益高于 0 dB，可能会听到失真。</p>
<ul>
<li><p>若没有声音，需配置声卡</p>
<ul>
<li>获取声卡的声卡 ID 和设备 ID:<code>aplay -l</code></li>
<li>获取 amixer 控制器配置:<code>amixer scontrols</code></li>
<li>获取 amixer 声卡配置:<code>amixer -c 1 scontrols</code></li>
<li>在刚才 aplay -l 里面选择声卡 1,设备 ID 为 0 的声卡。把下列配置添加到系统级别的 /etc/asound.conf 或用户级别的 ~/.asoundrc 文件。如果文件不存在，可以手动创建。其中的各个 ID，请根据实际情况调整：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">defaults.pcm.card 1</span><br><span class="line">defaults.pcm.device 0</span><br><span class="line">defaults.ctl.card 1</span><br></pre></td></tr></table></figure>

<p>pcm 选项决定用来播放音频的设备，而 ctl 选项决定那个声卡能够由控制工具（如 alsamixer）使用。上述配置在重启音频程序（如 mplayer）后立即生效。</p>
</li>
<li><p>启用麦克风<br>要启用麦克风，按 F4 切换至 Capture （捕获）选项卡，然后按 空格 启用一个声道即可</p>
</li>
</ul>
<h2 id="安装字体"><a href="#安装字体" class="headerlink" title="安装字体"></a>安装字体</h2><ul>
<li><p>开源：<code>ttf-dejavu</code></p>
</li>
<li><p>中文：<code>wqy-zenhei</code></p>
</li>
<li><p>中文：<code>noto-fonts-cjk</code></p>
</li>
</ul>
<h2 id="设置中文"><a href="#设置中文" class="headerlink" title="设置中文"></a>设置中文</h2><ul>
<li>删除<code>zh_CN.UTF-8</code>注释：<code>vim /etc/locale.gen</code></li>
<li>执行：<code>locale-gen</code></li>
<li>全局配置中文（不建议，tty 中不支持中文，会乱码）：<code>echo LANG=zh_CN.UTF-8 &gt;&gt; /etc/locale.conf</code></li>
<li>局部配置，在<code>~/.xprofile</code>或<code>~/.xinitrc</code>中配置<code>LANG=zh_CN.UTF-8</code></li>
</ul>
<h2 id="中文输入法-fcitx5"><a href="#中文输入法-fcitx5" class="headerlink" title="中文输入法 fcitx5"></a>中文输入法 fcitx5</h2><ul>
<li><p>安装：<code>pacman -S fcitx5 fcitx5-chinese-addons（简体中文输入） fcitx5-gtk（gtk程序支持） fcitx5-qt fcitx5-configtool fcitx5-config-qt（qt5程序支持） fcitx5-git fcitx5-pinyin-zhwiki(维基百科词库，无版权风险) kcm-fcitx5（kde桌面环境支持）</code></p>
</li>
<li><p>配置：编辑 /etc/environment 并添加以下几行，然后重新登录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">GTK_IM_MODULE=fcitx</span><br><span class="line">QT_IM_MODULE=fcitx</span><br><span class="line">XMODIFIERS=@im=fcitx</span><br><span class="line">#SDL_IM_MODULE 是为了让一些使用特定版本 SDL2 库的游戏能正常使用输入法。</span><br><span class="line">SDL_IM_MODULE=fcitx</span><br><span class="line">#GLFW_IM_MODULE 是为了让 kitty 启用输入法支持。此环境变量的值只能为 ibus。</span><br><span class="line">GLFW_IM_MODULE=ibus</span><br></pre></td></tr></table></figure></li>
<li><p>开机自启，执行：<code>cp /usr/share/applications/org.fcitx.Fcitx5.desktop ~/.config/autostart/</code></p>
</li>
<li><p>主题和外观</p>
<ul>
<li>安装：<code>yay -S fcitx5-material-color</code></li>
<li>配置：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 垂直候选列表</span><br><span class="line">Vertical Candidate List=False</span><br><span class="line"># 按屏幕DPI使用</span><br><span class="line">PerScreenDPI=True</span><br><span class="line"># Font(设置成你喜欢的字体)</span><br><span class="line">Font=&quot;思源黑体 CN Medium 13&quot;</span><br><span class="line"># 主题</span><br><span class="line">Theme=Material-Color-DeepPurple</span><br></pre></td></tr></table></figure></li>
<li><p>Emoji</p>
<ol>
<li>首先确保电脑上已经安装了带有 Emoji 的字体（例如 noto-fonts-emoji 包）。</li>
<li>将字体设置为 Noto Sans CJK SC</li>
</ol>
</li>
<li><p>wps 无法输入中文：该问题在国内版 wps-office-cn 11.1.0.9604-1 版本更新后部分用户出现，于 wps-office-cn 11.1.0.9615-1 版本修复</p>
</li>
<li><p>自定义词库</p>
</li>
</ul>
<blockquote>
<p>注意： 手动下载的词典文件直接放到 ~/.local/share/fcitx5/pinyin/dictionaries 路径下即可。词典文件的后缀名应当为 .dict<br>一般而言,由于 fcitx5 包 支持 导入搜狗词库，因此很大程度上不需要自定义词库，但是 fcitx5 包 依然提供了相关工具。</p>
</blockquote>
<ul>
<li>安装 <code>libime</code>包:<br>原始词库文件是一个文本文件，其格式为： 汉字 拼音 频率,在得到原始词库文件后，调用 <code>libime_pinyindict &quot;词库文件.txt&quot; &quot;词库文件.dict&quot;</code> 即可。</li>
</ul>
<p>自定义词库文件放置在 <code>~/.local/share/fcitx5/pinyin/dictionaries</code></p>
<h2 id="安装-yay"><a href="#安装-yay" class="headerlink" title="安装 yay"></a>安装 yay</h2><blockquote>
<p>需要配置 etc/pacman.conf 中，加入 archlinuxcn Server 配置</p>
</blockquote>
<ul>
<li>pacman 命令</li>
</ul>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>pacman -Syu</td>
<td>系统升级，更新软件,对整个系统进行更新</td>
</tr>
<tr>
<td>pacman -Su</td>
<td>将本地的包数据库与远程的仓库进行了同步</td>
</tr>
<tr>
<td>pacman -S 包名</td>
<td>安装或升级单个软件</td>
</tr>
<tr>
<td>pacman -Sy 包名</td>
<td>同步数据后,再安装或升级单个软件</td>
</tr>
<tr>
<td>pacman -U 包名</td>
<td>安装本地包，扩展名为 pkg.tar.gz 或 pkg.tar.xz</td>
</tr>
<tr>
<td>pacman -U url 名</td>
<td>安装远程包</td>
</tr>
<tr>
<td>pacman -R 包名</td>
<td>删除软件，保留依赖</td>
</tr>
<tr>
<td>pacman -Rs 包名</td>
<td>删除软件，和其他没有被引用的依赖</td>
</tr>
<tr>
<td>pacman -Rdd 包名</td>
<td>删除软件，及依赖它的软件</td>
</tr>
<tr>
<td>pacman -Qs 名称</td>
<td>查看已安装的软件</td>
</tr>
<tr>
<td>pacman -Ss 名称</td>
<td>搜索仓库中的软件</td>
</tr>
<tr>
<td>pacman -Sc</td>
<td>清空软件包缓存</td>
</tr>
<tr>
<td>pacman -Scc</td>
<td>清空所有缓存</td>
</tr>
<tr>
<td>pacman -R $(pacman -Qdtq)</td>
<td>清楚系统中的无用包</td>
</tr>
<tr>
<td>pacman -R $(pacman -Qsq 关键词)</td>
<td>清楚系统中的包</td>
</tr>
</tbody></table>
<ul>
<li>软件降级<br>利用 Arch Linux 存档库（Arch Linux Archive，简称 ALA）来实现旧版本软件的安装。ALA 保存了官方仓库快照、iso 镜像 和 引导程序包 的历史版本。<br>在 ALA 上查找想要的软件包<br>ALA 的网址为：<a target="_blank" rel="noopener" href="https://archive.archlinux.org/">https://archive.archlinux.org/</a><br>ALA 的存档库分为下列三个主目录：iso、packages、repos。repos 目录包含官方仓库镜像的每日快照；packages 目录包含每个包的所有版本及其相应的数字签名；iso 目录按发布日期，保存官方 ISO 镜像和启动压缩包。<br>找到想要的软件后，可以直接从浏览器下载，然后用 pacman 来安装,例如：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -U guile2.2-2.2.7-1-x86_64.pkg.tar.zst</span><br></pre></td></tr></table></figure>

<p>也可以直接用 pacman 通过链接来安装，例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -U https://archive.archlinux.org/packages/g/guile2.0/guile2.2-2.2.7-1-x86_64.pkg.tar.zst</span><br></pre></td></tr></table></figure>

<p>装完之后为了防止下次<code>pacman -Syu</code>时又自动升级到最新版，可以在/etc/pacman.conf 里的“IgnorePkg” 加上刚刚安装的包。多个用空格分隔</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IgnorePkg   = linux linux-headers linux-lts llinux-lts-headers</span><br></pre></td></tr></table></figure>

<ul>
<li>yay 命令,不要加 sudo</li>
</ul>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>yay</td>
<td>同步并更新所有来自仓库和 AUR 的软件包</td>
</tr>
<tr>
<td>yay <code>软件包</code> 或 <code>搜索词</code></td>
<td>从仓库和 AUR 中交互式搜索和安装软件包</td>
</tr>
<tr>
<td>yay -S <code>软件包</code></td>
<td>从仓库和 AUR 中安装一个新的软件包。</td>
</tr>
<tr>
<td>yay -Ss <code>软件包</code></td>
<td>从仓库和 AUR 中搜索软件包数据库中的关键词</td>
</tr>
<tr>
<td>yay -Syu</td>
<td>更新软件</td>
</tr>
</tbody></table>
<h2 id="其他软件"><a href="#其他软件" class="headerlink" title="其他软件"></a>其他软件</h2><h3 id="官网"><a href="#官网" class="headerlink" title="官网"></a>官网</h3><ul>
<li><a target="_blank" rel="noopener" href="http://listen1.github.io/listen1/">listen1</a></li>
</ul>
<h3 id="pacman"><a href="#pacman" class="headerlink" title="pacman"></a>pacman</h3><ul>
<li><p>男人：<code>man</code></p>
</li>
<li><p>屏幕上显示键盘：<code>screenkey</code></p>
</li>
<li><p>快速启动：<code>albert</code></p>
</li>
<li><p>文件管理器：<code>ranger</code></p>
</li>
<li><p>电脑参数：<code>neofetch</code></p>
</li>
<li><p>挂载 ntfs：<code>ntfs-3g</code></p>
</li>
<li><p>办公：<code>libreoffice-fresh</code></p>
</li>
<li><p>火狐：<code>firefox</code></p>
</li>
<li><p>截图：<code>flameshot</code></p>
</li>
<li><p>看图：<code>feh</code></p>
</li>
<li><p>pdf：<code>okular</code></p>
</li>
<li><p>播放器：<code>mpv</code>,<code>vlc</code></p>
</li>
<li><p>录屏：<code>obs-studio</code>( 确保安装了<code>pipewire</code>,<code>libpipewire02</code>，<code>xdg-desktop-portal-wlr</code>)</p>
</li>
<li><p>图形化解压工具：<code>xarchiver</code>,<code>file-roller</code></p>
</li>
<li><p>虚拟摄像头：<code>v4l2loopback</code>（可用在直播软件中实现共享屏幕）</p>
<ul>
<li>移除虚拟相机命令：<code>sudo modprobe --remove v4l2loopback</code></li>
<li>添加虚拟相机命令：<code>sudo modprobe v4l2loopback devices=2</code></li>
</ul>
</li>
<li><p>编辑器：<code>nvim</code></p>
<ul>
<li>安装 LazyVim 配置:<ul>
<li><code>git clone https://github.com/LazyVim/starter ~/.config/nvim</code></li>
<li><code>rm -rf ~/.config/nvim/.git</code></li>
<li><code>nvim</code></li>
</ul>
</li>
<li>安装字体：<code>Nerd Fonts</code></li>
</ul>
</li>
</ul>
<h3 id="aur"><a href="#aur" class="headerlink" title="aur"></a><a target="_blank" rel="noopener" href="https://aur.archlinux.org/">aur</a></h3><ul>
<li><p>谷歌:<code>google-chrome</code>（root 用户无法启动）</p>
</li>
<li><p>markdown:<code>typora-free-cn</code>,<code>remarkable</code></p>
</li>
<li><p>vscode:<code>visual-studio-code-bin</code>（root 用户无法启动）</p>
</li>
<li><p>快照保存：<code>timeshift</code></p>
<ul>
<li>打开 Timeshift 后，从下一个窗口中选择快照类型。您有两个选项可供选择：<br><code>RSync</code>：使用 rsync 和硬链接拍摄快照。快照之间共享公共文件，从而节省磁盘空间。每个快照都是完整的系统备份，可以使用文件管理器进行浏览。<br><code>BTRFS</code>：使用 BTRFS 文件系统的内置功能拍摄快照。 BTRFS 快照仅在具有 Ubuntu 类型子卷布局（带有 @ 和 @home 子卷）的 BTRFS 系统上受支持。</li>
<li>第三步：选择存储设备<br>在此阶段，您需要指定存储备份的位置。您可以使用计算机的硬盘或外部 USB 磁盘进行备份存储。如果您使用计算机的硬盘，则可以按计划自动创建 Timehsift 备份。如果您使用外部 USB 磁盘，则必须在插入时手动创建备份或始终保持插入状态。建议使用外部驱动器作为备份位置，以防硬盘发生严重问题。您要使用的 USB 或外部驱动器应格式化为 Linux 文件系统。否则，将不会被检测到。</li>
<li>配置计划快照<br>下一个屏幕将指导您设置计划备份。有多种计划选项，例如每月、每周、每天、每小时等</li>
<li>选择文件/文件夹<br>在此步骤中，您需要选择要备份系统的哪些部分。默认情况下，不备份用户文件。仅备份系统启动和运行所需的文件。这有几个优点。如果您备份用户文件，则在恢复时，这些文件将被覆盖，并且创建备份后所做的任何更改都将消失。因此，请明智地选择这些文件夹。</li>
<li>创建备份<br>初始设置完成后，您将到达 Timeshift 主页，您可以在其中单击创建按钮创建第一个备份。</li>
</ul>
</li>
<li><p>wps：<code>wps-office</code></p>
<ul>
<li><p>无法输入中文错误来源<br>好像是因为 wps 在较新的版本之后就不在读取用户的默认的配置文件~/.pam_environment，所以你在这个文件中再怎么改也没有用。</p>
</li>
<li><p>解决办法<br>正确的做法是直接在启动脚本中添加 export 变量导出。<br>启动脚本位于/usr/bin 目录下，<code>/usr/bin/wps</code>, <code>/usr/bin/et</code> ,<code>/usr/bin/wpp</code>。<br>在 gOpt 一行下添加</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> GTK_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> QT_IM_MODULE=fcitx5</span><br><span class="line"><span class="built_in">export</span> XMODIFIERS=@im=fcitx</span><br></pre></td></tr></table></figure>

<p>然后保存退出。这样就可以成功在 WPS 中使用 fcitx5 了。</p>
</li>
</ul>
</li>
<li><p>qq:<code>linuxqq</code></p>
</li>
<li><p>腾讯会议：<code>wemeet-bin</code></p>
</li>
<li><p>微信：<code>wechat-uos</code></p>
</li>
<li><p>飞书：<code>feishu-bin</code></p>
</li>
<li><p>迅雷：<code>xunlei-bin</code></p>
</li>
</ul>
<h2 id="触摸板"><a href="#触摸板" class="headerlink" title="触摸板"></a>触摸板</h2><ul>
<li><p>安装驱动：<code>libinput</code>，<code>xf86-input-libinput</code></p>
</li>
<li><p>配置软连接：<code>ln -s /usr/share/X11/xorg.conf.d/40-libinput.conf /etc/X11/xorg.conf/40-libinput.conf</code></p>
</li>
<li><p>查看触摸板编号：<code>xinput list</code>，找到 touchpad 的 id</p>
</li>
<li><p>编辑配置： <code>vim 40-libinput.conf</code>，找到 touchpad，添加两条 Option，重启.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">Section &quot;inputClass&quot;</span><br><span class="line">       Identifier &quot;libinput touchpad catchall&quot;</span><br><span class="line">       MatchIsTouchpad &quot;on&quot;</span><br><span class="line">       MatchDevicePath &quot;/dev/input/event*&quot;</span><br><span class="line">       Driver &quot;libinput&quot;</span><br><span class="line">       Option &quot;Tapping&quot; &quot;on&quot;</span><br><span class="line">       Option &quot;clickMethod&quot; &quot;clickfinger&quot;</span><br><span class="line">EndSection</span><br><span class="line">...</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="屏幕亮度"><a href="#屏幕亮度" class="headerlink" title="屏幕亮度"></a>屏幕亮度</h2><blockquote>
<p>亮度由 ACPI，图形或者平台的驱动来控制</p>
</blockquote>
<ul>
<li>查看 ACPI 内核模块：<code>ls /sys/class/backlight/</code></li>
<li>查看最大亮度：<code>ls /sys/class/backlight/acpi_video0/max_brightness</code></li>
<li>测试,向 brightness 写入代表亮度等级的数值：<code>echo 5 &gt; /sys/class/backlight/acpi_video0/brightness</code></li>
<li>若不生效或是 amd 显卡，可能需要修改内核：<br>编辑 <code>/etc/default/grub</code>并将您的内核选项添加至 <code>GRUB_CMDLINE_LINUX_DEFAULT=&#39;...&#39;</code> 行</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">acpi_backlight=video</span><br><span class="line">acpi_backlight=vendor</span><br><span class="line">acpi_backlight=native</span><br><span class="line">acpi_backlight=none</span><br></pre></td></tr></table></figure>

<p>然后重新生成 <code>grub.cfg</code> 文件：<code>grub-mkconfig -o /boot/grub/grub.cfg</code></p>
<ul>
<li><p>关闭背光：<code>xset dpms force off</code></p>
</li>
<li><p>开启背光：<code>xset s</code></p>
</li>
<li><p>启用 fn 快捷键</p>
<ul>
<li>安装：<code>acpid2</code>,<code>openbsd-netcat</code></li>
<li>启动服务：<code>systemctl start/enable acpid.service.</code></li>
<li>查看按钮：<code>netcat -U /var/run/acpid.socket</code></li>
</ul>
</li>
<li><p>创建屏幕控制脚本(重启 acpid 服务)：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### vim /etc/acpi/handlers/bl</span></span><br><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line">bl_dev=/sys/class/backlight/acpi_video0</span><br><span class="line">step=1</span><br><span class="line"><span class="keyword">case</span> <span class="variable">$1</span> <span class="keyword">in</span></span><br><span class="line">  -) <span class="built_in">echo</span> $(($(&lt; <span class="variable">$bl_dev</span>/brightness) - <span class="variable">$step</span>)) &gt;<span class="variable">$bl_dev</span>/brightness;;</span><br><span class="line">  +) <span class="built_in">echo</span> $(($(&lt; <span class="variable">$bl_dev</span>/brightness) + <span class="variable">$step</span>)) &gt;<span class="variable">$bl_dev</span>/brightness;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#vim /etc/acpi/events/bl_d</span></span><br><span class="line">event=video/brightnessdown.*</span><br><span class="line">action=/etc/acpi/handlers/bl -</span><br><span class="line"></span><br><span class="line"><span class="comment">#vim /etc/acpi/events/bl_u</span></span><br><span class="line">event=video/brightnessup.*</span><br><span class="line">action=/etc/acpi/handlers/bl +</span><br></pre></td></tr></table></figure></li>
<li><p>创建声音控制脚本：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#vim /etc/acpi/events/vol-d</span></span><br><span class="line">event=button/volumedown</span><br><span class="line">action=amixer <span class="built_in">set</span> Master 5-</span><br><span class="line"></span><br><span class="line"><span class="comment">#vim /etc/acpi/events/vol-m</span></span><br><span class="line">event=button/mute</span><br><span class="line">action=amixer <span class="built_in">set</span> Master toggle</span><br><span class="line"></span><br><span class="line"><span class="comment">#vim /etc/acpi/events/vol-u</span></span><br><span class="line">event=button/volumeup</span><br><span class="line">action=amixer <span class="built_in">set</span> Master 5+</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="安装-Deb-包"><a href="#安装-Deb-包" class="headerlink" title="安装 Deb 包"></a>安装 Deb 包</h2><ul>
<li>安装 debtap：<code>yay -S debtap</code></li>
<li>更新数据库：<code>sudo debtap -u</code></li>
<li>转化 deb 包：<code>debtap xxx.deb</code></li>
<li>安装：<code>sudo pacman -U xxxx.pkg</code></li>
</ul>
<h3 id="文件管理工具"><a href="#文件管理工具" class="headerlink" title="文件管理工具"></a>文件管理工具</h3><h4 id="dolphin"><a href="#dolphin" class="headerlink" title="dolphin"></a>dolphin</h4><p>安装： <code>sudo pacman -S dolphin breeze</code><br>文件预览：</p>
<ul>
<li>kdegraphics-thumbnailers: Image files, PDFs and Blender application files.</li>
<li>kimageformats: Gimp .xcf files</li>
<li>libheif: HEIF files</li>
<li>qt5-imageformats : .webp, .tiff, .tga, .jp2 files</li>
<li>resvgAUR: Fast and accurate SVG image thumbnails</li>
<li>kdesdk-thumbnailers: Plugins for the thumbnailing system</li>
<li>ffmpegthumbs: Video files (based on ffmpeg)</li>
<li>raw-thumbnailerAUR: .raw files</li>
<li>taglib : Audio files</li>
<li>kde-thumbnailer-apkAUR: Android package files<br>Enable preview showing of required file type in<code>Settings &gt; Configure Dolphin... &gt; General &gt; Previews.</code></li>
</ul>
<p>To enable <code>heif/heic image thumbnails</code>, edit <code>/usr/share/kservices5/imagethumbnail.desktop</code> by adding <code>image/heif;</code> to the line which starts with <code>MimeType=</code>.</p>
<p>Note that heif/heic thumbnails will be enabled by default on versions of <code>kio-extras</code> after 21.12</p>
<h4 id="pcmanfm"><a href="#pcmanfm" class="headerlink" title="pcmanfm"></a>pcmanfm</h4><ul>
<li>自动挂载 u 盘、垃圾桶:<code>gvfs</code>,<code>udisks</code></li>
<li>解压：<code>xarchiver</code></li>
</ul>
<h3 id="远程控制-windowns"><a href="#远程控制-windowns" class="headerlink" title="远程控制 windowns"></a>远程控制 windowns</h3><ul>
<li><code>rdesktop</code><br>在此之前需要让 Windows 支持远程协助，可以在系统属性-远程中开启：【允许远程协助连接这台计算机】+【允许远程连接到此计算机】，如果勾选了【仅运行运行使用网络级别身份验证的远程桌面单位计算机连接】，那么 rdesktop 无法连接，报错信息：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Core(warning): Certificate received from server is NOT trusted by this system, an exception has been added by the user to trust this specific certificate.</span><br><span class="line">Failed to initialize NLA, <span class="keyword">do</span> you have correct Kerberos TGT initialized ?</span><br><span class="line">Failed to connect, CredSSP required by server (check <span class="keyword">if</span> server has disabled old TLS versions, <span class="keyword">if</span> yes use -V option).</span><br></pre></td></tr></table></figure>

<p>解决方法有两种：1）不勾选该选项；2）使用 xfreerdp<br>rdesktop 192.168.xxx.xxx 默认选项就可以远程桌面连接 Windows（需要输入用户口令）。<br>rdesktop 一些常用选项：<br>-u : Windows 用户<br>-p : Windows 口令（非 PIN）<br>-g : 窗口大小，如 1366x768<br>-f :全屏<br>-a : 色彩深度 ：8, 15, 16, 24, 32<br>-r sound ：支持声音<br>-r clipboard：支持剪切板<br>-r disk： 远程连接时挂载本地文件目录</p>
<p>详细信息 man rdesktop</p>
<ul>
<li><code>freerdp</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/v:&lt;server&gt;[:port] 默认端口 3389</span><br><span class="line">/w、/h 窗口大小</span><br><span class="line">/size:&lt;width&gt;x&lt;height&gt; 窗口大小，如 1024x768</span><br><span class="line">/f 全屏</span><br><span class="line">/workarea Use available work area</span><br><span class="line">/bpp:&lt;depth&gt; 色彩深度</span><br><span class="line">/u:&lt;user&gt;[@&lt;domain&gt;]</span><br><span class="line">/p:&lt;password&gt;</span><br><span class="line">/d:&lt;domain&gt; 域，可选</span><br><span class="line">+fonts 平滑字体</span><br></pre></td></tr></table></figure>

<ul>
<li><p>共享盘或者传输文件</p>
<ul>
<li><p>对于 xfreerdp 指定 /drive:<br>xfreerdp /drive:SharedDir,/home/user/SharedDir /u:user /p:password /v:ip</p>
</li>
<li><p>对于 rdesktop 指定 -r disk:<br>rdesktop -r disk:SharedDir=/home/user/SharedDir ip<br>其中 SharedDir 是随便输入的名字，接着是共享文件夹的本地绝对路径</p>
</li>
</ul>
</li>
</ul>
<h3 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h3><p>xrandr<br>xrandr –output screen –mode 1280x800<br>feh –randomize –bg-fill /地址<br>picom</p>
<h2 id="常见错误"><a href="#常见错误" class="headerlink" title="常见错误"></a>常见错误</h2><ul>
<li><code>...invalid or corrupted package (PGP sinature)</code></li>
</ul>
<p>同步时间：<code>timedatectl set-ntp true</code><br>运行：<code>pacman -S archlinu-keyring</code><br>回到安装，重新 pacstrap 安装</p>
<ul>
<li><p>普通用户无法 startx</p>
<ul>
<li><code>tmp</code>目录是否有权限</li>
<li>拷贝 root 用户下的<code>.Xauthority</code>，<code>xinitrc</code>到普通用户的 home 目录下</li>
</ul>
</li>
<li><p>unzip 解压大文件错误<br>下载 p7zip</p>
</li>
<li><p>npm nrm 安装后报错<br>原因：应该使用 open 的 CommonJs 规范的包 ，现在 open v9.0.0 是 ES Module 版本的包<br>解决方法：<code>npm install -g nrm open@8.4.2 -save</code></p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://a913481180.github.io/2020/11/12/20-33-30/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/12/20-33-30/" class="post-title-link" itemprop="url">vue3</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-12 20:33:30" itemprop="dateCreated datePublished" datetime="2020-11-12T20:33:30+08:00">2020-11-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-14 23:12:11" itemprop="dateModified" datetime="2024-05-14T23:12:11+08:00">2024-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index"><span itemprop="name">web</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ol>
<li><p>查看 vue-cli 版本，必须大于 4.5：<code>vue -V</code></p>
<ul>
<li>升级 vue-cli：<code>npm install -g @vue/cli</code></li>
<li>创建：<code>vue create test</code> 选择 vue3</li>
</ul>
</li>
<li><p>vite 创建：<code>vue init vite-app test</code></p>
<ul>
<li><p><code>vue install</code></p>
</li>
<li><p><code>npm run dev</code><br>或者<code>npm init vite@latest</code>输入工程名称,选择框架为 vue</p>
</li>
<li><p><code>vue install</code></p>
</li>
<li><p><code>npm run dev</code></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://vitejs.cn/">https://vitejs.cn/</a></p>
</blockquote>
</li>
</ul>
</li>
</ol>
<h2 id="main-js"><a href="#main-js" class="headerlink" title="main.js"></a>main.js</h2><ul>
<li>vue3</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">///引用的不再是vue的构造函数</span></span><br><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App.vue&quot;</span>;</span><br><span class="line"><span class="comment">//创建应用实例对象</span></span><br><span class="line"><span class="keyword">const</span> app = createApp(App);</span><br><span class="line">app.mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>vue2</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//app 比 vm 轻量，属性少</span></span><br><span class="line">cosnt vm =<span class="keyword">new</span>  Vue(&#123;</span><br><span class="line">   render(<span class="function"><span class="params">h</span>=&gt;</span>h(App))</span><br><span class="line">&#125;)</span><br><span class="line">vm.$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="响应式-API：核心"><a href="#响应式-API：核心" class="headerlink" title="响应式 API：核心"></a>响应式 API：核心</h2><h3 id="App-vue"><a href="#App-vue" class="headerlink" title="App.vue"></a>App.vue</h3><blockquote>
<p>vue3 组件中的模版结构可以没有 div 根标签</p>
</blockquote>
<h4 id="setup"><a href="#setup" class="headerlink" title="setup"></a>setup</h4><blockquote>
<p>vue2 中的 data、methods、computed 写在 setup 中可以访问到 setup 中的属性和方法，但 setup 却不能访问到 vue2 中的配置。所以不建议混用。<br>如有重名，setup 中的优先，非异步组件，setup 中不能加 async，否则 return 返回的是 promise ，模版将读取不到<br>setup 在 beforeCreate 前会执行一次，其中的 this 为 undefined</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; h &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">//非响应式数据</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> b = <span class="number">2</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(a, b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="comment">//返回对象，可在模板中直接使用</span></span><br><span class="line">      <span class="attr">c</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">d</span>: <span class="string">&quot;xx&quot;</span>,</span><br><span class="line">      test,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//也可以返回渲染函数，但此时模板中的内容将全部无效</span></span><br><span class="line">    <span class="comment">//return ()=&gt;&#123;h(&#x27;div&#x27;,&#x27;xxxx&#x27;)&#125;</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>传值</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;child a=<span class="string">&quot;1&quot;</span> b=<span class="string">&quot;2&quot;</span> @test=<span class="string">&quot;handle&quot;</span> &gt; <span class="xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:xxx</span>&gt;</span>s<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span>&lt;/child&gt;</span><br><span class="line"><span class="comment">//子组件</span></span><br><span class="line">props:[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>],</span><br><span class="line"><span class="attr">emits</span>:[<span class="string">&#x27;test&#x27;</span>]</span><br><span class="line"><span class="function"><span class="title">setup</span>(<span class="params">props,context</span>)</span>&#123;</span><br><span class="line"><span class="comment">//context.attrs-&gt;组件外传来但没有在props声明的属性</span></span><br><span class="line"><span class="comment">//context.emits</span></span><br><span class="line"><span class="comment">//context.slots</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h4><blockquote>
<p>定义一个响应式数据,模板中读取数据不用<code>.value</code>;基本类型使用的是<code>Object.defineProperty()</code>的 getter、setter 实现的，对象数据使用 reactive 函数</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">//响应式数据</span></span><br><span class="line">    <span class="keyword">let</span> a = ref(<span class="number">1</span>); <span class="comment">//引用实例对象</span></span><br><span class="line">    <span class="keyword">let</span> b = ref(&#123; <span class="attr">c</span>: <span class="number">1</span> &#125;);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      a.value = <span class="number">2</span>;</span><br><span class="line">      b.value.c = <span class="number">3</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(a, b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="comment">//返回对象，可在模板中直接使用</span></span><br><span class="line">      a,</span><br><span class="line">      b,</span><br><span class="line">      test,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="reative"><a href="#reative" class="headerlink" title="reative"></a>reative</h4><blockquote>
<p>定义一个对象类型的响应式数据（基本数据类型不用它)</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref, reactive &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">//响应式数据</span></span><br><span class="line">    <span class="keyword">let</span> a = ref(<span class="number">1</span>); <span class="comment">//引用实例对象</span></span><br><span class="line">    <span class="keyword">let</span> b = reactive(&#123; <span class="attr">c</span>: <span class="number">1</span> &#125;);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      a.value = <span class="number">2</span>;</span><br><span class="line">      b.c = <span class="number">3</span>; <span class="comment">//不用.value</span></span><br><span class="line">      <span class="built_in">console</span>.log(a, b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="comment">//返回对象，可在模板中直接使用</span></span><br><span class="line">      a,</span><br><span class="line">      b,</span><br><span class="line">      test,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="computed"><a href="#computed" class="headerlink" title="computed"></a>computed</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; computed &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">//响应式数据</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">1</span>; <span class="comment">//引用实例对象</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> d = computed(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">let</span> b = computed(&#123;</span><br><span class="line">      <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="function"><span class="title">set</span>(<span class="params">value</span>)</span> &#123;&#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="comment">//返回对象，可在模板中直接使用</span></span><br><span class="line">      a,</span><br><span class="line">      b,</span><br><span class="line">      test,</span><br><span class="line">      d,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;watch,ref&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">   <span class="attr">name</span>:<span class="string">&#x27;App&#x27;</span>,</span><br><span class="line">   <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="comment">//响应式数据</span></span><br><span class="line">      <span class="keyword">let</span> a=ref(<span class="number">1</span>);<span class="comment">//引用实例对象</span></span><br><span class="line">      <span class="keyword">let</span> b=ref(<span class="number">1</span>);<span class="comment">//引用实例对象</span></span><br><span class="line">      watch(a,<span class="function">(<span class="params">newVal,oldVal</span>)=&gt;</span>&#123;<span class="comment">//监听ref定义的响应式数据,不用加.value</span></span><br><span class="line">      &#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>,<span class="attr">depp</span>:<span class="literal">true</span>&#125;)</span><br><span class="line"></span><br><span class="line">      watch([a,b],<span class="function">(<span class="params">newVal,oldVal</span>)=&gt;</span>&#123;<span class="comment">//监听多个ref定义的响应式数据</span></span><br><span class="line">      <span class="comment">//newVal-&gt;[.....]</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">let</span> person=ref(&#123;</span><br><span class="line">         <span class="attr">a</span>:<span class="number">1</span>,</span><br><span class="line">         <span class="attr">b</span>:&#123;<span class="attr">c</span>:<span class="number">2</span>&#125;</span><br><span class="line">      &#125;)</span><br><span class="line">watch(person,<span class="function">(<span class="params">newVal,oldVal</span>)=&gt;</span>&#123;&#125;)<span class="comment">//不会有效果，因为value的值为proxy属性，只有它变才会检测到，内部的数据变不会触发</span></span><br><span class="line"><span class="comment">//应使用</span></span><br><span class="line">watch(person.value,<span class="function">(<span class="params">newVal,oldVal</span>)=&gt;</span>&#123;&#125;)<span class="comment">//或</span></span><br><span class="line">watch(person,<span class="function">(<span class="params">newVal,oldVal</span>)=&gt;</span>&#123;&#125;,&#123;<span class="attr">deep</span>:<span class="literal">true</span>&#125;)</span><br><span class="line"><span class="comment">//-------------------------------------------------</span></span><br><span class="line">      <span class="comment">//使用reative定义的数据，无法正确获取oldvalue,无法关闭深度监视，</span></span><br><span class="line">      <span class="keyword">let</span> person=reative(&#123;</span><br><span class="line">         <span class="attr">a</span>:<span class="number">1</span>,</span><br><span class="line">         <span class="attr">b</span>:&#123;<span class="attr">c</span>:<span class="number">2</span>&#125;</span><br><span class="line">      &#125;)</span><br><span class="line">watch(person,<span class="function">(<span class="params">newVal,oldVal</span>)=&gt;</span>&#123;&#125;)</span><br><span class="line"><span class="comment">//监听reative定义的对象的某一属性,必须写成函数</span></span><br><span class="line">watch(<span class="function">()=&gt;</span>&#123;<span class="keyword">return</span> person.a&#125;,<span class="function">(<span class="params">newval</span>)=&gt;</span>&#123;&#125;)</span><br><span class="line"><span class="comment">//监听reative定义的对象的某些属性,必须写成函数</span></span><br><span class="line">watch([<span class="function">()=&gt;</span>&#123;<span class="keyword">return</span> person.a&#125;,...],<span class="function">(<span class="params">newval</span>)=&gt;</span>&#123;&#125;)</span><br><span class="line"> <span class="comment">//监听reative定义的对象的某个对象,必须加上deep</span></span><br><span class="line">watch(<span class="function">()=&gt;</span>&#123;<span class="keyword">return</span> person.b&#125;,<span class="function">(<span class="params">newval</span>)=&gt;</span>&#123;&#125;,&#123;<span class="attr">deep</span>:<span class="literal">true</span>&#125;)</span><br><span class="line"><span class="comment">//-----------------------------------------------------------</span></span><br><span class="line">watchEffect(<span class="function">()=&gt;</span>&#123;<span class="comment">//内部用到谁，就会监测谁</span></span><br><span class="line"><span class="keyword">let</span> x=person.a</span><br><span class="line">&#125;)</span><br><span class="line">     <span class="keyword">return</span> &#123;<span class="comment">//返回对象，可在模板中直接使用</span></span><br><span class="line">         a,b,</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="响应式-API：工具函数"><a href="#响应式-API：工具函数" class="headerlink" title="响应式 API：工具函数"></a>响应式 API：工具函数</h2><h4 id="自定义-hooks-函数-组合式函数"><a href="#自定义-hooks-函数-组合式函数" class="headerlink" title="自定义 hooks 函数(组合式函数)"></a>自定义 hooks 函数(组合式函数)</h4><blockquote>
<p>本质是个函数，将 setup 中的函数进行封装,类似 vue2 中 mixin</p>
</blockquote>
<ul>
<li>test.js</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;ref ,onMount&#125; <span class="keyword">from</span> <span class="string">&#x27;Vue&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="keyword">let</span> b=ref(<span class="number">2</span>)</span><br><span class="line">   onMount(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">      b.value++</span><br><span class="line">   &#125;)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">a</span>:<span class="number">2</span></span><br><span class="line">      ,b</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> defalut test</span><br></pre></td></tr></table></figure>

<ul>
<li>xxx.vue</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">import</span> test form <span class="string">&#x27;./test.js&#x27;</span></span><br><span class="line"><span class="function"><span class="title">setup</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">let</span> a=test()</span><br><span class="line"><span class="keyword">return</span> &#123;a&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="isRef-unRef"><a href="#isRef-unRef" class="headerlink" title="isRef|unRef"></a>isRef|unRef</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#检查某个值是否为 ref。</span></span><br><span class="line"><span class="keyword">let</span> foo: unknown;</span><br><span class="line"><span class="keyword">if</span> (isRef(foo)) &#123;</span><br><span class="line">  foo.value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果参数是 ref，则返回内部值，否则返回参数本身</span></span><br><span class="line"><span class="comment">//val = isRef(val) ? val.value : val //语法糖</span></span><br><span class="line"><span class="keyword">const</span> unwrapped = unref(foo);</span><br></pre></td></tr></table></figure>

<h4 id="toRef-toRefs"><a href="#toRef-toRefs" class="headerlink" title="toRef|toRefs"></a>toRef|toRefs</h4><blockquote>
<p>创建一个 ref 对象，其 value 值指向另一个对象中的某个属性,将对象中的某个属性单独提供给外部使用（这样创建的 ref 与其源属性保持同步：改变源属性的值将更新 ref 的值，反之亦然）</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;onBeforeMount&#125; <span class="keyword">from</span> <span class="string">&#x27;Vue&#x27;</span></span><br><span class="line"><span class="function"><span class="title">setup</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="keyword">let</span> person=reative(&#123;</span><br><span class="line">      <span class="attr">name</span>:<span class="string">&#x27;xx&#x27;</span>,</span><br><span class="line">      <span class="attr">a</span>:<span class="number">1</span>,</span><br><span class="line">      <span class="attr">b</span>:&#123;<span class="attr">c</span>:<span class="number">2</span>&#125;</span><br><span class="line">   &#125;)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> t=toRefs(person) <span class="comment">//创建多个</span></span><br><span class="line">   <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">a</span>:person.a,<span class="comment">//不是响应式</span></span><br><span class="line">      <span class="attr">c</span>:ref(person.b.c),<span class="comment">//创建了一个新的实例对象，修改数据不会改变原数据</span></span><br><span class="line">      <span class="attr">c</span>:toRef(person.b,<span class="string">&#x27;c&#x27;</span>)</span><br><span class="line">      <span class="attr">name</span>:toRef(person,<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">      ...toRefs(person)<span class="comment">//全部</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="shallowReative-shallowRef"><a href="#shallowReative-shallowRef" class="headerlink" title="shallowReative||shallowRef"></a>shallowReative||shallowRef</h4><blockquote>
<p>shallowReative 只处理对象最外层属性响应式,shallowRef 只处理基本数据响应式，不进行对象的响应式(提升性能)</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = shallowReative(&#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: &#123;</span><br><span class="line">    <span class="attr">c</span>: <span class="number">1</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">let</span> person2 = shallowRef(&#123; <span class="attr">a</span>: <span class="number">1</span> &#125;);</span><br></pre></td></tr></table></figure>

<h4 id="readonly-shallowReadonly"><a href="#readonly-shallowReadonly" class="headerlink" title="readonly||shallowReadonly"></a>readonly||shallowReadonly</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = Reative(&#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: &#123;</span><br><span class="line">    <span class="attr">c</span>: <span class="number">1</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">person = readonly(person); <span class="comment">//深只读,保护数据</span></span><br><span class="line">person = shallowReadonly(person); <span class="comment">//浅只读</span></span><br></pre></td></tr></table></figure>

<h4 id="isProxy-isReactive-isReadonly"><a href="#isProxy-isReactive-isReadonly" class="headerlink" title="isProxy()||isReactive()||isReadonly()"></a>isProxy()||isReactive()||isReadonly()</h4><ul>
<li>isReactive()​<br>检查一个对象是否是由 reactive() 或 shallowReactive() 创建的代理。</li>
<li>isProxy()​<br>检查一个对象是否是由 reactive()、readonly()、shallowReactive() 或 shallowReadonly() 创建的代理。</li>
<li>isReadonly()<br>检查传入的值是否为只读对象。只读对象的属性可以更改，但他们不能通过传入的对象直接赋值。<br>通过 readonly() 和 shallowReadonly() 创建的代理都是只读的，因为他们是没有 set 函数的 computed() ref。</li>
</ul>
<h4 id="toRaw-markRaw"><a href="#toRaw-markRaw" class="headerlink" title="toRaw||markRaw"></a>toRaw||markRaw</h4><blockquote>
<p>将 reactive 生成的响应式数据转换为普通对象,ref 的不行</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = Reative(&#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: &#123;</span><br><span class="line">    <span class="attr">c</span>: <span class="number">1</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">person = roRaw(person); <span class="comment">//转化为原始数据</span></span><br><span class="line">person = markRaw(person); <span class="comment">//标记一个对象，使其永远不再成为响应式对象</span></span><br></pre></td></tr></table></figure>

<h4 id="customRef-​"><a href="#customRef-​" class="headerlink" title="customRef()​"></a>customRef()​</h4><blockquote>
<p>创建一个自定义的 ref，显式声明对其依赖追踪和更新触发的控制方式。<br>customRef() 预期接收一个工厂函数作为参数，这个工厂函数接受 track 和 trigger 两个函数作为参数，并返回一个带有 get 和 set 方法的对象。</p>
</blockquote>
<p>一般来说，track() 应该在 get() 方法中调用，而 trigger() 应该在 set() 中调用。然而事实上，你对何时调用、是否应该调用他们有完全的控制权。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; customRef &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">useDebouncedRef</span>(<span class="params">value, delay = <span class="number">200</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timeout;</span><br><span class="line">  <span class="keyword">return</span> customRef(<span class="function">(<span class="params">track, trigger</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        track();</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="function"><span class="title">set</span>(<span class="params">newValue</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">        timeout = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          value = newValue;</span><br><span class="line">          trigger();</span><br><span class="line">        &#125;, delay);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在组件中使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; useDebouncedRef &#125; from &quot;./debouncedRef&quot;;</span><br><span class="line">const text = useDebouncedRef(&quot;hello&quot;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;input v-model=&quot;text&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h4 id="provide-inject"><a href="#provide-inject" class="headerlink" title="provide||inject"></a>provide||inject</h4><blockquote>
<p>祖孙组件通信</p>
</blockquote>
<ul>
<li>祖组件</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = Reative(&#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: &#123;</span><br><span class="line">    <span class="attr">c</span>: <span class="number">1</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">provide(<span class="string">&quot;test&quot;</span>, person);</span><br></pre></td></tr></table></figure>

<ul>
<li>孙组件</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x=inject(<span class="string">&#x27;test)</span></span><br></pre></td></tr></table></figure>

<h3 id="内置组件"><a href="#内置组件" class="headerlink" title="内置组件"></a>内置组件</h3><h4 id="teleport"><a href="#teleport" class="headerlink" title="teleport"></a>teleport</h4><blockquote>
<p>是一个内置组件，它可以将一个组件内部的一部分模板“传送”到该组件的 DOM 结构外层的位置去。如：一个组件模板的一部分在逻辑上从属于该组件，但从整个应用视图的角度来看，它在 DOM 中应该被渲染在整个 Vue 应用外部的其他地方。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Teleport 接收一个 to prop 来指定传送的目标。to 的值可以是一个 CSS 选择器字符串，也可以是一个 DOM 元素对象，&lt;Teleport&gt; 挂载时，传送的 to 目标必须已经存在于 DOM 中--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">teleport</span> <span class="attr">to</span>=<span class="string">&quot;body&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">teleport</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">teleport</span> <span class="attr">to</span>=<span class="string">&quot;#xxx&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">teleport</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">teleport</span> <span class="attr">:disabled</span>=<span class="string">&quot;false&quot;</span> <span class="attr">to</span>=<span class="string">&quot;#xxx&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">teleport</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="vue3-0-响应式"><a href="#vue3-0-响应式" class="headerlink" title="vue3.0 响应式"></a>vue3.0 响应式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: <span class="string">&quot;xxx&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Proxy</span>(person, &#123;</span><br><span class="line">  <span class="function"><span class="title">get</span>(<span class="params">target, propName</span>)</span> &#123;</span><br><span class="line">    <span class="comment">//读取属性</span></span><br><span class="line">    <span class="comment">//target:原对象</span></span><br><span class="line">    <span class="comment">//propName：读取的属性名</span></span><br><span class="line">    <span class="comment">//return target[propName]//普通操作</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Reflect</span>.get(target, propName); <span class="comment">//reflect 可减少写错误捕获</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">set</span>(<span class="params">target, propName, value</span>)</span> &#123;</span><br><span class="line">    <span class="comment">//修改属性或增加属性时调用</span></span><br><span class="line">    <span class="comment">//value：修改的值</span></span><br><span class="line">    <span class="comment">//target[propName]=value</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Reflect</span>.set(target, prop, value);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">deleteProperty</span>(<span class="params">target, propName</span>)</span> &#123;</span><br><span class="line">    <span class="comment">//删除属性</span></span><br><span class="line">    <span class="comment">//return delete target[propName]</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Reflect</span>.deleteProperty(target, prop);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;); <span class="comment">//代理</span></span><br></pre></td></tr></table></figure>

<h3 id="vue3-0-生命周期"><a href="#vue3-0-生命周期" class="headerlink" title="vue3.0 生命周期"></a>vue3.0 生命周期</h3><blockquote>
<p>beforeCreate-&gt;created-&gt;beforeMount-&gt;mounted-&gt;beforeUpdate-&gt;updated-&gt;beforeUnmount-&gt;unmounted</p>
</blockquote>
<ul>
<li>beforeCreate===&gt;setup()</li>
<li>created===&gt;setup()</li>
<li>beforeMount===&gt;onBeforeMount</li>
<li>beforeUpdate===&gt;onBeforeUpdate</li>
<li>Updated===&gt;onUpdated</li>
<li>beforeUnmount===&gt;onBeforeUnmount</li>
<li>unmounted===&gt;onUnmounted</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">....</span><br><span class="line"><span class="keyword">import</span> &#123;onBeforeMount&#125; <span class="keyword">from</span> <span class="string">&#x27;Vue&#x27;</span></span><br><span class="line"><span class="function"><span class="title">setup</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">onBeforeMount(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log()</span><br><span class="line">&#125;)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//配置项写法优先级要低于组合式 api 写法</span></span><br><span class="line"><span class="function"><span class="title">beforeMount</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;xxx&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><p>安装 Vue Router：<code>npm install vue-router</code></p>
<ul>
<li>router/index.js</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// history模式</span></span><br><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHashHistory &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">&quot;../pages/Home.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> About <span class="keyword">from</span> <span class="string">&quot;../pages/About.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  <span class="comment">// 路由的默认路径</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    <span class="attr">redirect</span>: <span class="string">&quot;/home&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/home&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;…/pages/Home.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: About,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建路由对象</span></span><br><span class="line"><span class="keyword">const</span> router = createRouter(&#123;</span><br><span class="line">  <span class="attr">history</span>: createWebHashHistory(),</span><br><span class="line">  routes,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>

<ul>
<li>main.js</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;./router&quot;</span>;</span><br><span class="line">createApp(App).use(router).mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>使用</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useRouter &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> router = useRouter();</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">goto</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      router.push(<span class="string">&quot;/about&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">       goto  <span class="comment">//一定要要放在return里才能在模板上面使用</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h2 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a>vuex</h2><p>npm 安装 vuex。<code>npm install vuex@next --save</code></p>
<ul>
<li>store/index.js</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">modules</span>: &#123;&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>首先从 vuex 中引入 useStore 函数，他的返回值就是一个 vuex 实例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;vuex中的数据&#123;&#123; store.state.count &#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; defineComponent &#125; from &quot;vue&quot;;</span><br><span class="line">import &#123; useStore &#125; from &quot;vuex&quot;;</span><br><span class="line">export default defineComponent(&#123;</span><br><span class="line">  name: &quot;index&quot;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    const store = useStore();</span><br><span class="line">    return &#123; store &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>vue3 的 router 文件引入 vuex</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//错误引入</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> $store = useStore();</span><br><span class="line"><span class="built_in">console</span>.log($store); <span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//正确引入</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> myStore <span class="keyword">from</span> <span class="string">&quot;@/store/index.js&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> $store = myStore;</span><br><span class="line"><span class="built_in">console</span>.log($store);</span><br></pre></td></tr></table></figure>

<h2 id="less"><a href="#less" class="headerlink" title="less"></a>less</h2><p>安装：<code>npm i less-loader less --save-dev</code></p>
<h2 id="sass"><a href="#sass" class="headerlink" title="sass"></a>sass</h2><p>安装：<code>npm install node-sass sass-loader --save-dev</code><br>文件使用 scss 后缀写 style 时声明 lang=scss</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">  <span class="comment">/*这里是scss不是sass，这个是因为scss是sass3引入进来的，scss语法有&quot;&#123;&#125;&quot;,&quot;;&quot;而sass没有，所以sass-loader对他们的解析是不一样的</span></span></span><br><span class="line"><span class="comment"><span class="css"># 这里写样式</span></span></span><br><span class="line"><span class="comment"><span class="css">*/</span></span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>可以声明使用变量</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$color</span>: black;</span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$color</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以封装函数，通过 @mixin 声明函数，该函数创建颜色 style,不传参默认黑色</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> create_<span class="attribute">color</span>(<span class="variable">$color</span>: black) &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">$color</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过@import 引入封装函数的文件，通过@include 调用函数</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">     <span class="keyword">@import</span> <span class="string">&quot;src/assets/sass/mixin.scss&quot;</span>;</span><br><span class="line">    <span class="selector-class">.container</span>&#123;</span><br><span class="line">      <span class="selector-tag">a</span> &#123;</span><br><span class="line">        <span class="keyword">@include</span> create_<span class="attribute">color</span>(red);</span><br><span class="line">     &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="antdesign"><a href="#antdesign" class="headerlink" title="antdesign"></a>antdesign</h2><p>安装 antdesign</p>
<p><code>npm i --save ant-design-vue@next</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Antd <span class="keyword">from</span> <span class="string">&quot;ant-design-vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;ant-design-vue/dist/antd.css&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> app = createApp(App);</span><br><span class="line">app.use(Antd);</span><br></pre></td></tr></table></figure>

<p>vue3 引用 ant-design-vue 编译运行时，可能会报错 can’t read property undefine 错误</p>
<p>执行下面命令就行</p>
<p><code>npm i --save ant-design-vue@next -S</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vue3解析component: router-view失败</span><br><span class="line">解决：</span><br><span class="line"><span class="comment">//app.use(router) 需放在app.mount(&#x27;#app&#x27;)前面  不然加载时router-view、router-link等未被渲染</span></span><br></pre></td></tr></table></figure>

<h3 id="清空数组的几个方式"><a href="#清空数组的几个方式" class="headerlink" title="清空数组的几个方式"></a>清空数组的几个方式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用ref()</span></span><br><span class="line"><span class="keyword">const</span> array = ref([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line">array.value = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用slice,不过需要注意要使用ref</span></span><br><span class="line">array.value = array.value.slice(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//length赋值为0,支持reactive,而且，这种只会触发一次watch</span></span><br><span class="line">array.value.length = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用splice,可以使用reactive,不过要注意，watch会触发多次</span></span><br><span class="line">array.splice(<span class="number">0</span>, array.length);</span><br></pre></td></tr></table></figure>

<h3 id="Vue3-中废弃了-set-的概念"><a href="#Vue3-中废弃了-set-的概念" class="headerlink" title="Vue3 中废弃了$set 的概念"></a>Vue3 中废弃了$set 的概念</h3><p>原因就是 Vue2 中的数据响应式是利用 object.definedProperty()实现的，它是无法深层监听数据的变化的。</p>
<p>而 Vue3，用的是 ES6 的 proxy，对数据响应式进行一个数据的代理。这个就厉害了啊，结合 Vue3 的 composition API。</p>
<p>Vue3 中的 reactivity API：</p>
<ul>
<li>reactive</li>
<li>readonly</li>
<li>ref</li>
<li>computed</li>
</ul>
<p>如果想要让一个对象变为响应式数据，可以使用 reactive 或 ref</p>
<h3 id="vue3-0-中使用-nextTick"><a href="#vue3-0-中使用-nextTick" class="headerlink" title="vue3.0 中使用 nextTick"></a>vue3.0 中使用 nextTick</h3><p>nextTick 是将回调推迟到下一个 DOM 更新周期之后执行。在更改了一些数据以等待 DOM 更新后立即使用它</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; nextTick &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">...</span><br><span class="line"> setup () &#123;</span><br><span class="line">    <span class="keyword">let</span> otherParam = reactive(&#123;</span><br><span class="line">      <span class="attr">showA</span>:<span class="literal">false</span></span><br><span class="line">    &#125;)</span><br><span class="line">    nextTick(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">      otherParam.showA = <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">      otherParam</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="vue3-使用-ref-获取元素"><a href="#vue3-使用-ref-获取元素" class="headerlink" title="vue3 使用 ref 获取元素"></a>vue3 使用 ref 获取元素</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">&quot;hello&quot;</span>&gt;</span>xxxx<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">import</span> &#123; onMounted, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">const</span> hello = ref&lt;any&gt;(<span class="literal">null</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">onMounted(<span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">  <span class="built_in">console</span>.log(hello.value); &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>变量名称必须要与 ref 命名的属性名称一致。<br>通过 hello.value 的形式获取 DOM 元素。<br>必须要在 DOM 渲染完成后才可以获取 hello.value，否则就是 null</p>
<ul>
<li>v-for 中使用 ref</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div v-for=&quot;i in 10&quot; ref=&quot;hello&quot;&gt;xxxx&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; onMounted, ref &#125; from &quot;vue&quot;;</span><br><span class="line">const hello = ref([]);</span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">  console.log(hello.value);</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>ref 绑定函数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div</span><br><span class="line">    v-for=&quot;i in 10&quot;</span><br><span class="line">    :ref=&quot;</span><br><span class="line">      (el) =&gt; &#123;</span><br><span class="line">        hello(el, i);</span><br><span class="line">      &#125;</span><br><span class="line">    &quot;</span><br><span class="line">  &gt;</span><br><span class="line">    xxxx</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; onMounted, ref &#125; from &quot;vue&quot;;</span><br><span class="line">const hello = (el, index) =&gt; &#123;&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://a913481180.github.io/2020/11/11/20-33-33/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/11/20-33-33/" class="post-title-link" itemprop="url">数据结构</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-11 20:33:33" itemprop="dateCreated datePublished" datetime="2020-11-11T20:33:33+08:00">2020-11-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-14 23:12:11" itemprop="dateModified" datetime="2024-05-14T23:12:11+08:00">2024-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/study/" itemprop="url" rel="index"><span itemprop="name">study</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h1><h3 id="算法时间复杂度"><a href="#算法时间复杂度" class="headerlink" title="算法时间复杂度"></a>算法时间复杂度</h3><p>T(n)=O(f(n))</p>
<ol>
<li>用常数 1 取代运行时间中的所有加法常数，如多条 pintf 语句只运行 1 次即 O(1)</li>
<li>在修改后的运行次数函数中，只保留最高项</li>
<li>如果最高项不是 1，则去除最高项的常数如 3n^2 即 O(n^2)</li>
</ol>
<p>所耗时间<code>O(1)&lt;O(logn)&lt;O(n)&lt;O(nlogn)&lt;O(n^2)&lt;O(2^n)&lt;O(n!)&lt;O(n^n)</code></p>
<h3 id="线性表"><a href="#线性表" class="headerlink" title="线性表"></a>线性表</h3><p>由零个或多个数据元素组成的有限序列</p>
<p>[a1][a2]…[ai-1][ai][ai+1]….[an]<br>[ai-1]为[ai]的直接前驱元素<br>[ai+1]为[ai]的直接后继元素<br>每个元素有且只有一个前驱和后继元素，不存在一对多</p>
<p>抽象数据类型的形式定义</p>
<p>ADT=(D,S,P)</p>
<p>描述方法（伪码）：</p>
<p>ADT 抽象数据类型名{</p>
<p>数据对象：&lt;数据对象的定义&gt;</p>
<p>数据关系：&lt;数据关系的定义&gt;</p>
<p>基本操作：&lt;基本操作的定义&gt;</p>
<p>}ADT 抽象数据类型名</p>
<p>抽象数据类型的实现</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FALSE 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ERROR 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INFEASIBLE -1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OVERFLOW -2</span></span><br><span class="line"><span class="comment">//Status是函数的类型，其值是函数结果的状态代码</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Status;</span><br><span class="line">Status 函数名&#123;</span><br><span class="line"><span class="comment">//算法说明</span></span><br><span class="line">语句序列;</span><br><span class="line">&#125;<span class="comment">//函数名</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">ADT List&#123;</span><br><span class="line"> 数据对象：D=&#123;ai|ai∈ElemSet,i=<span class="number">1</span>,<span class="number">2</span>,...,n,n≥<span class="number">0</span>&#125;</span><br><span class="line"> 数据关系：R1=&#123;&lt;ai<span class="number">-1</span>,ai&gt;|ai<span class="number">-1</span>,ai∈D,i=<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,...,n&#125;</span><br><span class="line"> 基本操作：</span><br><span class="line"> InitList(&amp;L)</span><br><span class="line">  操作结果：构造一个空的线性表L。</span><br><span class="line"> DestroyList(&amp;L)</span><br><span class="line">  初始条件：线性表L已存在。</span><br><span class="line">  操作结果：销毁线性表L。</span><br><span class="line"> ClearList(&amp;L)</span><br><span class="line">  初始条件：线性表L已存在。</span><br><span class="line">  操作结果：将L重置为空表。</span><br><span class="line"> ListEmpty (L)</span><br><span class="line">  初始条件：线性表L已存在。</span><br><span class="line">  操作结果：若L为空表，则返回TRUE，否则返回FALSE。</span><br><span class="line"> ListLength(L)</span><br><span class="line">  初始条件：线性表L已存在。</span><br><span class="line">  操作结果：返回L中数据元素的个数。</span><br><span class="line"> GetElem(L,i,&amp;e)</span><br><span class="line">  初始条件：线性表L已存在，l≤i≤ListLength(L)。</span><br><span class="line">  操作结果：用e返回L中第i个数据元素的值。</span><br><span class="line"> LocateElem(L,e,compare())</span><br><span class="line">  初始条件：线性表L已存在，compare()是数据元素的判定函数。</span><br><span class="line">  操作结果：用e返回L中第<span class="number">1</span>个与e满足关系compare()的数据元素的位序。若这样的数据元素不存在，则返回值为<span class="number">0</span>。</span><br><span class="line"> PriorElem(L,cur_e,&amp;pre_e)</span><br><span class="line">  初始条件：线性表L已存在。</span><br><span class="line">  操作结果：若cur_e是L的数据元素，且不是第一个，则用pre_e返回它的前驱，否则操作失败，pre_e无定义。</span><br><span class="line"> NextElem(L,cur_e,&amp;next_e)</span><br><span class="line">  初始条件：线性表L已存在。</span><br><span class="line">  操作结果：若cur_e是L的数据元素，且不是最后一个，则用next_e返回它的前驱，否则操作失败，next_e无定义。</span><br><span class="line"> ListInsert(&amp;L,i,e)</span><br><span class="line">  初始条件：线性表L已存在，l≤i≤ListLength(L)+<span class="number">1</span>。</span><br><span class="line">  操作结果：在L中第i个位置之前插入新的数据元素e，L的长度加<span class="number">1.</span></span><br><span class="line"> ListDelete(&amp;L,i,&amp;e)</span><br><span class="line">  初始条件；线性表L已存在且非空，l≤i≤ListLength(L)。</span><br><span class="line">  操作结果：删除L中第i个数据元素，并用e返回其值，L长度减<span class="number">1.</span></span><br><span class="line"> ListTraverse(L,visit())</span><br><span class="line">  初始条件：线性表L已存在。</span><br><span class="line">  操作结果：依次对L的每个数据元素调用函数visit()。一旦visit()失败，则操作失败。</span><br><span class="line">&#125;ADT List</span><br></pre></td></tr></table></figure>

<h3 id="顺序存取"><a href="#顺序存取" class="headerlink" title="顺序存取"></a>顺序存取</h3><p>数组</p>
<h3 id="链式存取"><a href="#链式存取" class="headerlink" title="链式存取"></a>链式存取</h3><ul>
<li>单链表整表创建的算法思路：</li>
</ul>
<ol>
<li>声明一个结点 p 和计数器变量 n；</li>
<li>初始化一空链表 L；</li>
<li>让 L 的头结点的指针指向 NULL；</li>
<li>循环实现后继结点的赋值和插入；</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> DataType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">LNode</span>&#123;</span></span><br><span class="line"> DataType data;  <span class="comment">//数据域</span></span><br><span class="line"> <span class="class"><span class="keyword">struct</span> <span class="title">LNode</span> *<span class="title">next</span>;</span> <span class="comment">//指针域，指向下一个节点</span></span><br><span class="line">&#125;LNode,*LinkList;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建///</span></span><br><span class="line"><span class="comment">//声明函数</span></span><br><span class="line"><span class="function">LinkList <span class="title">CreateList</span><span class="params">(<span class="keyword">int</span> n)</span></span>; <span class="comment">//创建链表</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(LinkList h)</span></span>;  <span class="comment">//打印链表</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建链表</span></span><br><span class="line"><span class="function">LinkList <span class="title">CreateList</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"> <span class="comment">//定义指针L指向该链表即头指针，结点q为第一个结点，结点p为下一个结点</span></span><br><span class="line"> LinkList L,p,q;</span><br><span class="line"> <span class="comment">//为头指针申请空间</span></span><br><span class="line"> L=(LNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line"> <span class="keyword">if</span>(!L)&#123;<span class="keyword">return</span> <span class="number">0</span>;&#125;</span><br><span class="line"> <span class="comment">//头指针指向NULL即空链表</span></span><br><span class="line"> L-&gt;next =<span class="literal">NULL</span>;</span><br><span class="line"> <span class="comment">//第一个结点指向头指针</span></span><br><span class="line"> q=L;</span><br><span class="line"> <span class="comment">//循环创建链表结点</span></span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">  <span class="comment">//为下一个结点申请空间</span></span><br><span class="line">  p=(LinkList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;输入第%d个元素的值：&quot;</span>,i);</span><br><span class="line">  <span class="comment">//存入数据</span></span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;(p-&gt;data));</span><br><span class="line">  <span class="comment">//下一个结点的指针指向NULL，即尾部</span></span><br><span class="line">  p-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">  <span class="comment">//第一个结点的指针指向下一个结点,即上一个结点与该结点相连</span></span><br><span class="line">  q-&gt;next=p;</span><br><span class="line">  <span class="comment">//移动第一个结点到下一个结点</span></span><br><span class="line">  q=p;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//返回链表头部</span></span><br><span class="line"> <span class="keyword">return</span> L;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//打印链表</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span> <span class="params">(LinkList h)</span></span>&#123;</span><br><span class="line"> <span class="comment">//创建一个指针指向链表的第一个元素结点；</span></span><br><span class="line"> LinkList p=h-&gt;next;</span><br><span class="line"> <span class="comment">//当不是尾部时</span></span><br><span class="line"> <span class="keyword">while</span>(p!=<span class="literal">NULL</span>)&#123;</span><br><span class="line"> <span class="comment">//打印数据</span></span><br><span class="line"> <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,p-&gt;data);</span><br><span class="line"> <span class="comment">//移动到下一个元素</span></span><br><span class="line"> p=p-&gt;next;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span>&#123;</span><br><span class="line"> <span class="comment">//创建一个头指针并指向NULL；即空链表·</span></span><br><span class="line"> LinkList head=<span class="literal">NULL</span>;</span><br><span class="line"> <span class="comment">//输入结点个数n</span></span><br><span class="line"> <span class="keyword">int</span> n;</span><br><span class="line"> <span class="built_in">printf</span>(<span class="string">&quot;请输入链表长度：&quot;</span>);</span><br><span class="line"> <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line"> <span class="comment">//创建链表</span></span><br><span class="line"> head=CreateList(n);</span><br><span class="line"> <span class="comment">//打印链表</span></span><br><span class="line"> <span class="built_in">printf</span>(<span class="string">&quot;刚刚建立的各个链表元素的值为:\n&quot;</span>);</span><br><span class="line"> print(head);</span><br><span class="line"> <span class="built_in">printf</span>(<span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line"> <span class="comment">//按下任意键结束</span></span><br><span class="line"> getchar();</span><br><span class="line"> getchar();</span><br><span class="line"> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>单链表整表的删除算法思路：</li>
</ul>
<ol>
<li>声明结点 p 和 q；</li>
<li>将第一个接地赋值给 p，下一个结点赋值给 q；</li>
<li>循环执行释放 p 和将 q 赋值给 p 的操作；free(p)会同时把数据域和指针域同时删除</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//h为头指针</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">delect</span><span class="params">(LinkList h)</span></span>&#123;</span><br><span class="line">LinkList p,q;</span><br><span class="line">p=h-&gt;next; <span class="comment">//p指向第一个节点</span></span><br><span class="line"><span class="keyword">while</span>(p!=<span class="literal">NULL</span>)&#123;</span><br><span class="line">q=p-&gt;next; <span class="comment">//q指向第二个节点</span></span><br><span class="line"><span class="built_in">free</span>(p); <span class="comment">//删除第一个节点</span></span><br><span class="line">p=q;  <span class="comment">//p等于第二个节点</span></span><br><span class="line">&#125;</span><br><span class="line">h-&gt;next==<span class="literal">NULL</span>; <span class="comment">//头节点指向空</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>获取第 i 个数据的算法思路：</li>
</ul>
<ol>
<li>声明一个结点 p 指向链表第一个结点，初始化 j 从 1 开始；</li>
<li>当 j&lt;i 时,就遍历链表，让 p 的指针向后移动，不断指向下一个结点，j+1；</li>
<li>若到链表末尾 p 为空，则说明第 i 个元素不存在；</li>
<li>若查找成功则返回结点 p 的数据；</li>
</ol>
<ul>
<li>单链表第 i 个数据插入结点的算法思路：</li>
</ul>
<ol>
<li>将数据元素 e 赋值给 s-&gt;data 即 s-&gt;data=e;</li>
<li>s-next=p-&gt;next;</li>
<li>p-next=s;</li>
</ol>
<ul>
<li>单链表的删除</li>
</ul>
<ol>
<li>p-&gt;next=p-&gt;next-&gt;next;</li>
</ol>
<p>头指针不为空，头指针是链表的必要元素，头指针是链表指向第一个节点的指针。头结点在第一个元素的节点前，其数据一般无意义，但也可用来存放链表的长度。空链表头指针直接指向 null</p>
<h3 id="循环链表"><a href="#循环链表" class="headerlink" title="循环链表"></a>循环链表</h3><p>尾指针指向头指针</p>
<h3 id="双向链表"><a href="#双向链表" class="headerlink" title="双向链表"></a>双向链表</h3><p>结构：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">DualNode</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">DualNode</span> *<span class="title">prior</span>;</span>  <span class="comment">//前驱节点</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">DualNode</span> *<span class="title">next</span>;</span>  <span class="comment">//后继节点</span></span><br><span class="line">&#125;DualNode,*DuLinkList;</span><br></pre></td></tr></table></figure>

<p>插入操作</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//s为插入节点，p为后一个节点；</span></span><br><span class="line">s-&gt;next=p;</span><br><span class="line">s-&gt;prior=p-&gt;prior;</span><br><span class="line">p-&gt;prior-next=s;</span><br><span class="line">p-&gt;prior=s;</span><br></pre></td></tr></table></figure>

<p>删除操作：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除p节点</span></span><br><span class="line">p-&gt;prior-&gt;next=p-&gt;next;</span><br><span class="line">p-&gt;next-&gt;prior=p-&gt;prior;</span><br><span class="line"><span class="built_in">free</span>(p);</span><br></pre></td></tr></table></figure>

<h3 id="静态链表"><a href="#静态链表" class="headerlink" title="静态链表"></a>静态链表</h3><p>用数组描述的链表称为静态链表</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxsize 1000</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span>  data;<span class="comment">//数据</span></span><br><span class="line"><span class="keyword">int</span> cut;<span class="comment">//游标</span></span><br><span class="line">&#125;component,staticlinklist[maxsize]; <span class="comment">//结构体数组</span></span><br><span class="line"><span class="comment">//静态链表的初始化，相当于初始化数组:</span></span><br><span class="line"><span class="function">Status <span class="title">InitList</span><span class="params">(staticlinklist space)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;maxsize<span class="number">-1</span>;i++)</span><br><span class="line">&#123;space[i].cur=i+<span class="number">1</span>;&#125;</span><br><span class="line">space[maxsize<span class="number">-1</span>].cur=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span> Ok;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//第一个与最后一个元素不存放数据,最后一个元素的游标为0。数组的第一个元素即下标为0的那个元素的cur游标就存放备用链表的第一个结点的下标；最后一个元素即maxsize-1的游标cur则存放第一个有数据的元素的下标，相当于单链表中的头结点作用。</span></span><br><span class="line"><span class="comment">//静态链表中的插入和删除，只需修改游标</span></span><br></pre></td></tr></table></figure>

<h3 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h3><p>是一个先进后出的线性表，要求只在表尾进行删除和插入操作；对与栈来说，表尾称为栈的栈顶 top,表头称为栈底 bottom.<br>结构:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> *bottom; <span class="comment">//指向栈底的指针；</span></span><br><span class="line"><span class="keyword">int</span> *top;</span><br><span class="line"><span class="keyword">int</span> stacksize; <span class="comment">//指当前可使用的最大总量。</span></span><br><span class="line">&#125;sqStack;</span><br></pre></td></tr></table></figure>

<p>创建一个栈：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STACK_INIT_SIZE 100</span></span><br><span class="line">initStack(sqStack *s)&#123;</span><br><span class="line">s-&gt;bottom=(<span class="keyword">int</span>*)<span class="built_in">malloc</span>(STACK_INIT_SIZE*<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"><span class="keyword">if</span>(!s-&gt;base)&#123;<span class="built_in">exit</span>(<span class="number">0</span>);&#125;</span><br><span class="line">s-&gt;top=s-&gt;base;  <span class="comment">//开始栈顶就是栈底</span></span><br><span class="line">s-&gt;stacksize=STACK_INIT_SIZE;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//初始化</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initstack</span><span class="params">(sqStack *s)</span></span>&#123;</span><br><span class="line">s-&gt;bottom=(<span class="keyword">int</span>*)<span class="built_in">malloc</span>(STACK_INIT_SIZE*<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"><span class="keyword">if</span>(!s-bottom)&#123;<span class="built_in">exit</span>(<span class="number">0</span>);&#125;</span><br><span class="line">s-&gt;top=s-&gt;bottom;</span><br><span class="line">s-&gt;stacksize=STACK_INIT_SIZE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>入栈操作：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STACKINCREMENT 10</span></span><br><span class="line">push(sqStack *s,<span class="keyword">int</span> e);</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//栈满追加空间</span></span><br><span class="line"><span class="keyword">if</span> (s-&gt;top - s-&gt;bottom==s-&gt;stacksize) &#123;</span><br><span class="line">s-&gt;bottom=(<span class="keyword">int</span>*)<span class="built_in">realloc</span>(s-&gt;bottom,(s-&gt;stacksize+STACKINCREMENT)*<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"><span class="keyword">if</span>(!s-&gt;bottom)&#123;<span class="built_in">exit</span>(<span class="number">0</span>);&#125;</span><br><span class="line">s-&gt;top=s-&gt;bottom+s-&gt;stacksize;   <span class="comment">//设置栈顶</span></span><br><span class="line">s-&gt;stacksize=s-&gt;stacksize+STACKINCREMENT; <span class="comment">//重新设置栈的最大容量</span></span><br><span class="line">&#125;</span><br><span class="line">*(s-&gt;top)=e;</span><br><span class="line">s-&gt;top++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>出栈操作：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pop(sqStack *s, <span class="keyword">int</span> *e)&#123;</span><br><span class="line"><span class="keyword">if</span>(s-&gt;top==s-&gt;base)&#123;rerutn;&#125; <span class="comment">//栈空退出；</span></span><br><span class="line">*e=*--(s-&gt;top);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>清空栈：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">clearsqstack(sqStack *s)&#123;</span><br><span class="line">s-&gt;top=s-&gt;bottom;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>销毁一个栈：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">destroystack(sqStack *s)&#123;</span><br><span class="line"><span class="keyword">int</span> i,len;</span><br><span class="line">len=s-&gt;stacksize;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line"><span class="built_in">free</span>(s-&gt;bottom);</span><br><span class="line">s-&gt;bottom++;</span><br><span class="line">&#125;</span><br><span class="line">s-&gt;bottom=s-&gt;top=<span class="literal">NULL</span>;</span><br><span class="line">s-&gt;stacksize=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>计算栈容量：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">stacklen</span><span class="params">(sqStack *s)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span>(s.top-s.bottom);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>栈的存储结构：<br>顺序存储<br>链式存储：栈顶为单链表的头部</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">stackNode</span>&#123;</span></span><br><span class="line">ElemType data;  <span class="comment">//存放栈的数据</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stackNode</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;stackNode,*LinkStackPtr;</span><br><span class="line"><span class="keyword">typedef</span> strucct LinkStack&#123;</span><br><span class="line">LinkStackPtr top; <span class="comment">//top指针</span></span><br><span class="line"><span class="keyword">int</span> count;  <span class="comment">//计数器</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//栈链的进栈</span></span><br><span class="line"><span class="comment">//s为新节点，top为栈顶指针；</span></span><br><span class="line"><span class="function">Status <span class="title">push</span><span class="params">(LinkStack *s,ElemType e)</span></span>&#123;</span><br><span class="line">LinkStackPtr p=(LinkStackPtr)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LinkStackPtr));</span><br><span class="line">p-&gt;data=e;</span><br><span class="line">p-&gt;next=s-&gt;top;</span><br><span class="line">s-&gt;cont++;</span><br><span class="line"><span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//链表的出栈操作</span></span><br><span class="line"><span class="function">Status <span class="title">pop</span><span class="params">(LinkStack *s,ElemType *e)</span></span>&#123;</span><br><span class="line">LintStack p;</span><br><span class="line"><span class="keyword">if</span>(StackEmpty(*s))&#123;<span class="keyword">return</span> ERROR;&#125; <span class="comment">//判断是否为空栈</span></span><br><span class="line">*e=s-&gt;top-&gt;data;</span><br><span class="line">p=s-&gt;top;</span><br><span class="line">s-&gt;top=s-&gt;top-&gt;next;</span><br><span class="line"><span class="built_in">free</span>(p);</span><br><span class="line">s-&gt;count--;</span><br><span class="line"><span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h3><p>队列只允许在一端进行插入操作，在另一端进行删除操作的线性表（先进先出）</p>
<p>队列的链式存储结构</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">QNode</span>&#123;</span></span><br><span class="line">ElemType data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">QNode</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;QNode,*QueuePrt;</span><br><span class="line">type <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">QueuePrt front,rear; <span class="comment">//队头、尾指针；</span></span><br><span class="line">&#125;LinkQueue;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>创建队列：在内存中创建一个头结点，将队列的头、尾指针都指向这个生成的头结点，此时为空队列；</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">initQueue(LinkQueue *q)</span><br><span class="line">&#123;q-&gt;front=q-&gt;rear=(QueuePtr)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(QNode));</span><br><span class="line"><span class="keyword">if</span>(!q-&gt;front)&#123;<span class="built_in">exit</span>(<span class="number">0</span>);&#125;</span><br><span class="line">q-&gt;front-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>入队操作</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">InsertQueue(LinkQueue *q,ElemType e)&#123;</span><br><span class="line">QueuePtr p;</span><br><span class="line">p=(QueuePtr)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(QNode));</span><br><span class="line"><span class="keyword">if</span>(p==<span class="literal">NULL</span>)&#123;eixt(<span class="number">0</span>);&#125;</span><br><span class="line">p-&gt;data=e;</span><br><span class="line">p-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">q-&gt;rear-&gt;next=p;</span><br><span class="line">q-&gt;rear=p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>出队列</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DeleteQueue(LinkQueue *q,ElemType *e)&#123;</span><br><span class="line">Queueptr p;</span><br><span class="line"><span class="keyword">if</span>(q-&gt;front==q-&gt;rear)&#123;<span class="keyword">return</span>;&#125; <span class="comment">//判断队列是否为空；</span></span><br><span class="line">p=q-&gt;front-&gt;next;</span><br><span class="line">*e=p-&gt;data;</span><br><span class="line">q-&gt;front-&gt;next=p-&gt;next;</span><br><span class="line"><span class="keyword">if</span>(q-&gt;rear==p)&#123;q-&gt;rear=q-&gt;front;&#125;</span><br><span class="line"><span class="built_in">free</span>(p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>销毁一个队列</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DestroyQueue(LinkQueue *q)&#123;</span><br><span class="line"><span class="keyword">while</span>(q-&gt;front)&#123;</span><br><span class="line">q-&gt;rear=q-&gt;front-next;</span><br><span class="line"><span class="built_in">free</span>(q-&gt;front);</span><br><span class="line">q-&gt;front=q-&gt;rear;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="串"><a href="#串" class="headerlink" title="串"></a>串</h3><p>有零个或多个字符组成的有限序列<code>S=&#39;a1a2a3a4a5....&#39;</code></p>
<ul>
<li>串的长度：串中字符的个数</li>
<li>子串：串中任意个连续的字符串组成的子序列；</li>
<li>串中的位置：该字节在串中的序号，子串在主串中的位置以子串的第一个字符在主串中的位置来表示</li>
<li>空格串：有一个或多个空格组成的串</li>
<li>空串</li>
</ul>
<p>采用顺序存储称为顺序串，</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXLEN 255</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line"><span class="keyword">char</span> ch[MAXLEN+<span class="number">1</span>]; <span class="comment">//存储串的一维数组</span></span><br><span class="line"><span class="keyword">int</span> length; <span class="comment">//串的当前长度</span></span><br><span class="line">&#125;SString;</span><br></pre></td></tr></table></figure>

<p>采用链式存储称为链串；</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CHUNKSIZE 80  <span class="comment">//块大小</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Chunk</span>&#123;</span></span><br><span class="line"><span class="keyword">char</span> ch[CHUNKSIZE];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Chunk</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;Chunk;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">Chunk *head *tail; <span class="comment">//串的头尾指针</span></span><br><span class="line"><span class="keyword">int</span> curlen;  <span class="comment">//串的当前长度</span></span><br><span class="line">&#125;LString; <span class="comment">//字符串的块链结构</span></span><br></pre></td></tr></table></figure>

<h4 id="串的模式匹配算法"><a href="#串的模式匹配算法" class="headerlink" title="串的模式匹配算法"></a>串的模式匹配算法</h4><p>确定主串中子串（模式串）第一次出现的位置</p>
<ul>
<li>BF 算法(暴力破解法）</li>
</ul>
<p>先匹配第一个元素，再匹配第二个元素…..</p>
<ul>
<li>KMP 算法</li>
</ul>
<p>主串的指针 i 不用回溯，子串的指针 j 不一定回到开头；</p>
<p>next[j]:j 的下一个位置</p>
<p>当 j=1 时，next[j]=0;<br>其他情况，next[j]=1;<br>next[j]=max{1&lt;k&lt;j 且从头开始的 k-1 个元素等于 j 前面的 k-1 个元素”P1…P(k-1)”=”P(j-k+1)….P(j-1)”}</p>
<h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><p>方法或函数调用自身的方式称为递归调用，调用称为递，返回称为归。</p>
<ul>
<li><p>递归的优缺点？</p>
<p>1.优点：代码的表达力很强，写起来简洁。 2.缺点：空间复杂度高、有堆栈溢出风险、存在重复计算、过多的函数调用会耗时较多等问题。</p>
</li>
<li><p>一个问题只要同时满足以下 3 个条件，就可以用递归来解决： 1.问题的解可以分解为几个子问题的解。何为子问题？就是数据规模更小的问题。 2.问题与子问题，除了数据规模不同，求解思路完全一样 3.存在递归终止条件</p>
</li>
<li><p>解决方案</p>
<p>1.警惕堆栈溢出：可以声明一个全局变量来控制递归的深度，从而避免堆栈溢出。 2.警惕重复计算：通过某种数据结构来保存已经求解过的值，从而避免重复计算。</p>
</li>
</ul>
<h2 id="树"><a href="#树" class="headerlink" title="树"></a>树</h2><p>在一颗非空树中，有且只有一个根节点，结点拥有的子树树称为度；度为 0 的结点称为叶子或终端结点；不为 0 的结点称为分支结点或非终端结点；树的度是树内结点度的最大值；同一个双亲的孩子互称为兄弟；从根到该结点所经过分支上的结点称为祖先，从该结点到下面所有结点称为子孙；树中结点的最大层次称为树的深度；</p>
<p>从左到右是有次序的称为该树的有序树，否则称为无序树；<br>森林是 m 棵互不相交的树的集合；</p>
<h3 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h3><p>每个结点至多只有两棵子树，子树有左右之分，次序不能颠倒</p>
<p>在二叉树的第 i 层上至多有 2^(i-1)个结点</p>
<p>深度为 k 的二叉树至多有 2^k-1 个结点</p>
<p>终端结点数为 n0，度为 2 的结点数为 n，则 n0=n+1;</p>
<ul>
<li>满二叉树</li>
</ul>
<p>深度为 k 且结点数为 2^k-1 的二叉树</p>
<ul>
<li>完全二叉树</li>
</ul>
<p>每个结点都与满二叉树中的编号一一对应。</p>
<p>具有 n 个结点的完全二叉树的深度为[log(2)n]+1;</p>
<p>若 2i&gt;n，则结点 i 无左孩子，否则其左孩子是结点 2i；</p>
<p>若 2i+1&gt;n，则结点 i 无右孩子，否则其右孩子为结点 2i+1;</p>
<p>若 i&gt;1，则其双亲为结点[i/2]</p>
<ul>
<li><p>二叉树的存储结构</p>
<ul>
<li>顺序存储</li>
</ul>
</li>
</ul>
<p>将完全二叉树上编号为 i 的结点元素存储在一维数组中</p>
<ul>
<li>链式存储</li>
</ul>
<p>链表中的结点至少包含三个域：数据域、左右结点指针域；还可以增加一个指向其双亲的指针域；</p>
<ul>
<li><p>遍历二叉树</p>
<ul>
<li>先序遍历</li>
</ul>
</li>
</ul>
<p>根-左-右</p>
<ul>
<li>中序遍历</li>
</ul>
<p>左-根-右</p>
<ul>
<li>后续遍历</li>
</ul>
<p>左-右-根</p>
<ul>
<li>二叉链表</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BiTNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">ElemType data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BiTNode</span> *<span class="title">lchild</span>, *<span class="title">rchild</span>;</span></span><br><span class="line">&#125;BidTNode,*BiTree;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一颗二叉树，按照前序遍历的方式输入数据</span></span><br><span class="line">CreateBidTree(BiTree *T)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">char</span> c;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%c&quot;</span>,&amp;c);</span><br><span class="line"><span class="keyword">if</span>(<span class="string">&#x27; &#x27;</span>==c) <span class="comment">//空格表示结点无子树</span></span><br><span class="line">&#123;</span><br><span class="line">*T=<span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">*T=(BiTNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BiTNode));</span><br><span class="line">(*T)-&gt;data=c;</span><br><span class="line">CreateBiTree(&amp;(*T)-&gt;lchild);</span><br><span class="line">CreateBiTree(&amp;(*T)-&gt;rchild);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">visit()&#123;</span><br><span class="line"><span class="comment">//访问结点时的操作</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//遍历二叉树</span></span><br><span class="line">PreOrderTraverse(BidTree T,<span class="keyword">int</span> level)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(T)</span><br><span class="line">&#123;</span><br><span class="line">visit(T-&gt;data,level);</span><br><span class="line">PreOrderTraverse(T-&gt;lchild,level+<span class="number">1</span>);</span><br><span class="line">PreOrderTraverse(T-&gt;rchild,level+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> level=<span class="number">1</span>;</span><br><span class="line">BiTree T=NULl;</span><br><span class="line">CreateBiTree(&amp;T);</span><br><span class="line">PreOrderTraverse(T,level);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>线索二叉树</li>
</ul>
<p>将定义好的二叉树结构进行扩容：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>lchild</td>
<td>ltag</td>
<td>data</td>
<td>rtag</td>
<td>rchild</td>
</tr>
</tbody></table>
<blockquote>
<p>ltag=0 时,lchild 指向该结点的左孩子，为 1 时指向该结点的前驱。rtag=0，rchild 指向该结点的右孩子，为 1 时指向该结点的后继。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> ElemType;</span><br><span class="line"><span class="comment">//线索存储标志位</span></span><br><span class="line"><span class="comment">//Link(0):表示指向左右孩子的指针</span></span><br><span class="line"><span class="comment">//Thread(1):表示指向前驱后继的线索</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span>&#123;</span>Link,Thread&#125; PointerTag;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BiThrNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">char</span> data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BiThrNode</span> *<span class="title">lchild</span>, *<span class="title">rchild</span>;</span></span><br><span class="line">PointerNag ltag;</span><br><span class="line">PointerNag rTag;</span><br><span class="line">&#125;BiThrNode,*BiThrTree;</span><br><span class="line"></span><br><span class="line"><span class="comment">//全局变量，始终指向刚刚访问过的结点</span></span><br><span class="line">BiThrTree pre;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一棵二叉树，按照前序遍历的方式输入数据</span></span><br><span class="line">CreateBiThrTree(BiThrTree *T)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">char</span> c;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%c&quot;</span>,&amp;c);</span><br><span class="line"><span class="keyword">if</span>(<span class="string">&#x27; &#x27;</span>==c)&#123;</span><br><span class="line">*T=<span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">*T=(BiThrNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BiThrNode));</span><br><span class="line">(*T)-&gt;data=c;</span><br><span class="line">(*T)-&gt;ltag=Link;</span><br><span class="line">(*T)-&gt;rtag=Link;</span><br><span class="line"></span><br><span class="line">CreateBiThrTree(&amp;(*T)-&gt;lchild);</span><br><span class="line">CreateBiThrTree(&amp;(*T)-&gt;rchild);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//中序遍历线索</span></span><br><span class="line">InThreading(BiThrTree T)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(T)</span><br><span class="line">&#123;</span><br><span class="line">InThreading(T-&gt;lchild); <span class="comment">//递归左孩子线索化</span></span><br><span class="line"><span class="keyword">if</span>(!T-&gt;lchild) <span class="comment">//如果该节点没有左孩子，则设置ltag为thread，并把lchild指向刚刚访问过的结点</span></span><br><span class="line">&#123;</span><br><span class="line">T-&gt;ltag=Thread;</span><br><span class="line">T-&gt;lchild=pre;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(!pre-&gt;rchild)</span><br><span class="line">&#123;</span><br><span class="line">pre-&gt;rtag=Thread;</span><br><span class="line">Pre-&gt;rchild=T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Pre=T;</span><br><span class="line">InThreading(T-&gt;rchild);  <span class="comment">//递归右孩子线索化</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">InOrderThreading(BiThrTree *p,BiThrTree T)</span><br><span class="line">&#123;</span><br><span class="line">*p=(BiThrTree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BiThrNode));</span><br><span class="line">(*p)-&gt;ltag=Link;</span><br><span class="line">(*P)-&gt;rtag=Thread;</span><br><span class="line">(*p)-&gt;rchild=*p;</span><br><span class="line"><span class="keyword">if</span>(!T)&#123;</span><br><span class="line">(*P)-&gt;lchild=*p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">(*P)-&gt;lchild=T;</span><br><span class="line">Pre=*p;</span><br><span class="line">InThreading(T);</span><br><span class="line">Pre-&gt;rchild=*p;</span><br><span class="line">Pre-&gt;rtag=Thread;</span><br><span class="line">(*P)-&gt;rchild=Pre;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">BiThrTree P,T=<span class="literal">NULL</span>;</span><br><span class="line">CreateBiThrTree(&amp;T);</span><br><span class="line">InOrderThreading(&amp;P,T);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>普通树转换为二叉树</p>
<ol>
<li> 所有兄弟结点之间加一条连线</li>
<li> 对树中的每一个结点，只保留它与第一孩子结点的连线，删除它与其它孩子结点间的连线</li>
</ol>
</li>
<li><p>森林转换为二叉树</p>
<ol>
<li> 把每棵树转化为二叉树</li>
<li> 第一颗二叉树不动，从第二棵二叉树开始，依次把后一棵二叉树的根结点作为前一棵二叉树的根结点的右孩子，用线连起来</li>
</ol>
</li>
</ul>
<blockquote>
<p>树、森林的前序遍历和二叉树的前序遍历结果相同，后序遍历与二叉树的中序遍历结果相同。</p>
</blockquote>
<h2 id="图"><a href="#图" class="headerlink" title="图"></a>图</h2><p>图（Graph）是由顶点的有穷非空集合和顶点之间边的集合组成，通常表示为：G（V，E）其中，G 表示一个图，V 是图 G 中顶点的集合，E 是图 G 中边的集合。</p>
<ul>
<li><p>图按照边的有无方向分为无向图和有向图。无向图由顶点和边组成，有向图由顶点和弧构成。弧有弧尾和弧头之分，带箭头一端为弧头。</p>
</li>
<li><p>图按照边或弧的多少分稀疏图和稠密图。如果图中的任意两个顶点之间都存在边叫做完全图，有向的叫有向完全图。若无重复的边或顶点到自身的边则叫简单图。</p>
</li>
<li><p>图中顶点之间有邻接点、依附的概念。无向图顶点的边数叫做度。有向图顶点分为入度和出度。</p>
</li>
<li><p>图上的边或弧带有权则称为网。</p>
</li>
<li><p>图中顶点间存在路径，两顶点存在路径则说明是连通的，如果路径最终回到起始点则称为环，当中不重复的叫简单路径。若任意两顶点都是连通的，则图就是连通图，有向则称为强连通图。图中有子图，若子图极大连通则就是连通分量，有向的则称为强连通分量。</p>
</li>
<li><p>无向图中连通且 n 个顶点 n-1 条边称为生成树。有向图中一顶点入度为 0 其余顶点入度为 1 的叫有向树。一个有向图由若干棵有向树构成生成森林。</p>
</li>
</ul>
<h3 id="图的存储结构"><a href="#图的存储结构" class="headerlink" title="图的存储结构"></a>图的存储结构</h3><ul>
<li>邻接矩阵</li>
</ul>
<p>用两个数组来表示图，一个一维数组里储存着顶点的信息，一个二维数组储存着图中的边或弧的信息。</p>
<blockquote>
<p>无向图的邻接矩阵是对称的</p>
</blockquote>
<blockquote>
<p>有向图的邻接矩阵可能是不对称的，顶点的度=顶点的出度+顶点的入度；</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MVNum 100 <span class="comment">//最大顶点数</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> VerTexType; <span class="comment">//设顶点的数据类型为字符型</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> ArcType;  <span class="comment">//假设边的权值类型为整型</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">VerTexType Vexs[MVNum];  <span class="comment">//顶点数组</span></span><br><span class="line">ArcType arcs[MVNum][MVNum] <span class="comment">//邻接矩阵</span></span><br><span class="line">&#125;AMGraph;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在顶点数组中查找顶点</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LocateVex</span><span class="params">(AMGraph G,VertexType u)</span></span>&#123;</span><br><span class="line"><span class="comment">//查找顶点u，返回下标</span></span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;G.vexnum;++i)&#123;</span><br><span class="line"><span class="keyword">if</span>(U==G.vexs[i])&#123;</span><br><span class="line"><span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">reruen <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">status <span class="title">CreateUDN</span><span class="params">(AMGraph &amp;G)</span></span>&#123;</span><br><span class="line"><span class="comment">//创建无向网G</span></span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;G.vexnum&gt;&gt;G.arcnum; <span class="comment">//输入总顶点数，总边数</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;G.vexnum;++i)</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;G.vexs[i];  <span class="comment">//依次输入点的信息</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;G.vexnum;++i) <span class="comment">//初始化邻接矩阵</span></span><br><span class="line"><span class="keyword">for</span> (j=<span class="number">0</span>;j&lt;G.vexnum;++j)</span><br><span class="line">G.arcs[i][j]=MaxInt; <span class="comment">//边的权值均为最大值</span></span><br><span class="line">fof(k=<span class="number">0</span>;k&lt;G.arcnum;++k)&#123; <span class="comment">//构造邻接矩阵</span></span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;v1&gt;&gt;v2&gt;&gt;w;   <span class="comment">//输入一条边所依附的顶点及边的权值</span></span><br><span class="line">i=LocateVex(G,v1);</span><br><span class="line">j=LocateVex(G,v2); <span class="comment">//确定v1和v2在G中的位置</span></span><br><span class="line">G.arcs[i][j]=w;  <span class="comment">//边&lt;v1,v2&gt;的权值置为w</span></span><br><span class="line">G.arcs[j][i]=G.arcs[i][j]; <span class="comment">//&lt;v1,v2&gt;的对称边&lt;v2,v1&gt;的权值为w</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>邻接表</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>缺点</th>
<th>改进方法</th>
</tr>
</thead>
<tbody><tr>
<td>有向图</td>
<td>求各结点的度困难</td>
<td>十字链表</td>
</tr>
<tr>
<td>无向图</td>
<td>每条边都要存储两遍</td>
<td>邻接多重表</td>
</tr>
</tbody></table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">VNode</span>&#123;</span></span><br><span class="line">VerTexType data; <span class="comment">//顶点信息</span></span><br><span class="line">ArcNode *firstarc; <span class="comment">//指向第一条依附该顶点的边的指针</span></span><br><span class="line">&#125;VNode，AdjList[MVNum]; <span class="comment">//AdjList表示邻接表类型</span></span><br><span class="line"></span><br><span class="line"><span class="function">status <span class="title">CreateUDG</span><span class="params">(ALGragh &amp;G)</span></span>&#123; <span class="comment">//创建无向图G</span></span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;G.vexnum&gt;&gt;G.arcnum; <span class="comment">//输入图G的顶点，边个数</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;G.vexnum;++i)&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;Gvertices[i].data;  <span class="comment">//输入顶点值</span></span><br><span class="line">G.vertices[i].firsarc=<span class="literal">NULL</span>; <span class="comment">//初始化表头结点的指针域</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(k=<span class="number">0</span>;k&lt;G.arcnum;++k)&#123; <span class="comment">//输入各边</span></span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;v1&gt;&gt;v3;</span><br><span class="line">i=LocateVex(G,v1);</span><br><span class="line">j=LocateVex(G,v2);</span><br><span class="line">p1=<span class="keyword">new</span> ArcNode;  <span class="comment">//生成一个新的边结点*p1</span></span><br><span class="line">p1-&gt;adjvex=j;  <span class="comment">//邻接点序号为j</span></span><br><span class="line">p1-&gt;nextarc=G.vertices[i].firstarc;</span><br><span class="line">G.vertices[i].firstarc=p1;;  <span class="comment">//将新结点*p1插入顶点vi的边表头部</span></span><br><span class="line">p2=<span class="keyword">new</span> ArcNode;  <span class="comment">//生成另一个对称的新的边结点*p2</span></span><br><span class="line">p2-&gt;adjvex=i;  <span class="comment">//邻接点序号为i</span></span><br><span class="line">p2-&gt;nextarc=G.vertices[j].firstarc;</span><br><span class="line">G.vertices[j].firstarc=p2; <span class="comment">//将新结点*p2插入顶点vj的边表头部</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="遍历方法"><a href="#遍历方法" class="headerlink" title="遍历方法"></a>遍历方法</h2><ul>
<li>深度优先遍历</li>
</ul>
<p>也称深度优先搜索（DFS）</p>
<p>右手原则：在没有碰到重复顶点的情况下，分叉路口始终是向右手边走，每路过一个顶点就做一个记号。</p>
<ul>
<li>广度优先遍历<br>又称广度优先搜索（BFS）</li>
</ul>
<p>普利姆算法<br>克鲁斯卡尔算法</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://a913481180.github.io/2020/11/11/20-33-33/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KK">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KK">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/11/20-33-33/" class="post-title-link" itemprop="url">前端规范</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-11 20:33:33" itemprop="dateCreated datePublished" datetime="2020-11-11T20:33:33+08:00">2020-11-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-14 23:12:11" itemprop="dateModified" datetime="2024-05-14T23:12:11+08:00">2024-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index"><span itemprop="name">web</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="一、命名规范"><a href="#一、命名规范" class="headerlink" title="一、命名规范"></a>一、命名规范</h2><h3 id="1-项目命名"><a href="#1-项目命名" class="headerlink" title="1.项目命名"></a>1.项目命名</h3><p>全部采用<code>kebab-case</code>命名，字母小写，以短横分隔单词。</p>
<p>正例： <code>my-project-name</code></p>
<p>反例：<code>my_project_name / myProjectName</code></p>
<h3 id="2-目录命名"><a href="#2-目录命名" class="headerlink" title="2.目录命名"></a>2.目录命名</h3><ul>
<li>全部采用<code>kebab-case</code>命名，字母小写，以短横分隔单词。</li>
<li>有复数结构时，要采用复数命名法，缩写不用复数。</li>
</ul>
<p>正例：<code>scripts/styles/components/images/assets/views/utils/custom-themes/layout/img/doc/api/router</code></p>
<p>反例：<code>script / style /util / imgs / docs / apis / routers</code></p>
<h3 id="3-文件命名"><a href="#3-文件命名" class="headerlink" title="3.文件命名"></a>3.文件命名</h3><p>全部采用<code>kebab-case</code>命名，字母小写，以短横分隔单词。</p>
<p>正例：<code>render-dom.js / home.css / home-banner.png</code><br>反例：<code>renderDom.js / Home.css / homeBanner.png</code></p>
<h3 id="4-命名严谨性"><a href="#4-命名严谨性" class="headerlink" title="4.命名严谨性"></a>4.命名严谨性</h3><ul>
<li>命名严禁拼音和英文混合方式，更不允许直接使用中文。</li>
<li>地名或者国际通用名称，可以视同英文。</li>
<li>使用有意义且规范的缩写，避免望文不知义。</li>
</ul>
<p>正例：</p>
<p><code>rmb / shenzhen / guangdong / henan / wuhan logout / login / err / res</code><br>反例：</p>
<p><code>daZhePromotion 打折 / getPingFen 获得评分 / let 年龄 = 3 AbstractClass 缩写为 AbsClass / CalculateAmount 缩写为 CaAmount</code></p>
<h2 id="二、HTML-规范"><a href="#二、HTML-规范" class="headerlink" title="二、HTML 规范"></a>二、HTML 规范</h2><h3 id="1-声明规范"><a href="#1-声明规范" class="headerlink" title="1.声明规范"></a>1.声明规范</h3><h4 id="1-1-声明文档类型"><a href="#1-1-声明文档类型" class="headerlink" title="1.1 声明文档类型"></a>1.1 声明文档类型</h4><p>文档类型声明位于<code>HTML</code>文档的第一行，大小写必须遵守。</p>
<p>正例：<code>&lt;!DOCTYPE html&gt;</code></p>
<p>反例：<code>&lt;!doctype html&gt;</code></p>
<h4 id="1-2-声明-charset"><a href="#1-2-声明-charset" class="headerlink" title="1.2 声明 charset"></a>1.2 声明 charset</h4><p>必须在文档中声明编码集<code>charset</code> ，且文件本身编码需要保持一致，推荐都使用<code>utf-8</code>。制定字符编码的<code>meta</code>必须是<code>head</code>中的第一个元素。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="1-3-声明-meta"><a href="#1-3-声明-meta" class="headerlink" title="1.3 声明 meta"></a>1.3 声明 meta</h4><p>在<code>head</code>中声明，跟随在<code>charset</code>之后，且自闭合标签。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;your keywords&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;this is a description&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="1-4-声明-title"><a href="#1-4-声明-title" class="headerlink" title="1.4 声明 title"></a>1.4 声明 title</h4><p>必须声明<code>title</code>，且紧随最后一个<code>meta</code>之后。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;your keywords&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;this is a description&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>页面标题<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="1-5-声明-link"><a href="#1-5-声明-link" class="headerlink" title="1.5 声明 link"></a>1.5 声明 link</h4><p>引入了外部样式，紧随<code>title</code>之后，同时网站的标签也需要设置<code>icon</code>图标。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;your keywords&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;this is a description&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>页面标题<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://xxx.com/favicon.ico&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;http://xxx.com/index.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="1-6-声明-script"><a href="#1-6-声明-script" class="headerlink" title="1.6 声明 script"></a>1.6 声明 script</h4><p>由于 <code>js</code> 加载会阻塞页面渲染，<code>script</code> 元素需要声明在 <code>body</code> 标签的尾部，并且是需要闭合标签的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://xxx.com/index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="1-7-模板示例"><a href="#1-7-模板示例" class="headerlink" title="1.7 模板示例"></a>1.7 模板示例</h4><p>以下是一个整合后 <code>html</code> 代码规范示例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;your keywords&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;this is a description&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>页面标题<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;http://xxx.com/index.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是一个标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 加载脚本 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://xxx.com/index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-代码规范"><a href="#2-代码规范" class="headerlink" title="2.代码规范"></a>2.代码规范</h3><h4 id="2-1-代码缩进"><a href="#2-1-代码缩进" class="headerlink" title="2.1 代码缩进"></a>2.1 代码缩进</h4><p>缩进使用 soft tab（4 个空格）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>代码为4个空格缩进<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-2-标签命名"><a href="#2-2-标签命名" class="headerlink" title="2.2 标签命名"></a>2.2 标签命名</h4><p>标签元素名统一小写，不可大小写混合，必须有结尾标签相呼应。</p>
<p>正例：<code>&lt;div&gt;&lt;/div&gt;</code><br>反例：<code>&lt;DIV&gt;&lt;/DIV&gt;</code></p>
<h4 id="2-3-属性命名"><a href="#2-3-属性命名" class="headerlink" title="2.3 属性命名"></a>2.3 属性命名</h4><p>标签属性和自定义属性采用<code>kebab-case</code>命名，字母小写，以短横分隔单词，并且必须是双引号。</p>
<p>正例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;text-error&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-id</span>=<span class="string">&quot;1&quot;</span> <span class="attr">data-user-name</span>=<span class="string">&quot;xiaoming&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;text-error&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">dataId</span>=<span class="string">&quot;1&quot;</span> <span class="attr">dataUserName</span>=<span class="string">&quot;xiaoming&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-4-属性顺序"><a href="#2-4-属性顺序" class="headerlink" title="2.4 属性顺序"></a>2.4 属性顺序</h4><p>标签的属性需要按照顺序来书写，以下规则是极力推荐使用的。</p>
<p>样式名<br><code>class</code></p>
<p>全局唯一标识<br><code>id</code><br><code>name</code></p>
<p>自定义属性（可复用的元素样式排首位）<br><code>data-xx</code></p>
<p>资源地址/类型（可复用的元素样式排首位）<br><code>href</code><br><code>src</code><br><code>for</code><br><code>type</code></p>
<p>提示性的内容<br><code>placeholder</code><br><code>title</code><br><code>alt</code></p>
<p>辅助性的内容<br><code>disabled</code><br><code>readonly</code><br><code>required</code><br><code>checked</code><br><code>selected</code></p>
<h4 id="2-5-语义化标签"><a href="#2-5-语义化标签" class="headerlink" title="2.5 语义化标签"></a>2.5 语义化标签</h4><p><code>html</code> 中包含了大量的语义化标签，推荐开发中合理的使用语义化的标签，便于页面结构化，易于阅读，更好的便于网页内容抓取。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 头部内容 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 主要内容 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 尾部内容 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>以下列举出常见的语义化标签集合：</p>
<table>
<thead>
<tr>
<th>标签</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>header</td>
<td>头部内容</td>
</tr>
<tr>
<td>nav</td>
<td>导航</td>
</tr>
<tr>
<td>main</td>
<td>主要内容</td>
</tr>
<tr>
<td>footer</td>
<td>底部内容</td>
</tr>
<tr>
<td>aside</td>
<td>侧边栏</td>
</tr>
<tr>
<td>section</td>
<td>文档中的节</td>
</tr>
<tr>
<td>article</td>
<td>文章</td>
</tr>
<tr>
<td>time</td>
<td>时间</td>
</tr>
<tr>
<td>mark</td>
<td>文本标记</td>
</tr>
</tbody></table>
<h4 id="2-6-结构顺序"><a href="#2-6-结构顺序" class="headerlink" title="2.6 结构顺序"></a>2.6 结构顺序</h4><p>除了使用语义化标签，一个网页还需要遵守一定的结构和顺序，自上而下，从左到右，保持一定的顺序。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;app-container&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- header --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header-container&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- main --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main-container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left-box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content-box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- footer --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;footer-container&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-7-图片-alt-不为空"><a href="#2-7-图片-alt-不为空" class="headerlink" title="2.7 图片 alt 不为空"></a>2.7 图片 alt 不为空</h4><p><code>&lt;img&gt;</code>标签的 <code>alt </code>属性指定了替代文本，在图像无法显示时候替代的文案显示。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;http://www.xxx.com/dd.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;加载中&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-注释规范"><a href="#3-注释规范" class="headerlink" title="3.注释规范"></a>3.注释规范</h3><h4 id="3-1-单行注释"><a href="#3-1-单行注释" class="headerlink" title="3.1 单行注释"></a>3.1 单行注释</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 单行注释 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-2-多行注释"><a href="#3-2-多行注释" class="headerlink" title="3.2 多行注释"></a>3.2 多行注释</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">    多行注释</span></span><br><span class="line"><span class="comment">    多行注释</span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-3-闭合注释"><a href="#3-3-闭合注释" class="headerlink" title="3.3 闭合注释"></a>3.3 闭合注释</h4><p>有时我们需要用注释来标记某段代码的开头和结束，就需要用到闭合注释（本规范中叫做闭合注释）。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 注释开头 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- /注释结束 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="三、CSS-规范"><a href="#三、CSS-规范" class="headerlink" title="三、CSS 规范"></a>三、CSS 规范</h2><h3 id="1-声明规范-1"><a href="#1-声明规范-1" class="headerlink" title="1.声明规范"></a>1.声明规范</h3><h4 id="1-1-link-标签-引入-css"><a href="#1-1-link-标签-引入-css" class="headerlink" title="1.1 link 标签 引入 css"></a>1.1 link 标签 引入 css</h4><p>使用 link 标签引入外部 css，写在 head 中。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;//xxx.com/index.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="1-2-import-导入-css-文件"><a href="#1-2-import-导入-css-文件" class="headerlink" title="1.2 @import 导入 css 文件"></a>1.2 @import 导入 css 文件</h4><p>导入 css 文件使用 @import，忽略使用 url 导入。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 推荐</span><br><span class="line">@import &quot;./styles/index.css&quot;;</span><br><span class="line"></span><br><span class="line">// 不推荐</span><br><span class="line">@import url(&quot;./styles/index.css&quot;);</span><br></pre></td></tr></table></figure>

<h3 id="2-代码规范-1"><a href="#2-代码规范-1" class="headerlink" title="2.代码规范"></a>2.代码规范</h3><h4 id="2-1-代码缩进-1"><a href="#2-1-代码缩进-1" class="headerlink" title="2.1 代码缩进"></a>2.1 代码缩进</h4><p>统一使用 4 空格缩进。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.page-title</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-2-属性简写"><a href="#2-2-属性简写" class="headerlink" title="2.2 属性简写"></a>2.2 属性简写</h4><p>样式中有很多属性是可以简写的，推荐这样的方式，易读且减少了复杂度。</p>
<p>正例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.page-title</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">30px</span> <span class="number">10px</span> <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.page-title</span> &#123;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">padding-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-3-省略属性值-0-的单位"><a href="#2-3-省略属性值-0-的单位" class="headerlink" title="2.3 省略属性值 0 的单位"></a>2.3 省略属性值 0 的单位</h4><p>正例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.page-title</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.page-title</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">0px</span> <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">10px</span> <span class="number">0px</span> <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-4-使用直接子选择器"><a href="#2-4-使用直接子选择器" class="headerlink" title="2.4 使用直接子选择器"></a>2.4 使用直接子选择器</h4><p>在嵌套写选择器链的时候，应该减少后代选择器，改用直接子选择器，也就是多写个 &gt;符号定位到元素，优点是 css 渲染效率更高。</p>
<p>正例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.tabs</span> &gt; <span class="selector-class">.tabs-title</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.tabs</span> <span class="selector-class">.tabs-title</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-5-避免使用-id-和标签选择器"><a href="#2-5-避免使用-id-和标签选择器" class="headerlink" title="2.5 避免使用 id 和标签选择器"></a>2.5 避免使用 id 和标签选择器</h4><p>应该避免使用这两个选择器，以防止污染全局样式。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    .page-title &#123;</span><br><span class="line">      font-size: 18px;</span><br><span class="line">    &#125;</span><br><span class="line">    .page-title .user-name &#123;</span><br><span class="line">      color: red;</span><br><span class="line">    &#125;</span><br><span class="line">    .my-demo &#123;</span><br><span class="line">      font-weight: bold;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"> &lt;div class=&quot;page-title&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;user-name&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;p class=&quot;my-demo&quot;&gt;&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;style&gt;</span><br><span class="line">		#page-title &#123;</span><br><span class="line">          font-size: 18px;</span><br><span class="line">        &#125;</span><br><span class="line">        p &#123;</span><br><span class="line">          font-weight: bold;</span><br><span class="line">        &#125;</span><br><span class="line">	&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;page-title&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;p&gt;&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h4 id="2-6-避免使用行内样式"><a href="#2-6-避免使用行内样式" class="headerlink" title="2.6 避免使用行内样式"></a>2.6 避免使用行内样式</h4><p>避免直接在标签写 style 行内样式，这样样式会很分散不易维护，最好是把样式提取到一个 class 中。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">.text-red &#123;</span><br><span class="line">    font-size: 18px;</span><br><span class="line">    color: red;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"> &lt;div class=&quot;text-red&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;font-size:18px; color:red;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-7-避免使用-important-优先级"><a href="#2-7-避免使用-important-优先级" class="headerlink" title="2.7 避免使用 !important 优先级"></a>2.7 避免使用 !important 优先级</h4><p>非必须不要使用 !important 强制设置优先级最高，滥用出现问题会导致代码难以维护。</p>
<h4 id="2-8-避免样式过多层级嵌套"><a href="#2-8-避免样式过多层级嵌套" class="headerlink" title="2.8 避免样式过多层级嵌套"></a>2.8 避免样式过多层级嵌套</h4><p>在使用 less 或者 scss 预编译语言时候，应该避免层级过多嵌套。过多的层级会显得很乱，难以阅读和维护，建议最多层级在 3 层最佳，同样层次多也可以拆分开。<br>正例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 减少层级 */</span></span><br><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">  <span class="selector-class">.page-title</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 拆分层级也可以 */</span></span><br><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">  <span class="selector-class">.page</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.page</span> &#123;</span><br><span class="line">  <span class="selector-class">.title</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">  <span class="selector-class">.page</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="selector-class">.title</span> &#123;</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">      <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-9-禁止使用“-”选择元素"><a href="#2-9-禁止使用“-”选择元素" class="headerlink" title="2.9 禁止使用“*”选择元素"></a>2.9 禁止使用“*”选择元素</h4><p>不能使用*选择器来给元素设置样式，这样会使所有的元素都起作用。</p>
<p>反例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 不能这样写 */</span></span><br><span class="line"> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-10-禁止将样式写为单行"><a href="#2-10-禁止将样式写为单行" class="headerlink" title="2.10 禁止将样式写为单行"></a>2.10 禁止将样式写为单行</h4><p>不要把样式都放同一行，这样是不允许的。</p>
<p>反例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 不能这样写 */</span></span><br><span class="line"><span class="selector-class">.text-red</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>非必须避免使用 !important ，因为会强制设置为优先级最高，滥用出现问题导致代码难以维护。</p>
<h4 id="2-11-css-的颜色值规则"><a href="#2-11-css-的颜色值规则" class="headerlink" title="2.11 css 的颜色值规则"></a>2.11 css 的颜色值规则</h4><ul>
<li>颜色值默认使用十六进制表示，字母全部小写。</li>
<li>有透明度的要用 rgba 颜色值，最后一个透明度值需要写完整的小数。</li>
<li>颜色值全部一样，则缩减为 3 位数值。</li>
</ul>
<p>正例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.demo</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#abcdef</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.8</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.demo</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#abcdef</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333333</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#cccccc</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-12-样式属性书写顺序"><a href="#2-12-样式属性书写顺序" class="headerlink" title="2.12 样式属性书写顺序"></a>2.12 样式属性书写顺序</h4><p>按照一定的顺序书写样式，可以提升浏览器渲染 dom 的性能，本规范中该项非必须。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.hotel-content</span> &#123;</span><br><span class="line">  <span class="comment">/* 1. 定位 */</span></span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="comment">/* 2. 盒子模型 */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">  <span class="comment">/* 3. 文本 */</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="comment">/* 4. 背景 */</span></span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="comment">/* 5. 其他 */</span></span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.2s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-13-样式命名规则"><a href="#2-13-样式命名规则" class="headerlink" title="2.13 样式命名规则"></a>2.13 样式命名规则</h4><p>第一种：</p>
<p>推荐采用 BEM 命名规范，BEM 命名就是通过 块(block)、元素(element)、修饰符(modifier)来连接组合元素之间的关系，例如： type-block__element–modifier。<br>该命名虽然能比较透明的展示出结构，但是也会有缺点，命名过于严格，类名太长，不易维护。</p>
<ul>
<li>单中划线：连接某个块与下面的子模块。</li>
<li>__ 双下划线：连接块和块的子元素。</li>
<li>– 双中划线：描述该块或者子元素的一种状态。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    /* 原生CSS写法 */</span><br><span class="line">    .tabs &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    .tabs .tabs-inner .tabs-inner__button &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    .tabs .tabs-inner .tabs-inner__button .tabs-inner__button--primary &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    /* Less或者Scss写法 */</span><br><span class="line">    .tabs &#123;</span><br><span class="line">      &amp;-inner &#123;</span><br><span class="line">        &amp;__button &#123;</span><br><span class="line">          &amp;--primary &#123;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;tabs&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;tabs-inner&quot;&gt;</span><br><span class="line">      &lt;button class=&quot;tabs-inner__button tabs-inner__button--primary&quot;&gt;</span><br><span class="line">        选项1</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">      &lt;button class=&quot;tabs-inner__button&quot;&gt;选项2&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>第二种（推荐）：</p>
<ul>
<li>使用命名空间的方式来组合元素层级之间的关系，使用语义化的单词来当做命名空间区分不同模块。</li>
<li>该命名是把元素都放到某个块下面单独定义样式，这样不会影响到其它块下面的样式。如下示例：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    /* 原生CSS写法 */</span><br><span class="line">    .message .title &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    .message .content &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    /* Less或者Scss写法 */</span><br><span class="line">    .message &#123;</span><br><span class="line">      .title &#123;</span><br><span class="line">      &#125;</span><br><span class="line">      .content &#123;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;!-- message --&gt;</span><br><span class="line">  &lt;div class=&quot;message&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;title&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;content&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3-注释规范-1"><a href="#3-注释规范-1" class="headerlink" title="3. 注释规范"></a>3. 注释规范</h3><h4 id="3-1-单行注释-1"><a href="#3-1-单行注释-1" class="headerlink" title="3.1 单行注释"></a>3.1 单行注释</h4><p>单行注释以 /_ 开头，以 _/ 结束，注意前后各空一格。<br>在 less 或者 scss 中也可以使用双斜杠 // 作为单行注释*</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 单行注释 */</span></span><br><span class="line"><span class="selector-class">.tabs</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-2-多行注释-1"><a href="#3-2-多行注释-1" class="headerlink" title="3.2 多行注释"></a>3.2 多行注释</h4><p>多行需要换行，每行前面没有 * 号，每行对齐前面空一格。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  多行注释1</span></span><br><span class="line"><span class="comment">  多行注释2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="selector-class">.tabs</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-3-块注释"><a href="#3-3-块注释" class="headerlink" title="3.3 块注释"></a>3.3 块注释</h4><ul>
<li><p>块注释以 /_ 开头，以 _/ 结束，前后各空一格。</p>
</li>
<li><p>块注释用于划分某个模块的标记，需要写上块描述。</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/* 用户模块样式 */</span><br><span class="line">.user &#123;</span><br><span class="line">&#125;</span><br><span class="line">.user .user-name &#123;</span><br><span class="line">&#125;</span><br><span class="line">/* 弹框模块样式 */</span><br><span class="line">.modal &#123;</span><br><span class="line">&#125;</span><br><span class="line">.modal .modal-title &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-4-特殊注释"><a href="#3-4-特殊注释" class="headerlink" title="3.4 特殊注释"></a>3.4 特殊注释</h4><p>用于标注修改、待办等信息，需要写上作者和时间等信息。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/* TODO: 标签页样式待补充 by 小红 2022-03-13 18:32 */</span><br><span class="line">/* BUGFIX: 修复标签页的bug by 小红 2022-03-13 18:32 */</span><br><span class="line">.tabs &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4.5 文件注释<br>文件注释以 /*_ 开头，以 _/ 结束。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * css文件描述</span><br><span class="line"> * @author: 小红</span><br><span class="line"> * @update: 2021-04-13 18:32</span><br><span class="line">   */</span><br><span class="line"></span><br><span class="line">/* 标签页 */</span><br><span class="line">.tabs &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-样式名参考"><a href="#4-样式名参考" class="headerlink" title="4.样式名参考"></a>4.样式名参考</h3><p>在编写页面时候，class 样式起名是件很痛苦的事，多写几层就没词可用了，以下列举出不同场景常用的名称，帮你找到合适你页面的样式名称。</p>
<p>使用 <code>kebab-case </code>命名，字母一律小写，用短横分隔单词。<br>如果单词过长，需要使用言简意赅的缩写单词表示。</p>
<h4 id="4-1-样式文件命名"><a href="#4-1-样式文件命名" class="headerlink" title="4.1 样式文件命名"></a>4.1 样式文件命名</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">index.css    // 一般用于首页建立样式</span><br><span class="line">head.css     // 头部样式，当多个页面头部设计风格相同时使用。</span><br><span class="line">base.css     // 共用样式。</span><br><span class="line">style.css    // 独立页面所使用的样式文件。</span><br><span class="line">global.css   // 页面样式基础，全局公用样式，页面中必须包含。</span><br><span class="line">layout.css   // 布局、版面样式，公用类型较多时使用，一般用在首页级页面和产品类页面中</span><br><span class="line">module.css   // 模块，用于产品类页，也可与其它样式配合使用。</span><br><span class="line">master.css   // 主要的样式表</span><br><span class="line">columns.css  // 专栏样式</span><br><span class="line">themes.css   // 主体样式</span><br><span class="line">forms.css    // 表单样式</span><br><span class="line">mend.css     // 补丁，基于以上样式进行的私有化修补。</span><br><span class="line">print.css    // 打印</span><br></pre></td></tr></table></figure>

<h4 id="4-2-页面结构命名"><a href="#4-2-页面结构命名" class="headerlink" title="4.2 页面结构命名"></a>4.2 页面结构命名</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">page         // 代表整个页面，用于最外层。</span><br><span class="line">wrap         // 外套，将所有元素包在一起的一个外围包，用于最外层</span><br><span class="line">wrapper      // 页面外围控制整体布局宽度，用于最外层</span><br><span class="line">container    // 一个整体容器，用于最外层</span><br><span class="line">head|header  // 页头区域，用于头部</span><br><span class="line">nav          // 导航条</span><br><span class="line">content      // 内容，网站中最重要的内容区域，用于网页中部主体</span><br><span class="line">main         // 网站中的主要区域（表示最重要的一块位置），用于中部主体内容</span><br><span class="line">column       // 栏目</span><br><span class="line">sidebar      // 侧栏</span><br><span class="line">foot|footer  // 页尾、页脚。网站一些附加信息放置区域，（或命名为 copyright）用于底部</span><br><span class="line">left|right|center  // 左右中</span><br></pre></td></tr></table></figure>

<h4 id="4-3-导航命名"><a href="#4-3-导航命名" class="headerlink" title="4.3 导航命名"></a>4.3 导航命名</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">nav|navbar|navigation|nav-wrapper  // 导航条或导航包，代表横向导航</span><br><span class="line">topnav     // 顶部导航</span><br><span class="line">mainbav    // 主导航</span><br><span class="line">subnav     // 子导航</span><br><span class="line">sidebar    // 边导航</span><br><span class="line">left-sidebar|sidebar-l   // 左导航</span><br><span class="line">right-sidebar|sidebar-r  // 右导航</span><br><span class="line">title      // 标题</span><br><span class="line">summary    // 摘要</span><br><span class="line">menu       // 菜单，区域包含一般的链接和菜单</span><br><span class="line">submenu    // 子菜单</span><br><span class="line">drop       // 下拉</span><br><span class="line">dorp-menu  // 下拉菜单</span><br><span class="line">links      // 链接菜单</span><br></pre></td></tr></table></figure>

<h4 id="4-4-功能命名"><a href="#4-4-功能命名" class="headerlink" title="4.4 功能命名"></a>4.4 功能命名</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">logo      // 标记网站logo标志</span><br><span class="line">banner    // 标语、广告条、顶部广告条</span><br><span class="line">login     // 登陆，（例如: 登录表单 form-login）</span><br><span class="line">loginbar  // 登录条</span><br><span class="line">register  // 注册</span><br><span class="line">tool|toolbar    // 工具条</span><br><span class="line">search          // 搜索</span><br><span class="line">searchbar       // 搜索条</span><br><span class="line">searchlnput     // 搜索输入框</span><br><span class="line">shop            // 功能区，表示现在的</span><br><span class="line">icon            // 小图标</span><br><span class="line">label           // 商标</span><br><span class="line">homepage        // 首页</span><br><span class="line">subpage         // 二级页面子页面</span><br><span class="line">hot             // 热门热点</span><br><span class="line">list            // 文章列表，（例如: 新闻列表 list-news）</span><br><span class="line">scroll          // 滚动</span><br><span class="line">tab             // 标签</span><br><span class="line">sitemap         // 网站地图</span><br><span class="line">msg|message     // 提示信息</span><br><span class="line">current         // 当前的</span><br><span class="line">joinus          // 加入</span><br><span class="line">status          // 状态</span><br><span class="line">btn             // 按钮，（例如: 搜索按钮可写成  btn-search）</span><br><span class="line">tips            // 小技巧</span><br><span class="line">note            // 注释</span><br><span class="line">guild           // 指南</span><br><span class="line">arr|arrow       // 标记箭头</span><br><span class="line">service         // 服务</span><br><span class="line">breadcrumb      // (即页面所处位置导航提示）</span><br><span class="line">download        // 下载</span><br><span class="line">vote            // 投票</span><br><span class="line">news            // 新闻</span><br><span class="line">siteinfo        // 网站信息</span><br><span class="line">partner         // 合作伙伴</span><br><span class="line">link|friendlink // 友情链接</span><br><span class="line">copyright       // 版权信息</span><br><span class="line">siteinfoCredits // 信誉</span><br><span class="line">siteinfoLegal   // 法律信息</span><br></pre></td></tr></table></figure>

<h2 id="四、JavaScript-规范"><a href="#四、JavaScript-规范" class="headerlink" title="四、JavaScript 规范"></a>四、JavaScript 规范</h2><h3 id="1-命名规范"><a href="#1-命名规范" class="headerlink" title="1. 命名规范"></a>1. 命名规范</h3><h4 id="1-1-引入资源"><a href="#1-1-引入资源" class="headerlink" title="1.1 引入资源"></a>1.1 引入资源</h4><ul>
<li>文件名不得包含空格。</li>
<li>采用<code>kebab-case</code> 命名，字母小写，以短横分隔单词。</li>
<li>引入资源推荐使用相对路径，不指定具体的协议(<code>http:</code>，<code>https:</code>)。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;//cdn.com/render-dom.min.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="1-2-文件命名"><a href="#1-2-文件命名" class="headerlink" title="1.2 文件命名"></a>1.2 文件命名</h4><p>全部采用 <code>kebab-case</code> 命名，字母小写，以短横分隔单词。</p>
<p>正例：<code>render-dom.js / home.js / get-user-info.js</code><br>反例：<code>renderDom.js / Home.js / getUserInfo.js</code></p>
<h4 id="1-3-声明变量"><a href="#1-3-声明变量" class="headerlink" title="1.3 声明变量"></a>1.3 声明变量</h4><ul>
<li>变量名使用 <code>camelCase</code> 驼峰命名。</li>
<li>不能以数字，特殊符号开头。</li>
<li>不能使用 JavaScript 关键字和保留字。</li>
<li>避免使用没有意义的命名。</li>
<li>变量名起名以 <code>类型+对象描述</code> 的规则。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let userId = 1;</span><br><span class="line">var userName = &quot;小红&quot;;</span><br><span class="line">let tableTitle = &quot;表格标题&quot;;</span><br></pre></td></tr></table></figure>

<h4 id="1-4-声明常量"><a href="#1-4-声明常量" class="headerlink" title="1.4 声明常量"></a>1.4 声明常量</h4><p>常量名使用全部大写命名，多个单词中间用<code>_</code>下划线分隔。</p>
<p>正例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> AMOUNT = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> MAX_COUNT = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> APPROVE_TYPE = &#123; <span class="attr">DOING</span>: <span class="number">1</span>, <span class="attr">APPROVED</span>: <span class="number">2</span> &#125;;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> amount = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> MAXCOUNT = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> APPROVETYPE = &#123; <span class="attr">DOING</span>: <span class="number">1</span>, <span class="attr">APPROVED</span>: <span class="number">2</span> &#125;;</span><br></pre></td></tr></table></figure>

<h4 id="1-5-形参命名"><a href="#1-5-形参命名" class="headerlink" title="1.5 形参命名"></a>1.5 形参命名</h4><p>形参本身是可以任意定义的，统一是为了更方便地复用/合并代码。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>i</td>
<td>索引</td>
<td>switchTab(i){}</td>
</tr>
<tr>
<td>i,v</td>
<td>值</td>
<td>list.forEach((i,v) =&gt;{})</td>
</tr>
<tr>
<td>e</td>
<td>事件</td>
<td>onInput(e){}</td>
</tr>
<tr>
<td>obj</td>
<td>对象</td>
<td>for(let obj of userList){}</td>
</tr>
<tr>
<td>arr</td>
<td>数组</td>
<td>let arr = []</td>
</tr>
<tr>
<td>fun</td>
<td>函数</td>
<td>callback(fun){}</td>
</tr>
<tr>
<td>item</td>
<td>列表项</td>
<td>list.map(item =&gt; {})</td>
</tr>
<tr>
<td>item,index</td>
<td>vue 遍历数组</td>
<td>v-for=”(item,index) in arr”</td>
</tr>
<tr>
<td>key,value</td>
<td>键值对</td>
<td>for(let [key,value] of arr){}</td>
</tr>
</tbody></table>
<h4 id="1-6-函数命名"><a href="#1-6-函数命名" class="headerlink" title="1.6 函数命名"></a>1.6 函数命名</h4><p>函数名使用 camelCase 驼峰命名，命名为动词形式，或者动词+名词形式。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function getName() &#123;&#125;</span><br><span class="line">function setName() &#123;&#125;</span><br><span class="line">function canEdit() &#123;&#125;</span><br><span class="line">function addUser() &#123;&#125;</span><br><span class="line">function hasCode() &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>如果是内部使用的私有函数，需要用 <code>_</code>符号作为前缀，写到文件最下面，并用按照功能进行分组，写上块注释。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/* 格式化内容 */</span><br><span class="line">function _formatText() &#123;&#125;</span><br><span class="line">function _formatMoney() &#123;&#125;</span><br><span class="line"></span><br><span class="line">/* 设置日期 */</span><br><span class="line">function _setDate() &#123;&#125;</span><br><span class="line">function _setMonth() &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>增删改查和查看详情，统一使用下面的单词。</p>
<p><code>add /delete / update / get / detail</code></p>
<p>附常用的动词列表：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">get 获取 | set 设置</span><br><span class="line">add 增加 | delete 删除</span><br><span class="line">start 启动 | launch 启动 | run 运行 | ready 准备 | stop 停止</span><br><span class="line">open 打开 | close 关闭</span><br><span class="line">read 读取 | write 写入 | save 保存</span><br><span class="line">load 载入 | unload 不加载</span><br><span class="line">create 创建 | destroy 销毁</span><br><span class="line">begin 开始 | start 开始 | end 结束</span><br><span class="line">from 从.. | to 到..</span><br><span class="line">backup 备份 | restore 恢复</span><br><span class="line">import 导入 | export 导出</span><br><span class="line">print 打印 | afterprint 打印机关闭</span><br><span class="line">split 分割 | merge 合并</span><br><span class="line">touch 轻按 | click 点击  | dblclick 双击 | drag 拖拽</span><br><span class="line">inject 注入 | extract 提取</span><br><span class="line">attach 附着 | detach 脱离</span><br><span class="line">bind 绑定 | separate 分离</span><br><span class="line">view 查看 | browse 浏览</span><br><span class="line">edit 编辑 | modify 修改 | update 更新 | upgrade 升级</span><br><span class="line">select 选取 | change 改变 | mark 标记</span><br><span class="line">copy 复制 | paste 粘贴</span><br><span class="line">do 做 | undo 撤销 | redo 重做</span><br><span class="line">insert 插入 | remove 移除 | revoke 撤销 |  revert 复原 | reset 重置</span><br><span class="line">clean 清理 | clear 清除</span><br><span class="line">index 索引 | sort 排序</span><br><span class="line">find 查找 | search 搜索</span><br><span class="line">increase 增加 | decrease 减少</span><br><span class="line">rise 上涨 | fall 下降</span><br><span class="line">play 播放 | pause 暂停</span><br><span class="line">forward 前进 | rewind 后退</span><br><span class="line">compile 编译 | execute 执行</span><br><span class="line">suspend 挂起 | complete 完成</span><br><span class="line">debug 调试 | trace 跟踪</span><br><span class="line">observe 观察 | listen 监听</span><br><span class="line">build 构建 | publish 发布</span><br><span class="line">input 输入 | output 输出</span><br><span class="line">encode 编码 | decode 解码</span><br><span class="line">encrypt 加密 | decrypt 解密</span><br><span class="line">compress 压缩 | decompress 解压缩</span><br><span class="line">pack 打包 | unpack 解包</span><br><span class="line">parse 解析 | emit 生成</span><br><span class="line">connect 连接 | disconnect 断开</span><br><span class="line">send 发送 | receive 接收</span><br><span class="line">upload 上传 | download 下载</span><br><span class="line">refresh 刷新 | synchronize 同步</span><br><span class="line">lock 锁定 | unlock 解锁</span><br><span class="line">check out 签出 | check in 签入</span><br><span class="line">submit 提交 | commit 交付</span><br><span class="line">push 推 | pull 拉</span><br><span class="line">expand 展开 | collapse 折叠</span><br><span class="line">active 激活 | deactive 未激活</span><br><span class="line">wait 等待 | process 进程中 | finish 完成</span><br><span class="line">enter 进入 | exit 退出</span><br><span class="line">abort 中止 | quit 离开</span><br><span class="line">obsolete 废弃 | depreciate 废旧</span><br><span class="line">collect 收集 | aggregate 聚集</span><br></pre></td></tr></table></figure>

<h3 id="2-代码规范-2"><a href="#2-代码规范-2" class="headerlink" title="2.代码规范"></a>2.代码规范</h3><h4 id="2-1-代码缩进-2"><a href="#2-1-代码缩进-2" class="headerlink" title="2.1 代码缩进"></a>2.1 代码缩进</h4><p>统一使用 <code>4</code> 个缩进</p>
<h4 id="2-2-代码行最大字符数"><a href="#2-2-代码行最大字符数" class="headerlink" title="2.2 代码行最大字符数"></a>2.2 代码行最大字符数</h4><p>统一每行最大 <code>80</code> 个字符，超出自动换行，<code>VsCode编辑器</code>默认是 <code>80</code> 个字符。</p>
<h4 id="2-3-使用-let-代替-var"><a href="#2-3-使用-let-代替-var" class="headerlink" title="2.3 使用 let 代替 var"></a>2.3 使用 let 代替 var</h4><p>声明变量推荐使用 <code>let</code> 代替 <code>var</code> 声明。<br><code>var</code> 会有变量提升问题，容易造成变量污染。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let userId = 2;</span><br><span class="line">let userName = &quot;小红&quot;;</span><br></pre></td></tr></table></figure>

<h4 id="2-4-多个变量声明简写"><a href="#2-4-多个变量声明简写" class="headerlink" title="2.4 多个变量声明简写"></a>2.4 多个变量声明简写</h4><p>同时声明多个变量，不需要每个都用 <code>let</code> 起一行声明，可以合并到一起。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let id = 2,</span><br><span class="line">  name = &quot;小红&quot;,</span><br><span class="line">  sex = &quot;女&quot;,</span><br><span class="line">  age = 18;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let id = 2;</span><br><span class="line">let name = &quot;小红&quot;;</span><br><span class="line">let sex = &quot;女&quot;;</span><br><span class="line">let age = 18;</span><br></pre></td></tr></table></figure>

<h4 id="2-5-使用模板字符串代替-“-”-拼接"><a href="#2-5-使用模板字符串代替-“-”-拼接" class="headerlink" title="2.5 使用模板字符串代替 “+” 拼接"></a>2.5 使用模板字符串代替 “+” 拼接</h4><p>在有变量拼接的场景下，尽量使用模板字符串来代替普通的“+”拼接，这样会使得代码结构更清晰。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let id = 2,</span><br><span class="line">  name = &quot;小红&quot;,</span><br><span class="line">  sex = &quot;女&quot;,</span><br><span class="line">  age = 18;</span><br><span class="line">let str = `我叫$&#123;name&#125;，性别$&#123;sex&#125;，我今年$&#123;age&#125;岁了。`;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let id = 2,</span><br><span class="line">  name = &quot;小红&quot;,</span><br><span class="line">  sex = &quot;女&quot;,</span><br><span class="line">  age = 18;</span><br><span class="line">let str = &quot;我叫&quot; + name + &quot;，性别&quot; + sex + &quot;，我今年&quot; + age + &quot;岁了。&quot;;</span><br></pre></td></tr></table></figure>

<h4 id="2-6-this-自身引用的命名"><a href="#2-6-this-自身引用的命名" class="headerlink" title="2.6 this 自身引用的命名"></a>2.6 this 自身引用的命名</h4><p>对上下文 this 的引用只能使用’_this’, ‘that’, ‘self’其中一个来命名；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let self = this;</span><br><span class="line">setTimeout(function () &#123;</span><br><span class="line">  self.say();</span><br><span class="line">&#125;, 1000);</span><br></pre></td></tr></table></figure>

<h4 id="2-7-避免-console-log-滥用"><a href="#2-7-避免-console-log-滥用" class="headerlink" title="2.7 避免 console.log 滥用"></a>2.7 避免 console.log 滥用</h4><p>避免大量使用 console.log，这样很影响代码执行效率。打印日志只作用看调试内容输出，不能代码里随意到处都写，在代码调试完成之后必须要删除。</p>
<h4 id="2-8-三元条件简单判断"><a href="#2-8-三元条件简单判断" class="headerlink" title="2.8 三元条件简单判断"></a>2.8 三元条件简单判断</h4><p>在简单的判断条件下，使用三元运算符能更加的精简代码，增加可读性。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let flag = 1;</span><br><span class="line">console.log(flag == 1 ? &quot;是&quot; : &quot;否&quot;);</span><br><span class="line">// 甚至再多一层判断也可以</span><br><span class="line">let status = 0;</span><br><span class="line">console.log(status == 0 ? &quot;代办&quot; : status == 1 ? &quot;已办&quot; : &quot;无&quot;);</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 这里 6 行代码，用三元运算符 2 行搞定</span><br><span class="line">let flag = 1;</span><br><span class="line">if (flag == 1) &#123;</span><br><span class="line">  console.log(&quot;是&quot;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  console.log(&quot;否&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-9-使用字面量对象"><a href="#2-9-使用字面量对象" class="headerlink" title="2.9 使用字面量对象"></a>2.9 使用字面量对象</h4><p>使用字面量创建对象，更加简洁。<br>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let user = &#123;</span><br><span class="line">  id: 1,</span><br><span class="line">  name: &quot;小红&quot;,</span><br><span class="line">  sex: &quot;女&quot;,</span><br><span class="line">  age: 18,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let user = new Object();</span><br><span class="line">user.id = 1;</span><br><span class="line">user.name = &quot;小红&quot;;</span><br><span class="line">user.sex = &quot;女&quot;;</span><br><span class="line">user.age = 18;</span><br></pre></td></tr></table></figure>

<h4 id="2-10-对象结构简写"><a href="#2-10-对象结构简写" class="headerlink" title="2.10 对象结构简写"></a>2.10 对象结构简写</h4><p>变量名是对象的属性值，推荐使用简写方式，并且按照归类分组将简写属性统一放到开头，对象的结构更加的清晰明了。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">let name = &quot;小红&quot;,</span><br><span class="line">  age = 18;</span><br><span class="line"></span><br><span class="line">let user = &#123;</span><br><span class="line">  name,</span><br><span class="line">  age,</span><br><span class="line">  sex: &quot;女&quot;,</span><br><span class="line">  mobile: &quot;1300000000&quot;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="2-11-使用-“…”-扩展运算符"><a href="#2-11-使用-“…”-扩展运算符" class="headerlink" title="2.11 使用 “…” 扩展运算符"></a>2.11 使用 “…” 扩展运算符</h4><p>浅拷贝对象</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let age = 18;</span><br><span class="line">let user = &#123;</span><br><span class="line">  id: 1,</span><br><span class="line">  name: &quot;小红&quot;,</span><br><span class="line">&#125;;</span><br><span class="line">let copy = &#123; ...user, age &#125;;</span><br></pre></td></tr></table></figure>

<p>浅拷贝数组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let arr1 = [1, 2];</span><br><span class="line">let arr2 = [3, 4];</span><br><span class="line">let arr3 = [...arr1, ...arr2];</span><br></pre></td></tr></table></figure>

<h4 id="2-12-使用可选链-“-”-操作符"><a href="#2-12-使用可选链-“-”-操作符" class="headerlink" title="2.12 使用可选链 “?.” 操作符"></a>2.12 使用可选链 “?.” 操作符</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let user = null;</span><br><span class="line">// 如果直接取 user.sex 是会报错的，用了可选链后可以不用判断直接取了</span><br><span class="line">console.log(user?.sex);</span><br></pre></td></tr></table></figure>

<h4 id="2-13-函数参数设置默认值"><a href="#2-13-函数参数设置默认值" class="headerlink" title="2.13 函数参数设置默认值"></a>2.13 函数参数设置默认值</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function getTimestamp(date = new Date()) &#123;</span><br><span class="line">  return date.getTime();</span><br><span class="line">&#125;</span><br><span class="line">console.log(getTimestamp());</span><br></pre></td></tr></table></figure>

<h4 id="2-14-函数参数太多，封装为对象传参"><a href="#2-14-函数参数太多，封装为对象传参" class="headerlink" title="2.14 函数参数太多，封装为对象传参"></a>2.14 函数参数太多，封装为对象传参</h4><p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">let user = &#123;</span><br><span class="line">  id: 1,</span><br><span class="line">  name: &quot;小红&quot;,</span><br><span class="line">  sex: &quot;女&quot;,</span><br><span class="line">  age: 18,</span><br><span class="line">&#125;;</span><br><span class="line">function addUser(user) &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function addUser(id, name, sex, age) &#123;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-15-函数内避免过多处理逻辑"><a href="#2-15-函数内避免过多处理逻辑" class="headerlink" title="2.15 函数内避免过多处理逻辑"></a>2.15 函数内避免过多处理逻辑</h4><p>在一个函数中，如果处理逻辑很多，需要拆分多个方法来处理。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function main() &#123;</span><br><span class="line">  // 逻辑拆分为不同的方法来处理</span><br><span class="line">  foo1();</span><br><span class="line">  foo2();</span><br><span class="line">  foo3();</span><br><span class="line">&#125;</span><br><span class="line">// 逻辑1</span><br><span class="line">function foo1() &#123;&#125;</span><br><span class="line">// 逻辑2</span><br><span class="line">function foo2() &#123;&#125;</span><br><span class="line">// 逻辑3</span><br><span class="line">function foo3() &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function main() &#123;</span><br><span class="line">  // 逻辑1</span><br><span class="line">  // 逻辑2</span><br><span class="line">  // 逻辑3</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-16-简单判断并行函数执行"><a href="#2-16-简单判断并行函数执行" class="headerlink" title="2.16 简单判断并行函数执行"></a>2.16 简单判断并行函数执行</h4><p>如果条件比较少，条件通过则执行函数，这种可以在单行用 &amp;&amp; 符号判断并执行代码。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let div = document.getElementById(&quot;div&quot;);</span><br><span class="line">div &amp;&amp; div.append(&quot;child&quot;);</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let div = document.getElementById(&quot;div&quot;);</span><br><span class="line">if (div) &#123;</span><br><span class="line">  div.append(&quot;child&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-17-使用箭头函数"><a href="#2-17-使用箭头函数" class="headerlink" title="2.17 使用箭头函数"></a>2.17 使用箭头函数</h4><p>推荐使用箭头函数，箭头函数能避免 this 作用域不确定的问题，而且使代码更加简洁。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const getUserInfo = () =&gt; &#123;&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="2-18-提前-return，使判断逻辑简单化"><a href="#2-18-提前-return，使判断逻辑简单化" class="headerlink" title="2.18 提前 return，使判断逻辑简单化"></a>2.18 提前 return，使判断逻辑简单化</h4><p>当有比较多判断的情况下，把判断前置，使我们的代码结构更加清晰分明。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function submit() &#123;</span><br><span class="line">  // 校验</span><br><span class="line">  if (!this.listQuery.name) return;</span><br><span class="line">  if (!this.listQuery.status) return;</span><br><span class="line">  if (!this.listQuery.type) return;</span><br><span class="line">  // 校验通过，正常执行代码</span><br><span class="line">  addUser();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function submit() &#123;</span><br><span class="line">  // 校验 name</span><br><span class="line">  if (this.listQuery.name) &#123;</span><br><span class="line">    // 校验 status</span><br><span class="line">    if (this.listQuery.status) &#123;</span><br><span class="line">      // 校验 type</span><br><span class="line">      if (this.listQuery.type) &#123;</span><br><span class="line">        // 校验通过，正常执行代码</span><br><span class="line">        addUser();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-19-使用-Promise，async-await-代替回调函数"><a href="#2-19-使用-Promise，async-await-代替回调函数" class="headerlink" title="2.19 使用 Promise，async/await 代替回调函数"></a>2.19 使用 Promise，async/await 代替回调函数</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// 使用Promise</span><br><span class="line">function getMsg(res) &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    if (res.code == 200) &#123;</span><br><span class="line">      resolve(res);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      reject(res);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">getMsg(&#123; code: 200, result: [] &#125;).then((res) =&gt; &#123;&#125;);</span><br><span class="line"></span><br><span class="line">// 使用ssync/await</span><br><span class="line">async function login() &#123;</span><br><span class="line">  // 先执行获取用户信息</span><br><span class="line">  let user = await getUserInfo();</span><br><span class="line">  // 再执行获取菜单，传入用户的id</span><br><span class="line">  let menu = await getMenuList(user.id);</span><br><span class="line">  console.log(user, menu);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-20-undefined-判断"><a href="#2-20-undefined-判断" class="headerlink" title="2.20 undefined 判断"></a>2.20 undefined 判断</h4><p>永远不要直接使用 undefined 进行变量判断；使用 typeof 和字符串’undefined’对变量进行判断。<br>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if (typeof person === &#x27;undefined&#x27;) &#123;</span><br><span class="line">... &#125;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if (person === undefined) &#123;</span><br><span class="line">... &#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-22-null"><a href="#2-22-null" class="headerlink" title="2.22 null"></a>2.22 null</h4><p>适用场景：</p>
<p>初始化一个将来可能被赋值为对象的变量<br>与已经初始化的变量做比较<br>作为一个参数为对象的函数的调用传参<br>作为一个返回对象的函数的返回值<br>不适用场景：</p>
<p>不要用 null 来判断函数调用时有无传参<br>不要与未初始化的变量做比较</p>
<h4 id="2-21-eslint-和-Prettier-代码格式化"><a href="#2-21-eslint-和-Prettier-代码格式化" class="headerlink" title="2.21 eslint 和 Prettier 代码格式化"></a>2.21 eslint 和 Prettier 代码格式化</h4><p>使用 <code>eslint</code> 做代码检查，格式化统一用<code>Prettier Code</code> 插件。</p>
<h3 id="3-注释规范-2"><a href="#3-注释规范-2" class="headerlink" title="3. 注释规范"></a>3. 注释规范</h3><h4 id="3-1-单行注释-2"><a href="#3-1-单行注释-2" class="headerlink" title="3.1 单行注释"></a>3.1 单行注释</h4><ul>
<li>单行注释以 <code>//</code> 开头，可以在代码末尾，也可以单独一行。</li>
<li>单行注释和后面内容空一格。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function setId(id) &#123;</span><br><span class="line">  // 可以在代码上面注释</span><br><span class="line">  this.id = id;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let name = &quot;小红&quot;; // 如果是声明变量的注释，推荐写在行尾</span><br><span class="line">let birthday = &quot;2000-10-02&quot;; // 生日</span><br></pre></td></tr></table></figure>

<h4 id="3-2-多行注释-2"><a href="#3-2-多行注释-2" class="headerlink" title="3.2 多行注释"></a>3.2 多行注释</h4><ul>
<li>多行注释以 <code>/*</code> 开头，以 <code>*/</code> 结束。</li>
<li><code>/*</code> 开头与后面内容空一格。</li>
<li>如果注释内容较多，需要换行注释。</li>
<li>若以 <code>/* xx */</code> 注释内容都在同一行，推荐使用 <code>//</code> 单行注释。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">  注释内容1</span><br><span class="line">  注释内容2</span><br><span class="line"> */</span><br><span class="line">setTitle();</span><br></pre></td></tr></table></figure>

<h4 id="3-3-块注释-1"><a href="#3-3-块注释-1" class="headerlink" title="3.3 块注释"></a>3.3 块注释</h4><ul>
<li>块注释以 <code>/*</code> 开头，以 <code>*/</code> 结束，前后各空一格。</li>
<li>块注释用于划分某个块的标记，需要写上块描述。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/* 获取列表 */</span><br><span class="line">function getList() &#123;&#125;</span><br><span class="line"></span><br><span class="line">/* 新增和修改用户 */</span><br><span class="line">function addUser() &#123;&#125;</span><br><span class="line">function updateUser() &#123;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-4-方法注释"><a href="#3-4-方法注释" class="headerlink" title="3.4 方法注释"></a>3.4 方法注释</h4><p>方法注释以 <code>/**</code> 开头，以 <code>*/</code> 结束，方法注释要使用<code>注释标签</code>说明方法的参数，返回结果等等内容。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 获取用户信息</span><br><span class="line"> * @param &#123;Number&#125; id 用户id</span><br><span class="line"> * @returns &#123;Object&#125; 返回用户对象</span><br><span class="line"> */</span><br><span class="line">function getUserInfo(id) &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>方法的<code>注释标签</code>必须要写，参考<a target="_blank" rel="noopener" href="https://jsdoc.zcopy.site/">JSDoc 文档</a>，以下是常用的标签说明。</p>
<table>
<thead>
<tr>
<th>标签</th>
<th>语法</th>
</tr>
</thead>
<tbody><tr>
<td>@description</td>
<td>@description 描述说明</td>
</tr>
<tr>
<td>@param</td>
<td>@param{参数类型}参数说明</td>
</tr>
<tr>
<td>@returns</td>
<td>@returns{返回类型}返回结果说明</td>
</tr>
<tr>
<td>@author</td>
<td>@author 作者</td>
</tr>
<tr>
<td>@version</td>
<td>@version 版本号</td>
</tr>
<tr>
<td>@example</td>
<td>@example 示例代码</td>
</tr>
<tr>
<td>@todo</td>
<td>@todo 待办的内容描述</td>
</tr>
</tbody></table>
<h4 id="3-5-文件注释"><a href="#3-5-文件注释" class="headerlink" title="3.5 文件注释"></a>3.5 文件注释</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 文件说明</span><br><span class="line"> * @author 作者名</span><br><span class="line"> * @date 2022-03-23</span><br><span class="line"> */</span><br></pre></td></tr></table></figure>

<h4 id="3-6-版权注释"><a href="#3-6-版权注释" class="headerlink" title="3.6 版权注释"></a>3.6 版权注释</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/*!</span><br><span class="line"> * @lime-util/core v3.0.10</span><br><span class="line"> * Copyright 2021-2022, GaoXXXXX &lt;575122332@qq.com&gt;</span><br><span class="line"> * Licensed under the MIT License.</span><br><span class="line"> */</span><br></pre></td></tr></table></figure>

<h2 id="五、Vue-项目规范"><a href="#五、Vue-项目规范" class="headerlink" title="五、Vue 项目规范"></a>五、Vue 项目规范</h2><h3 id="1-项目目录"><a href="#1-项目目录" class="headerlink" title="1.项目目录"></a>1.项目目录</h3><p>项目基于 <code>vue-cli4</code> 开发，项目目录结构如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">├── .vscode                    # vscode 的项目配置</span><br><span class="line">├── build                      # 构建相关</span><br><span class="line">├── dist                       # 打包文件</span><br><span class="line">├── mock                       # 项目mock 模拟数据</span><br><span class="line">├── public                     # 静态资源</span><br><span class="line">│   │── favicon.ico            # favicon 图标</span><br><span class="line">│   └── index.html             # html模板</span><br><span class="line">├── src                        # 源代码目录</span><br><span class="line">│   ├── api                    # 所有 api接口</span><br><span class="line">│   ├── assets                 # 图片，字体静态资源</span><br><span class="line">│   ├── components             # 全局公用组件</span><br><span class="line">│   ├── constants              # 全局 常量</span><br><span class="line">│   ├── directive              # 全局指令</span><br><span class="line">│   ├── filters                # 全局过滤器</span><br><span class="line">│   ├── mixins                 # 全局混入</span><br><span class="line">│   ├── plugins                # 全局插件</span><br><span class="line">│   ├── icons                  # 全局 svg icons</span><br><span class="line">│   ├── lang                   # 国际化 language</span><br><span class="line">│   ├── layout                 # 全局 layout</span><br><span class="line">│   ├── router                 # 路由</span><br><span class="line">│   ├── store                  # 全局 store管理</span><br><span class="line">│   ├── styles                 # 全局样式</span><br><span class="line">│       │── themes             # 主题</span><br><span class="line">│       └── index.less         # 样式主入口</span><br><span class="line">│   ├── utils                  # 全局公用方法</span><br><span class="line">│   ├── vendor                 # 公用 vendor</span><br><span class="line">│   ├── views                  # views 所有页面</span><br><span class="line">│   ├── App.vue                # 入口页面</span><br><span class="line">│   ├── main.js                # 入口文件 加载组件 初始化等</span><br><span class="line">│   ├── permission.js          # 权限管理</span><br><span class="line">│   └── settings.js            # 项目设置文件</span><br><span class="line">├── test                       # 测试</span><br><span class="line">├── .env.xxx                   # 环境变量配置</span><br><span class="line">├── .eslintignore              # eslint 忽略配置</span><br><span class="line">├── .eslintrc.js               # eslint 配置项</span><br><span class="line">├── .gitignore                 # git 忽略配置</span><br><span class="line">├── .prettierrc                # prettier 配置项</span><br><span class="line">├── .babelrc                   # babel-loader 配置</span><br><span class="line">├── .travis.yml                # 自动化 CI 配置</span><br><span class="line">├── LICENSE                    # license证书</span><br><span class="line">├── postcss.config.js          # postcss 配置</span><br><span class="line">├── vue.config.js              # vue config 配置</span><br><span class="line">├── package.json               # package.json</span><br><span class="line">├── package-lock.json          # package-lock.json</span><br><span class="line">└── README.md                  # README 文件</span><br></pre></td></tr></table></figure>

<h3 id="2-组件规范"><a href="#2-组件规范" class="headerlink" title="2.组件规范"></a>2.组件规范</h3><h4 id="2-1-组件命名"><a href="#2-1-组件命名" class="headerlink" title="2.1 组件命名"></a>2.1 组件命名</h4><h5 id="2-1-1-单文件组件名"><a href="#2-1-1-单文件组件名" class="headerlink" title="2.1.1 单文件组件名"></a>2.1.1 单文件组件名</h5><ul>
<li>在 views 目录下单文件组件统一采用<code>kebab-case</code>命名，字母小写，以短横分隔单词。</li>
<li>组件名不能和<code>html</code>标签元素冲突。</li>
<li>组件名应该以描述性单词开头，以修饰性单词结尾。</li>
<li>使用有意义的单词组合，2~3 个单词最佳，单词不能过长。</li>
<li>只有一个单词的组件全部都要小写。</li>
</ul>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">login.vue</span><br><span class="line">home.vue</span><br><span class="line">user-info.vue</span><br><span class="line">base-config.vue</span><br><span class="line">search-button-clear.vue</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<p><strong>以下命名是不规范的，快看有没有中招</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Login.vue</span><br><span class="line">Home.vue</span><br><span class="line">span.vue</span><br><span class="line">userInfo.vue</span><br><span class="line">base_Config.vue</span><br><span class="line">search_button_clear.vue</span><br></pre></td></tr></table></figure>

<h5 id="2-1-2-基础组件名"><a href="#2-1-2-基础组件名" class="headerlink" title="2.1.2 基础组件名"></a>2.1.2 基础组件名</h5><p>基础组件文件名为 base 开头，使用完整单词而不是缩写，表示基础展示类、无逻辑或无状态的组件。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">components/</span><br><span class="line">├─ base-button.vue</span><br><span class="line">└─ base-table.vue</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">components/</span><br><span class="line">├─ my-button.vue</span><br><span class="line">└─ my-table.vue</span><br></pre></td></tr></table></figure>

<h5 id="2-1-3-单例组件名"><a href="#2-1-3-单例组件名" class="headerlink" title="2.1.3 单例组件名"></a>2.1.3 单例组件名</h5><p>单例组件文件名为 the 开头，作用是在每个页面只用一次，比如网页顶部的导航栏，底部的版权地址信息，这些组件不会接受 prop 传参。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">components/</span><br><span class="line">├─ the-header.vue</span><br><span class="line">└─ the-footer.vue</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">components/</span><br><span class="line">├─ header.vue</span><br><span class="line">└─ footer.vue</span><br></pre></td></tr></table></figure>

<h5 id="2-1-4-紧密耦合的组件名"><a href="#2-1-4-紧密耦合的组件名" class="headerlink" title="2.1.4 紧密耦合的组件名"></a>2.1.4 紧密耦合的组件名</h5><p>如果一个组件只在某个父组件的场景下有意义，这层关系应该体现在其名字上，因为编辑器通常会按字母顺序组织文件，所以这样做可以把相关联的文件排在一起。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">components/</span><br><span class="line">├─ todo-list.vue</span><br><span class="line">├─ todo-list-item.vue</span><br><span class="line">└─ todo-list-item-button.vue</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">components/</span><br><span class="line">├─ todo-list.vue</span><br><span class="line">├─ todo-item.vue</span><br><span class="line">└─ todo-button.vue</span><br></pre></td></tr></table></figure>

<h4 id="2-2-公用组件"><a href="#2-2-公用组件" class="headerlink" title="2.2 公用组件"></a>2.2 公用组件</h4><h5 id="2-2-1-局部公用"><a href="#2-2-1-局部公用" class="headerlink" title="2.2.1 局部公用"></a>2.2.1 局部公用</h5><p>在当前功能的目录新建 components 文件夹，所有声明的组件放在里面，采用 PascalCase 帕斯卡命名，并且功能目录需要有 index.vue 入口文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">src/views/user-info</span><br><span class="line">├─ index.vue</span><br><span class="line">└─ components/</span><br><span class="line">  ├─ BaseInfo.vue</span><br><span class="line">  └─ UserInfo.vue</span><br></pre></td></tr></table></figure>

<h5 id="2-2-2-全局公用"><a href="#2-2-2-全局公用" class="headerlink" title="2.2.2 全局公用"></a>2.2.2 全局公用</h5><p>统一放到工程目录的 src/components 下面，目录名称采用 PascalCase 帕斯卡命名，并且每个公用组件目录必须有 index.vue 入口文件和 README.md 文件 Api 说明文档。<br>在编写 README.md 文档时也需要注意，Api 文档中 Attribute 属性 和 Event 事件的命名都是要用<code>kebab-case</code>命名，不能用驼峰命名。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">src/components/</span><br><span class="line">├─ PageHeader</span><br><span class="line">   ├─ index.vue</span><br><span class="line">   └─ README.md</span><br><span class="line">├─ UploadData</span><br><span class="line">   ├─ index.vue</span><br><span class="line">   └─ README.md</span><br></pre></td></tr></table></figure>

<h4 id="2-3-组件使用"><a href="#2-3-组件使用" class="headerlink" title="2.3 组件使用"></a>2.3 组件使用</h4><p>自定义组件的使用按照以下规范，除了在 Dom 模板中用<code>kebab-case</code>命名，其他都是用 PascalCase 帕斯卡命名。</p>
<p>如果是用 viewUI，element-ui，ant-vue 等 UI 框架中的组件则按照官方示例的命名规则使用。</p>
<h5 id="2-3-1-单文件组件中使用"><a href="#2-3-1-单文件组件中使用" class="headerlink" title="2.3.1 单文件组件中使用"></a>2.3.1 单文件组件中使用</h5><p>在单文件组件中用 PascalCase 帕斯卡命名，如果组件中没有内容则需要自闭合标签。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app-container&quot;&gt;</span><br><span class="line">    &lt;UserInfo :user-detail=&quot;userDetail&quot; /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h5 id="2-3-2-字符串模板中使用"><a href="#2-3-2-字符串模板中使用" class="headerlink" title="2.3.2 字符串模板中使用"></a>2.3.2 字符串模板中使用</h5><p>在字符串模板 template 中使用组件，采用 PascalCase 帕斯卡命名，如果组件中没有内容则需要自闭合标签。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue Vue(&#123;</span><br><span class="line">  template:`&lt;UserInfo :user-detail=&quot;userDetail&quot; /&gt;`</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="2-3-3-JS-JSX-中使用"><a href="#2-3-3-JS-JSX-中使用" class="headerlink" title="2.3.3 JS/JSX 中使用"></a>2.3.3 JS/JSX 中使用</h5><p>在 JS/JSX 的<code>render</code>函数中使用组件，采用 PascalCase 帕斯卡命名，如果组件中没有内容则需要自闭合标签。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">new Vue(&#123;</span><br><span class="line">  el: &#x27;#app&#x27;,</span><br><span class="line">  render: function (h) &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;UserInfo :user-detail=&quot;userDetail&quot; /&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="2-3-4-DOM-模板中使用"><a href="#2-3-4-DOM-模板中使用" class="headerlink" title="2.3.4 DOM 模板中使用"></a>2.3.4 DOM 模板中使用</h5><p>在 <code>DOM </code>模板中需要用<code>kebab-case</code>命名，因为是直接在 html 页面中使用，html 是会忽略大小写，并且不能自闭合标签。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">  	  &lt;div class=&quot;app-container&quot;&gt;</span><br><span class="line">       &lt;user-info :user-detail=&quot;userDetail&quot;&gt;&lt;/user-info&gt;</span><br><span class="line">     &lt;/div&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3-命名规则"><a href="#3-命名规则" class="headerlink" title="3.命名规则"></a>3.命名规则</h3><h4 id="3-1-布尔值命名"><a href="#3-1-布尔值命名" class="headerlink" title="3.1 布尔值命名"></a>3.1 布尔值命名</h4><p>布尔值是两种逻辑状态的变量<code>真</code>和<code>假</code>，对应<code> true</code> 和<code> false</code>，也可以用数字 1 和 0 表示真假。<br>推荐命名方式为 is + 动词（现在进行时）/ 形容词，但是有些场景下也可以不用写 is 开头。</p>
<ul>
<li>场景：可见性 / 进行中</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;isShow&quot;: &quot;是否显示&quot;,</span><br><span class="line">  &quot;isVisible&quot;: &quot;是否可见&quot;,</span><br><span class="line">  &quot;isLoading&quot;: &quot;是否处于加载中&quot;,</span><br><span class="line">  &quot;isConnecting&quot;: &quot;是否处于连接中&quot;,</span><br><span class="line">  &quot;isValidating&quot;: &quot;正在验证中&quot;,</span><br><span class="line">  &quot;isDoing&quot;: &quot;正在进行中&quot;,</span><br><span class="line">  &quot;isRunning&quot;: &quot;正在运行中&quot;,</span><br><span class="line">  &quot;isListening&quot;: &quot;正在监听中&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>场景：属性 / 状态</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;isDisabled&quot;: &quot;是否禁用&quot;,</span><br><span class="line">  &quot;isEdit&quot;: &quot;是否可编辑&quot;,</span><br><span class="line">  &quot;isAdd&quot;: &quot;是否可增加&quot;,</span><br><span class="line">  &quot;isUpdate&quot;: &quot;是否可修改&quot;,</span><br><span class="line">  &quot;isRemove&quot;: &quot;是否可删除&quot;,</span><br><span class="line">  &quot;isClearable&quot;: &quot;是否可清空&quot;,</span><br><span class="line">  &quot;isReadonly&quot;: &quot;是否只读&quot;,</span><br><span class="line">  &quot;isExpand&quot;: &quot;是否可展开&quot;,</span><br><span class="line">  &quot;isShrink&quot;: &quot;是否可收缩&quot;,</span><br><span class="line">  &quot;isChecked&quot;: &quot;是否选中&quot;,</span><br><span class="line">  &quot;isClick&quot;: &quot;是否可点击&quot;,</span><br><span class="line">  &quot;isDrag&quot;: &quot;是否可拖拽&quot;,</span><br><span class="line">  &quot;isOpen&quot;: &quot;是否打开&quot;,</span><br><span class="line">  &quot;isClose&quot;: &quot;是否打开&quot;,</span><br><span class="line">  &quot;isChoice&quot;: &quot;是否选择（复选框，单选框）&quot;,</span><br><span class="line">  &quot;isSelect&quot;: &quot;是否选择（下拉框，列表）&quot;,</span><br><span class="line">  &quot;isConfig&quot;: &quot;是否可配置&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>场景：弹框显示 / 隐藏</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // 组合1-基础表单</span><br><span class="line">  &quot;addModal&quot;: &quot;新增弹框&quot;,</span><br><span class="line">  &quot;editModal&quot;: &quot;编辑弹框&quot;,</span><br><span class="line">  &quot;detailModal&quot;: &quot;详情弹框&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合2-业务相关</span><br><span class="line">  &quot;syncDataModal&quot;: &quot;同步数据弹框&quot;,</span><br><span class="line">  &quot;addUserModal&quot;: &quot;新增用户弹框&quot;,</span><br><span class="line">  &quot;userInfoModal&quot;: &quot;用户信息弹框&quot;,</span><br><span class="line">  &quot;assignPermissionModal&quot;: &quot;分配权限弹框&quot;,</span><br><span class="line">  &quot;departTreeModal&quot;: &quot;部门树弹框&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-2-时间变量命名"><a href="#3-2-时间变量命名" class="headerlink" title="3.2 时间变量命名"></a>3.2 时间变量命名</h4><p>和时间相关的变量，必须带有<code>date / month / year / time / hour / minutes / seconds</code>等等和时间相关的。</p>
<ul>
<li>场景：快捷日期</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;now&quot;: &quot;此刻&quot;,</span><br><span class="line">  &quot;today&quot;: &quot;今天&quot;,</span><br><span class="line">  &quot;yesterday&quot;: &quot;昨天&quot;,</span><br><span class="line">  &quot;tomorrow&quot;: &quot;明天&quot;,</span><br><span class="line">  &quot;workday&quot;: &quot;工作日&quot;,</span><br><span class="line">  &quot;weekend&quot;: &quot;周末（周六和周日）&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>场景：开始 / 结束</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;startDate&quot;: &quot;是否禁用&quot;,</span><br><span class="line">  &quot;endDate&quot;: &quot;是否可编辑&quot;,</span><br><span class="line">  &quot;startTime&quot;: &quot;是否可增加&quot;,</span><br><span class="line">  &quot;endTime&quot;: &quot;是否可修改&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>场景：上下 / 前后</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;prevMonth&quot;: &quot;上一月&quot;,</span><br><span class="line">  &quot;nextMonth&quot;: &quot;下一月&quot;,</span><br><span class="line">  &quot;prevYear&quot;: &quot;上一年&quot;,</span><br><span class="line">  &quot;nextYear&quot;: &quot;下一年&quot;,</span><br><span class="line">  &quot;beforeCurrentDate&quot;: &quot;当前日期之前&quot;,</span><br><span class="line">  &quot;afterCurrentDate&quot;: &quot;当前日期之后&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-3-数组变量命名"><a href="#3-3-数组变量命名" class="headerlink" title="3.3 数组变量命名"></a>3.3 数组变量命名</h4><p>数组主要有 复数形式 和 xxxList 形式，简单的区别是 复数形式 的适合前端本身声明的数组，xxxList 形式的适合后台接口返回的数组。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // 前端声明变量</span><br><span class="line">  &quot;users&quot;: &quot;用户列表&quot;,</span><br><span class="line">  &quot;menus&quot;: &quot;菜单列表&quot;,</span><br><span class="line">  &quot;selectNodes&quot;: &quot;选中节点列表&quot;,</span><br><span class="line"></span><br><span class="line">  // 后台返回数据接收变量</span><br><span class="line">  &quot;userList&quot;: &quot;用户列表&quot;,</span><br><span class="line">  &quot;menuList&quot;: &quot;菜单列表&quot;,</span><br><span class="line">  &quot;statusList&quot;: &quot;状态列表&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-4-选项变量命名"><a href="#3-4-选项变量命名" class="headerlink" title="3.4 选项变量命名"></a>3.4 选项变量命名</h4><p>主要针对的是单选框，复选框，下拉框，选项卡等元素数据。<br>常见的词汇有：title， name，label，field，text，id，key，value，children，index，nodes 等。<br>其中 title，name，label，text，field 作为选项显示名，id，key，value 用于唯一标识，children，nodes 用于包含子节点内容。</p>
<ul>
<li>场景：复选 / 单选 / 下拉</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // 常用组合</span><br><span class="line">  &quot;label&quot;: &quot;标题&quot;,</span><br><span class="line">  &quot;value&quot;: &quot;值&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合1</span><br><span class="line">  &quot;title&quot;: &quot;标题&quot;,</span><br><span class="line">  &quot;value&quot;: &quot;值&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合2</span><br><span class="line">  &quot;text&quot;: &quot;文本&quot;,</span><br><span class="line">  &quot;value&quot;: &quot;值&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合3</span><br><span class="line">  &quot;id&quot;: &quot;标题&quot;,</span><br><span class="line">  &quot;name&quot;: &quot;值&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合4</span><br><span class="line">  &quot;field&quot;: &quot;标题&quot;,</span><br><span class="line">  &quot;value&quot;: &quot;值&quot;,</span><br><span class="line">  &quot;index&quot;: &quot;标题&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>场景：选择项 / 激活项</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;activeName&quot;: &quot;激活的项名称&quot;,</span><br><span class="line">  &quot;activeTab&quot;: &quot;激活的选项卡&quot;,</span><br><span class="line">  &quot;currentPage&quot;: &quot;当前页&quot;,</span><br><span class="line">  &quot;currentIndex&quot;: &quot;当前选项的下标&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-5-Api-接口命名"><a href="#3-5-Api-接口命名" class="headerlink" title="3.5 Api 接口命名"></a>3.5 Api 接口命名</h4><p>主要用作 axios 请求后台接口封装，接口方法使用 camelCase 驼峰命名，命名为动词+名词形式。<br>后台一般采用 <code>Restful Api</code> 规范，如下示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/api/user/list</span><br><span class="line">/api/user/detail/$&#123;id&#125;</span><br><span class="line">/api/user/add</span><br><span class="line">/api/user/update</span><br><span class="line">/api/user/delete/$&#123;id&#125;</span><br></pre></td></tr></table></figure>

<p>前端对应的接口方法命名用 <code>getXxx，addXxx，updateXxx，deleteXxx </code>这几种命名形式，并且一定要写注释，注释格式为<code>模块名-方法</code>描述，如下示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">用户管理-分页列表</span><br><span class="line">*/</span><br><span class="line">export const getUserList = (params) =&gt; &#123;</span><br><span class="line">  return axios.get(&quot;/api/user/list&quot;, params);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line">用户管理-详情</span><br><span class="line">*/</span><br><span class="line">export const getUserDetail = (params) =&gt; &#123;</span><br><span class="line">  return axios.get(`/api/user/detail/$&#123;params.id&#125;`);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line">用户管理-新增</span><br><span class="line">*/</span><br><span class="line">export const addUser = (data) =&gt; &#123;</span><br><span class="line">  return axios.post(&quot;/api/user/add&quot;, data);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line">用户管理-修改</span><br><span class="line">*/</span><br><span class="line">export const updateUser = (params) =&gt; &#123;</span><br><span class="line">  return axios.post(&quot;/api/user/update&quot;, data);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line">用户管理-删除</span><br><span class="line">*/</span><br><span class="line">export const deleteUser = (params) =&gt; &#123;</span><br><span class="line">  return axios.get(`/api/user/delete/$&#123;params.id&#125;`);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="3-6-传参属性命名"><a href="#3-6-传参属性命名" class="headerlink" title="3.6 传参属性命名"></a>3.6 传参属性命名</h4><ul>
<li>场景：普通 attribute<br>属性类型是 String，Number，Boolean，Object，Array，Date 这几种数据类型，采用 <code>名词</code> 或者 <code>名词+修饰词</code> 形式。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;class-name&quot;: &quot;类名&quot;,</span><br><span class="line">  &quot;z-index&quot;: &quot;层级&quot;,</span><br><span class="line">  &quot;fullscreen&quot;: &quot;全屏显示&quot;,</span><br><span class="line">  &quot;show-upload-list&quot;: &quot;是否展示上传文件列表&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>场景：传参 function<br>组件除了能传普通的数据类型，还能传递 <code>function</code>，采用<code>介词+动词/形容词</code>形式，注意这里事件名是允许用 <code>on-xx</code> 形式的，用来区分该 <code>props</code> 传递的是个函数。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;on-success&quot;: &quot;上传成功&quot;,</span><br><span class="line">  &quot;on-progress&quot;: &quot;上传进度&quot;,</span><br><span class="line">  &quot;on-error&quot;: &quot;上传失败&quot;,</span><br><span class="line">  &quot;on-preview&quot;: &quot;预览&quot;,</span><br><span class="line">  &quot;before-upload&quot;: &quot;上传之前&quot;,</span><br><span class="line">  &quot;before-close&quot;: &quot;关闭之前&quot;,</span><br><span class="line">  &quot;after-close&quot;: &quot;关闭之后&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-7-函数命名"><a href="#3-7-函数命名" class="headerlink" title="3.7 函数命名"></a>3.7 函数命名</h4><ul>
<li>场景：绑定事件监听<br>绑定的事件名采用<code>kebab-case</code>命名，字母小写，以短横分隔单词。因为在 <code>Dom 模板</code>中的事件监听，由于 <code>HTML </code>中是不区分大小写的，<code>Vue </code>会自动转换事件监听为全小写，所以推荐 始终使用<code> kebab-case</code> 的命名。<br>事件的命名采用 <code>动词形式</code>，事件绑定本身就是 <code>v-on</code>指令，不能写成<code>v-on:on-close</code>，所以绑定的事件统一都不用<code>on-xx</code>的形式。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // 原生事件监听</span><br><span class="line">  &quot;input&quot;: &quot;输入&quot;,</span><br><span class="line">  &quot;change&quot;: &quot;改变&quot;,</span><br><span class="line">  &quot;blur&quot;: &quot;失去焦点&quot;,</span><br><span class="line">  &quot;focus&quot;: &quot;聚焦&quot;,</span><br><span class="line">  &quot;submit&quot;: &quot;提交&quot;,</span><br><span class="line">  &quot;keyup&quot;: &quot;提交&quot;,</span><br><span class="line">  &quot;keydown&quot;: &quot;提交&quot;,</span><br><span class="line">  &quot;enter&quot;: &quot;提交&quot;,</span><br><span class="line">  &quot;submit&quot;: &quot;提交&quot;,</span><br><span class="line"></span><br><span class="line">  // 自定义事件监听</span><br><span class="line">  &quot;preview&quot;: &quot;预览&quot;,</span><br><span class="line">  &quot;clear&quot;: &quot;清空&quot;,</span><br><span class="line">  &quot;cancel&quot;: &quot;关闭&quot;,</span><br><span class="line">  &quot;open&quot;: &quot;打开&quot;,</span><br><span class="line">  &quot;select-change&quot;: &quot;选择&quot;,</span><br><span class="line">  &quot;select-all&quot;: &quot;选择所有&quot;,</span><br><span class="line">  &quot;selection-change&quot;: &quot;选项改变&quot;,</span><br><span class="line">  &quot;sort-change&quot;: &quot;排序&quot;,</span><br><span class="line">  &quot;row-click&quot;: &quot;单击行&quot;,</span><br><span class="line">  &quot;row-dblclick&quot;: &quot;双击行&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在声明 <code>事件监听函数</code> 或者声明 <code>props 绑定函数</code> 的时候有些是需要用 <code>onXxx</code> 的形式，有些则可以不带 <code>on</code>，具体要看当前环境中的作用和语义。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 组合1</span><br><span class="line">function onInput() &#123;&#125;</span><br><span class="line">function onPreview() &#123;&#125;</span><br><span class="line">function onSelectAll() &#123;&#125;</span><br><span class="line">function onRowClick() &#123;&#125;</span><br><span class="line">function onSelectionChange() &#123;&#125;</span><br><span class="line"></span><br><span class="line">// 组合2</span><br><span class="line">function beforeUpload() &#123;&#125;</span><br><span class="line">function beforeOpen() &#123;&#125;</span><br><span class="line">function beforeClose() &#123;&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>场景：自定义事件<br>自定义事件名使用 <code>camelCase</code> 驼峰命名，命名为<code>动词+名词</code>形式。<br>名称不能过长，要明确表达此事件处理的作用，避免望文不知义。<br>可以参考 <code>JavaScript 规范</code>中 <code>函数命名</code> 章节，使用常用的动词来命名。</li>
</ul>
<p>一般由页面直接或者间接发起的操作，用 <code>handleXxx</code> 的形式。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function handleSearch() &#123;&#125;</span><br><span class="line">function handleReset() &#123;&#125;</span><br><span class="line">function handleResize() &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>由方法发起调用的操作，用<code>动词</code>开头的形式，命名看方法的用途决定。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function resetQuery() &#123;&#125;</span><br><span class="line">function resetForm() &#123;&#125;</span><br><span class="line">function resetSelect() &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>改变数据结果，切换状态的显示的操作，也以<code>动词+形容词/名词</code>形式，比如 Modal 的展示隐藏，分页条的改变。</p>
<p>在其他场景下，很多命名方式也都可以用<code>动词+形容词/名词</code>形式，例如<code>select+范围</code>，<code>元素+click</code>，<code>change+元素</code>，<code>clear+元素</code>，这些动词开头，用在改变元素，改变分页，改变业务状态，切换 Modal 弹框显示等等。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">// 组合1-元素操作</span><br><span class="line">function selectOne() &#123;&#125;</span><br><span class="line">function selectAll() &#123;&#125;</span><br><span class="line">function tabClick() &#123;&#125;</span><br><span class="line">function switchTab() &#123;&#125;</span><br><span class="line">function clearName() &#123;&#125;</span><br><span class="line"></span><br><span class="line">// 组合2-分页</span><br><span class="line">function changePageNum() &#123;&#125;</span><br><span class="line">function changePageSize() &#123;&#125;</span><br><span class="line">function jumpPage() &#123;&#125;</span><br><span class="line"></span><br><span class="line">// 组合3-业务弹框</span><br><span class="line">function showAddModal() &#123;&#125;</span><br><span class="line">function showEditModal() &#123;&#125;</span><br><span class="line">function showDetailModal() &#123;&#125;</span><br><span class="line">function showSyncDataModal() &#123;&#125;</span><br><span class="line">function showUserInfoModal() &#123;&#125;</span><br><span class="line">function showDepartTreeModal() &#123;&#125;</span><br><span class="line"></span><br><span class="line">// 组合4-业务状态</span><br><span class="line">function changeUserStatus() &#123;&#125;</span><br><span class="line">function changeUserStatus() &#123;&#125;</span><br><span class="line">function changeUserPermission() &#123;&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>场景：异步处理方法<br>在了解过接口命名规则之后，前端页面中使用 <code>Api 接口</code>的异步事件，这些一般比较固定，以下组合列举出了一些场景。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// 组合1</span><br><span class="line">// 查询的是后台返回的列表，推荐是用 queryXxxList 这种形式</span><br><span class="line">function queryList() &#123;&#125;</span><br><span class="line">function queryMenuList() &#123;&#125;</span><br><span class="line">function queryUserList() &#123;&#125;</span><br><span class="line">function queryDetail() &#123;&#125;</span><br><span class="line"></span><br><span class="line">// 组合2</span><br><span class="line">// 查询的是后台返回的数据信息，详情等，推荐用 queryXxx+Data/Info/Detail 这种形式</span><br><span class="line">function queryProcessData() &#123;&#125;</span><br><span class="line">function queryStepInfo() &#123;&#125;</span><br><span class="line">function queryTaskDetail() &#123;&#125;</span><br><span class="line"></span><br><span class="line">// 组合3</span><br><span class="line">// 页面增删查改的操作，用 handleXxx 的形式</span><br><span class="line">function handleAdd() &#123;&#125;</span><br><span class="line">function handleEdit() &#123;&#125;</span><br><span class="line">function handleDelete() &#123;&#125;</span><br><span class="line">function handleSubmit() &#123;&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>场景：路由页面跳转<br>路由页面的跳转一般只有 <code>goXxx</code> 和 <code>toXxx</code> 两种，两者使用差别不大，只在少部分页面跳转上有语义的差别。<br>比如 去首页，返回上级 这种表示只跳到这些页面就结束行为的用 <code>goXxx</code> 比较合适。<br>比如 跳转到详情页面，跳转到审批页面 这种表示跳到有数据信息的页面，并且可能带传参的用 <code>toXxx</code> 比较合适。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // 组合1</span><br><span class="line">  &quot;goHome&quot;: &quot;去首页&quot;,</span><br><span class="line">  &quot;goBack&quot;: &quot;返回页面&quot;,</span><br><span class="line">  &quot;goMailBox&quot;: &quot;去邮箱&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合2</span><br><span class="line">  &quot;toUserDetail&quot;: &quot;跳转到用户详情&quot;,</span><br><span class="line">  &quot;toApprove&quot;: &quot;跳转到审批页面&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合3</span><br><span class="line">  &quot;navigateToHome&quot;: &quot;导航到首页&quot;,</span><br><span class="line">  &quot;redirectToLogin&quot;: &quot;重定向到登录页&quot;,</span><br><span class="line">  &quot;switchHome&quot;: &quot;切换到首页&quot;,</span><br><span class="line">  &quot;switchOrder&quot;: &quot;切换到订单页&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>场景：数据的加工<br>针对数据在不同场景下的转换处理操作，比如格式化，排序，过滤，转换，切换，比较，去除空格，添加，区间，相差等等。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // 组合1</span><br><span class="line">  &quot;formatThousand&quot;: &quot;格式化数字千分位&quot;,</span><br><span class="line">  &quot;formatRmbChinese&quot;: &quot;格式化人民币金额大写&quot;,</span><br><span class="line">  &quot;formatStartOfName&quot;: &quot;格式化姓名中间为星号&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合2</span><br><span class="line">  &quot;sortUserList&quot;: &quot;用户列表排序&quot;,</span><br><span class="line">  &quot;sortOrder&quot;: &quot;订单排序&quot;,</span><br><span class="line">  &quot;sortByName&quot;: &quot;根据名称排序&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合3</span><br><span class="line">  &quot;filterUser&quot;: &quot;过滤用户&quot;,</span><br><span class="line">  &quot;filterByName&quot;: &quot;通过名称过滤&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合4</span><br><span class="line">  &quot;convertCurrency&quot;: &quot;转换货币单位&quot;,</span><br><span class="line">  &quot;convertAmount&quot;: &quot;转换金额&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合5</span><br><span class="line">  &quot;toggleClass&quot;: &quot;切换演示&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合6</span><br><span class="line">  &quot;compareDate&quot;: &quot;比较日期&quot;,</span><br><span class="line">  &quot;compareAge&quot;: &quot;比较年龄大小&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合7</span><br><span class="line">  &quot;trimStart&quot;: &quot;去除字符串开始位置的空格&quot;,</span><br><span class="line">  &quot;trimEnd&quot;: &quot;去除字符串结束位置的空格&quot;,</span><br><span class="line">  &quot;trimAll&quot;: &quot;去除字符串中全部的空格&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合8</span><br><span class="line">  &quot;addDate&quot;: &quot;日期加天&quot;,</span><br><span class="line">  &quot;addMonth&quot;: &quot;日期加月&quot;,</span><br><span class="line">  &quot;addYear&quot;: &quot;日期加年&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合8</span><br><span class="line">  &quot;diffDay&quot;: &quot;相差的天数&quot;,</span><br><span class="line">  &quot;diffWeek&quot;: &quot;相差的周数&quot;,</span><br><span class="line">  &quot;diffMonth&quot;: &quot;相差的月数&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-8-方法参数命名"><a href="#3-8-方法参数命名" class="headerlink" title="3.8 方法参数命名"></a>3.8 方法参数命名</h4><p>方法中参数名称和数量是根据具体使用来决定，但是还是有一些固定的模式可以参考。比如监听属性的新值和旧值，reduce 方法的上个值和当前值，回调函数的参数值等等。</p>
<ul>
<li>场景：新值 / 旧值<br>用于 <code>Vue</code> 的 <code>watch</code> 属性监听的回调参数。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;newVal&quot;: &quot;新值&quot;,</span><br><span class="line">  &quot;oldVal&quot;: &quot;旧值&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>场景：上个值 / 下个值 / 当前值</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // 组合1</span><br><span class="line">  &quot;from&quot;: &quot;从...&quot;,</span><br><span class="line">  &quot;to&quot;: &quot;到...&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合2</span><br><span class="line">  &quot;prev&quot;: &quot;上一个...&quot;,</span><br><span class="line">  &quot;next&quot;: &quot;下一个...&quot;,</span><br><span class="line">  &quot;cur&quot;: &quot;当前&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合3</span><br><span class="line">  &quot;source&quot;: &quot;源&quot;,</span><br><span class="line">  &quot;target&quot;: &quot;目标&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合4</span><br><span class="line">  &quot;start&quot;: &quot;开始&quot;,</span><br><span class="line">  &quot;end&quot;: &quot;结束&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合5</span><br><span class="line">  &quot;before&quot;: &quot;在之前&quot;,</span><br><span class="line">  &quot;after&quot;: &quot;在之后&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合6</span><br><span class="line">  &quot;prefix&quot;: &quot;前缀&quot;,</span><br><span class="line">  &quot;suffix&quot;: &quot;后缀&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>异步数据回调<br>用于 <code>Promise</code> 的 <code>then</code> 方法参数，<code>await</code> 返回的值等，可选择的词汇有：<code>res / data / json</code>，推荐使用 <code>response</code> 简写的 <code>res</code>。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 示例1</span><br><span class="line">getUserInfo().then((res) =&gt; &#123;&#125;);</span><br><span class="line">// 示例2</span><br><span class="line">const res = await getUserInfo();</span><br></pre></td></tr></table></figure>

<ul>
<li>场景：其他参数命名<br>除了以上这些，实际中还有其他众多类型的应用场景，以下列举出开发中常用的一些。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // 组合1</span><br><span class="line">  &quot;str&quot;: &quot;字符串&quot;,</span><br><span class="line">  &quot;char&quot;: &quot;单个字符&quot;,</span><br><span class="line">  &quot;num&quot;: &quot;数字&quot;,</span><br><span class="line">  &quot;arr&quot;: &quot;数组值&quot;,</span><br><span class="line">  &quot;obj&quot;: &quot;对象值&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合2</span><br><span class="line">  &quot;len&quot;: &quot;数组长度&quot;,</span><br><span class="line">  &quot;index&quot;: &quot;下标&quot;,</span><br><span class="line">  &quot;size&quot;: &quot;大小&quot;,</span><br><span class="line">  &quot;unit&quot;: &quot;单位&quot;,</span><br><span class="line">  &quot;count&quot;: &quot;数量&quot;,</span><br><span class="line">  &quot;amount&quot;: &quot;金额&quot;,</span><br><span class="line">  &quot;timer&quot;: &quot;定时器&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合2</span><br><span class="line">  &quot;n&quot;: &quot;次数&quot;,</span><br><span class="line">  &quot;p&quot;: &quot;数值的精度&quot;,</span><br><span class="line">  &quot;x&quot;: &quot;x轴坐标&quot;,</span><br><span class="line">  &quot;y&quot;: &quot;y轴坐标&quot;,</span><br><span class="line">  &quot;radix&quot;: &quot;基数&quot;,</span><br><span class="line">  &quot;decimals&quot;: &quot;小数位数&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合3</span><br><span class="line">  &quot;rate&quot;: &quot;比例&quot;,</span><br><span class="line">  &quot;status&quot;: &quot;状态&quot;,</span><br><span class="line">  &quot;bool&quot;: &quot;布尔值&quot;,</span><br><span class="line">  &quot;asc&quot;: &quot;升序&quot;,</span><br><span class="line">  &quot;desc&quot;: &quot;降序&quot;,</span><br><span class="line">  &quot;pid&quot;: &quot;父id&quot;,</span><br><span class="line">  &quot;cid&quot;: &quot;子id&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合4</span><br><span class="line">  &quot;reg&quot;: &quot;正则&quot;,</span><br><span class="line">  &quot;func&quot;: &quot;函数&quot;,</span><br><span class="line">  &quot;callback&quot;: &quot;回调函数&quot;,</span><br><span class="line"></span><br><span class="line">  // 组合5</span><br><span class="line">  &quot;source&quot;: &quot;数据源&quot;,</span><br><span class="line">  &quot;target&quot;: &quot;目标源&quot;,</span><br><span class="line">  &quot;root&quot;: &quot;根&quot;,</span><br><span class="line">  &quot;elem&quot;: &quot;元素&quot;,</span><br><span class="line">  &quot;children&quot;: &quot;子级&quot;,</span><br><span class="line">  &quot;parent&quot;: &quot;父级&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-9-接口数据响应"><a href="#3-9-接口数据响应" class="headerlink" title="3.9 接口数据响应"></a>3.9 接口数据响应</h4><p>接口一般是后台来给，前端如果用 <code>nodejs</code> 做后台服务器，接口响应报文体也需要制定一套规则。</p>
<ul>
<li>Restful Api 命名<br>在<code>接口命名</code>章节中已经列举了 api 的命名和调用方法规范，前端一般用 <code>nodejs+express/koa2</code> 就可以实现 <code>Restful Api </code>方式。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/api/user/list</span><br><span class="line">/api/user/detail/$&#123;id&#125;</span><br><span class="line">/api/user/add</span><br><span class="line">/api/user/update</span><br><span class="line">/api/user/delete/$&#123;id&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>code 码<br>前端用 <code>nodejs</code> 做后台，业务场景不会太过复杂。 简单的场景可以用以下的定义 <code>code</code>，复杂的业务需要指定单独的<code>业务 code</code>。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">200 # 成功</span><br><span class="line">400 # 请求参数错误</span><br><span class="line">403 # 无权限访问</span><br><span class="line">404 # 请求路径无效</span><br><span class="line">500 # 服务器内部异常</span><br><span class="line">502 # 网关访问错误</span><br><span class="line">504 # 网关访问超时</span><br></pre></td></tr></table></figure>

<ul>
<li>响应数据结构<br>分页列表</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;code&quot;: 200,</span><br><span class="line">  &quot;message&quot;: &quot;查询成功&quot;,</span><br><span class="line">  &quot;data&quot;: &#123;</span><br><span class="line">    &quot;result&quot;: [</span><br><span class="line">      &#123; &quot;id&quot;: 1, &quot;name&quot;: &quot;小红&quot; &#125;,</span><br><span class="line">      &#123; &quot;id&quot;: 1, &quot;name&quot;: &quot;小红&quot; &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;total&quot;: 0,</span><br><span class="line">    &quot;page&quot;: 1,</span><br><span class="line">    &quot;size&quot;: 10</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>增删改，详情等返回非数组结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;code&quot;: 200,</span><br><span class="line">  &quot;message&quot;: &quot;操作成功&quot;,</span><br><span class="line">  &quot;data&quot;: &#123; &quot;id&quot;: 1, &quot;name&quot;: &quot;小红&quot; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.10 模板结构顺序<br>在 <code>HTML 规范</code> 的 <code>结构顺序</code> 这一章节，已经大致描述了编写页面的结构和顺序，在 <code>Vue 模板</code>中也一样，自上而下，从左到右，保持一定的顺序。<br><code>Vue 模板</code>中，采用了<code>容器</code>和 <code>盒子 </code>结合的语义化结构，先划分不同的容器空间，每个容器里再划分具体的盒子内容。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app-container&quot;&gt;</span><br><span class="line">    &lt;!-- header --&gt;</span><br><span class="line">    &lt;div class=&quot;header-container&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- main --&gt;</span><br><span class="line">    &lt;div class=&quot;main-container&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;left-box&quot;&gt;&lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;content-box&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- footer --&gt;</span><br><span class="line">    &lt;div class=&quot;footer-container&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- modal 弹框 --&gt;</span><br><span class="line">    &lt;!-- 新增，编辑，详情等等弹框都放在这里 --&gt;</span><br><span class="line">    &lt;el-modal&gt;&lt;/el-modal&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- components 组件 --&gt;</span><br><span class="line">    &lt;!-- 引入的外部组件放在这里，按照作用顺序排列：自定义组件》第三方的排在最后 --&gt;</span><br><span class="line">    &lt;UserInfo /&gt;</span><br><span class="line">    &lt;BaseTable /&gt;</span><br><span class="line">    &lt;UploadData /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h4 id="3-11-CRUD-模板示例"><a href="#3-11-CRUD-模板示例" class="headerlink" title="3.11 CRUD 模板示例"></a>3.11 CRUD 模板示例</h4><p>通过上面的 vue 项目中的不同种类的命名规则，以下是一段代码示例模板。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app-container&quot;&gt;</span><br><span class="line">    &lt;!-- header --&gt;</span><br><span class="line">    &lt;div class=&quot;header-container&quot;&gt;</span><br><span class="line">      &lt;!-- 查询条件 --&gt;</span><br><span class="line">      &lt;div class=&quot;search-box&quot;&gt;</span><br><span class="line">        &lt;el-input</span><br><span class="line">          v-model=&quot;listQuery.name&quot;</span><br><span class="line">          clearable</span><br><span class="line">          placeholder=&quot;姓名&quot;</span><br><span class="line">          style=&quot;width:300px&quot;</span><br><span class="line">        &gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;el-button type=&quot;primary&quot; @click=&quot;handleSearch&quot;&gt;查询&lt;/el-button&gt;</span><br><span class="line">        &lt;el-button type=&quot;primary&quot; @click=&quot;handleReset&quot;&gt;重置&lt;/el-button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;!-- 按钮操作 --&gt;</span><br><span class="line">      &lt;div class=&quot;operate-box&quot;&gt;</span><br><span class="line">        &lt;el-button</span><br><span class="line">          icon=&quot;el-icon-plus&quot;</span><br><span class="line">          type=&quot;primary&quot;</span><br><span class="line">          @click=&quot;handleShowAddModal&quot;</span><br><span class="line">        &gt;</span><br><span class="line">          添加</span><br><span class="line">        &lt;/el-button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- main --&gt;</span><br><span class="line">    &lt;div class=&quot;main-container&quot;&gt;</span><br><span class="line">      &lt;!-- 表格列表 --&gt;</span><br><span class="line">      &lt;div class=&quot;table-box&quot;&gt;</span><br><span class="line">        &lt;el-table v-loading=&quot;listLoading&quot; :data=&quot;list&quot;&gt;</span><br><span class="line">          &lt;el-table-column align=&quot;center&quot; label=&quot;序号&quot; width=&quot;70&quot;&gt;</span><br><span class="line">            &lt;template slot-scope=&quot;&#123; row, $index &#125;&quot;&gt;</span><br><span class="line">              &#123;&#123; listQuery.pageSize * (listQuery.pageNo - 1) + ($index + 1) &#125;&#125;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">          &lt;/el-table-column&gt;</span><br><span class="line">          &lt;el-table-column align=&quot;center&quot; label=&quot;姓名&quot;&gt;</span><br><span class="line">            &lt;template slot-scope=&quot;&#123; row, $index &#125;&quot;&gt;</span><br><span class="line">              &lt;el-link :underline=&quot;false&quot; @click=&quot;toUserDetail&quot;&gt;</span><br><span class="line">                &#123;&#123; row.name &#125;&#125;</span><br><span class="line">              &lt;/el-link&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">          &lt;/el-table-column&gt;</span><br><span class="line">          &lt;el-table-column align=&quot;center&quot; label=&quot;创建时间&quot;&gt;</span><br><span class="line">            &lt;template slot-scope=&quot;&#123; row, $index &#125;&quot;&gt;</span><br><span class="line">              &#123;&#123; row.createTime &#125;&#125;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">          &lt;/el-table-column&gt;</span><br><span class="line">          &lt;el-table-column align=&quot;center&quot; label=&quot;操作&quot;&gt;</span><br><span class="line">            &lt;template slot-scope=&quot;&#123; row, $index &#125;&quot;&gt;</span><br><span class="line">              &lt;el-link</span><br><span class="line">                type=&quot;primary&quot;</span><br><span class="line">                :underline=&quot;false&quot;</span><br><span class="line">                @click=&quot;handleShowEditModal(row)&quot;</span><br><span class="line">              &gt;</span><br><span class="line">                编辑</span><br><span class="line">              &lt;/el-link&gt;</span><br><span class="line">              &lt;el-link</span><br><span class="line">                type=&quot;danger&quot;</span><br><span class="line">                :underline=&quot;false&quot;</span><br><span class="line">                @click=&quot;handleDelete(row)&quot;</span><br><span class="line">              &gt;</span><br><span class="line">                删除</span><br><span class="line">              &lt;/el-link&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">          &lt;/el-table-column&gt;</span><br><span class="line">        &lt;/el-table&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;!-- 分页 --&gt;</span><br><span class="line">      &lt;div class=&quot;pagination-container&quot;&gt;</span><br><span class="line">        &lt;el-pagination</span><br><span class="line">          background</span><br><span class="line">          :current-page.sync=&quot;listQuery.pageNo&quot;</span><br><span class="line">          :page-sizes=&quot;[10, 20, 30, 50]&quot;</span><br><span class="line">          :page-size=&quot;listQuery.pageSize&quot;</span><br><span class="line">          :total=&quot;listTotal&quot;</span><br><span class="line">          layout=&quot;total, sizes, prev, pager, next, jumper&quot;</span><br><span class="line">          @size-change=&quot;handleSizeChange&quot;</span><br><span class="line">          @current-change=&quot;handleCurrentChange&quot;</span><br><span class="line">        &gt;&lt;/el-pagination&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- modal 弹框 --&gt;</span><br><span class="line">    &lt;!-- 新增或编辑 --&gt;</span><br><span class="line">    &lt;el-dialog</span><br><span class="line">      :title=&quot;editForm.id ? &#x27;编辑&#x27; : &#x27;添加&#x27;&quot;</span><br><span class="line">      :visible.sync=&quot;editModal&quot;</span><br><span class="line">      width=&quot;960px&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;el-form</span><br><span class="line">        :model=&quot;editForm&quot;</span><br><span class="line">        :rules=&quot;editFormRules&quot;</span><br><span class="line">        ref=&quot;editFormRef&quot;</span><br><span class="line">        label-suffix=&quot;：&quot;</span><br><span class="line">        label-width=&quot;100px&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;el-form-item label=&quot;姓名&quot; prop=&quot;name&quot;&gt;</span><br><span class="line">          &lt;el-input</span><br><span class="line">            v-model=&quot;editForm.name&quot;</span><br><span class="line">            placeholder=&quot;请输入姓名&quot;</span><br><span class="line">            style=&quot;width: 600px&quot;</span><br><span class="line">            clearable</span><br><span class="line">          &gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">      &lt;/el-form&gt;</span><br><span class="line">      &lt;div slot=&quot;footer&quot; style=&quot;text-align: center&quot;&gt;</span><br><span class="line">        &lt;el-button @click=&quot;editModal = false&quot;&gt;取消&lt;/el-button&gt;</span><br><span class="line">        &lt;el-button type=&quot;primary&quot; @click=&quot;handleSubmit&quot;&gt;确定&lt;/el-button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/el-dialog&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 引入公用工具类</span><br><span class="line">import util from &quot;@/utils&quot;;</span><br><span class="line">// 引入api</span><br><span class="line">import &#123; getUserList, addUser, updateUser, deleteUser &#125; from &quot;@/api/user&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      // 分页查询</span><br><span class="line">      list: [],</span><br><span class="line">      listTotal: 0,</span><br><span class="line">      listLoading: false,</span><br><span class="line">      listQuery: &#123;</span><br><span class="line">        name: &quot;&quot;,</span><br><span class="line">        pageNo: 1,</span><br><span class="line">        pageSize: 10,</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      // 新增或编辑</span><br><span class="line">      editModal: false,</span><br><span class="line">      editForm: &#123;</span><br><span class="line">        id: &quot;&quot;,</span><br><span class="line">        name: &quot;&quot;,</span><br><span class="line">      &#125;,</span><br><span class="line">      editFormRules: &#123;</span><br><span class="line">        name: [</span><br><span class="line">          &#123;</span><br><span class="line">            required: true,</span><br><span class="line">            message: &quot;请输入姓名&quot;,</span><br><span class="line">            trigger: &quot;blur&quot;,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      // 当前行数据</span><br><span class="line">      selectRow: &#123;&#125;,</span><br><span class="line">      // 当前多选行数据</span><br><span class="line">      selectRows: [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    this.queryList();</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    /**</span><br><span class="line">     * 查询分页列表</span><br><span class="line">     */</span><br><span class="line">    queryList() &#123;</span><br><span class="line">      this.listLoading = true;</span><br><span class="line">      getUserList(&#123; name: this.listQuery.name &#125;)</span><br><span class="line">        .then((res) =&gt; &#123;</span><br><span class="line">          this.listLoading = false;</span><br><span class="line">          if (res.code == &quot;200&quot;) &#123;</span><br><span class="line">            this.list = res.data.result;</span><br><span class="line">            this.listTotal = res.data.total;</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            this.$message.error(res.message);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch((err) =&gt; &#123;</span><br><span class="line">          this.listLoading = false;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    // 分页</span><br><span class="line">    handleSizeChange(val) &#123;</span><br><span class="line">      this.listQuery.pageSize = val;</span><br><span class="line">      this.listQuery();</span><br><span class="line">    &#125;,</span><br><span class="line">    handleCurrentChange(val) &#123;</span><br><span class="line">      this.listQuery.pageNo = val;</span><br><span class="line">      this.listQuery();</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 重置分页</span><br><span class="line">     */</span><br><span class="line">    handleReset() &#123;</span><br><span class="line">      this.listQuery = &#123;</span><br><span class="line">        name: &quot;&quot;,</span><br><span class="line">        pageNo: &quot;&quot;,</span><br><span class="line">        pageSize: 10,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 添加操作</span><br><span class="line">     */</span><br><span class="line">    handleShowAddModal() &#123;</span><br><span class="line">      this.editForm = &#123; id: &quot;&quot;, name: &quot;&quot; &#125;;</span><br><span class="line">      if (this.$refs.editFormRef) &#123;</span><br><span class="line">        this.$refs.editFormRef.resetFields();</span><br><span class="line">      &#125;</span><br><span class="line">      this.editModal = true;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 修改操作</span><br><span class="line">     * @param &#123;Object&#125; row 选择当前行数据</span><br><span class="line">     */</span><br><span class="line">    handleShowEditModal(row) &#123;</span><br><span class="line">      this.selectRow = row;</span><br><span class="line">      this.editForm = &#123;</span><br><span class="line">        id: row.id,</span><br><span class="line">        name: row.name,</span><br><span class="line">      &#125;;</span><br><span class="line">      this.editModal = true;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 提交操作</span><br><span class="line">     */</span><br><span class="line">    handleSubmit() &#123;</span><br><span class="line">      this.$refs.editFormRef.validate((valid) =&gt; &#123;</span><br><span class="line">        if (valid) &#123;</span><br><span class="line">          // id不为空，则是修改</span><br><span class="line">          if (this.editForm.id) &#123;</span><br><span class="line">            this.handleUpdate();</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            this.handleAdd();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          console.log(&quot;submit fail&quot;);</span><br><span class="line">          return false;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    // 添加</span><br><span class="line">    handleAdd() &#123;</span><br><span class="line">      addUser(&#123;</span><br><span class="line">        name: this.editForm.name,</span><br><span class="line">      &#125;).then((res) =&gt; &#123;</span><br><span class="line">        if ((res.code = &quot;200&quot;)) &#123;</span><br><span class="line">          this.$message.success(&quot;添加成功&quot;);</span><br><span class="line">          this.editModal = false;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          this.$message.error(res.message);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    // 修改</span><br><span class="line">    handleUpdate() &#123;</span><br><span class="line">      updateUser(&#123;</span><br><span class="line">        id: this.editForm.id,</span><br><span class="line">        name: this.editForm.name,</span><br><span class="line">      &#125;).then((res) =&gt; &#123;</span><br><span class="line">        if ((res.code = &quot;200&quot;)) &#123;</span><br><span class="line">          this.$message.success(&quot;修改成功&quot;);</span><br><span class="line">          this.editModal = false;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          this.$message.error(res.message);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 删除操作</span><br><span class="line">     * @param &#123;Object&#125; row 选择当前行数据</span><br><span class="line">     */</span><br><span class="line">    handleDelete(row) &#123;</span><br><span class="line">      this.$confirm(&quot;确定删除该条记录吗？&quot;, &quot;提示&quot;, &#123;</span><br><span class="line">        confirmButtonText: &quot;确定&quot;,</span><br><span class="line">        cancelButtonText: &quot;取消&quot;,</span><br><span class="line">        type: &quot;warning&quot;,</span><br><span class="line">      &#125;).then(() =&gt; &#123;</span><br><span class="line">        deleteUser(&#123;</span><br><span class="line">          id: row.id,</span><br><span class="line">        &#125;).then((res) =&gt; &#123;</span><br><span class="line">          if ((res.code = &quot;200&quot;)) &#123;</span><br><span class="line">            this.$message.success(&quot;删除成功&quot;);</span><br><span class="line">            this.queryList();</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            this.$message.error(res.message);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 跳转详情操作</span><br><span class="line">     * @param &#123;Object&#125; row 选择当前行数据</span><br><span class="line">     */</span><br><span class="line">    toUserDetail(row) &#123;</span><br><span class="line">      this.$router.push(&#123;</span><br><span class="line">        path: &quot;/user/detail&quot;,</span><br><span class="line">        query: &#123; id: row.id &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="4-代码规范"><a href="#4-代码规范" class="headerlink" title="4.代码规范"></a>4.代码规范</h3><h5 id="4-1-代码缩进"><a href="#4-1-代码缩进" class="headerlink" title="4.1 代码缩进"></a>4.1 代码缩进</h5><p>统一使用 2 个缩进，不允许使用 Tab 制表符，全部替换为空格缩进。</p>
<h5 id="4-2-bind-on-v-slot-指令缩写"><a href="#4-2-bind-on-v-slot-指令缩写" class="headerlink" title="4.2 bind/on/v-slot 指令缩写"></a>4.2 bind/on/v-slot 指令缩写</h5><p>指令推荐都是用缩写形式</p>
<ul>
<li><code>:</code> 表示 <code>v-bind</code></li>
<li><code>@</code> 表示 <code>v-on</code></li>
<li><code>#</code>表示 <code>v-slot</code></li>
</ul>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-input :maxlength=&quot;20&quot; @input=&quot;onInput&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">  &lt;div #header&gt;</span><br><span class="line">    &lt;p&gt;this is header!&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-input v-bind:maxlength=&quot;20&quot; v-on:input=&quot;onInput&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">  &lt;div v-slot:header&gt;</span><br><span class="line">    &lt;p&gt;this is header!&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-3-data-必须是函数"><a href="#4-3-data-必须是函数" class="headerlink" title="4.3 data 必须是函数"></a>4.3 data 必须是函数</h5><p>当在组件中使用 data 属性的时候，它的值必须是返回一个对象的函数，因为如果直接是一个对象的话，子组件之间的属性值会互相影响。<br>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      age: 20</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">   data: &#123;</span><br><span class="line">    age: 20</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-4-v-for-设置-key"><a href="#4-4-v-for-设置-key" class="headerlink" title="4.4 v-for 设置 key"></a>4.4 v-for 设置 key</h5><p>在组件上总是必须用 key 配合 v-for，以便维护内部组件及其子树的状态。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div v-for=&quot;(item, index) in list&quot; :key=&quot;index&quot;&gt;&#123;&#123; item.name &#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-5-v-if-和-v-show-选择"><a href="#4-5-v-if-和-v-show-选择" class="headerlink" title="4.5 v-if 和 v-show 选择"></a>4.5 v-if 和 v-show 选择</h5><p><code>v-if </code>和<code>v-show</code>都可以用于显示隐藏效果，但是本质上还是有区别的。<br><code>v-if</code> 是惰性的，只有条件成立时候才渲染，比较适合根据条件显示隐藏的；<br><code>v-show</code> 是不管条件真假，直接就会被渲染上，比较适合频繁切换的场景。</p>
<h5 id="4-6-避免-v-if-和-v-for-一起使用"><a href="#4-6-避免-v-if-和-v-for-一起使用" class="headerlink" title="4.6 避免 v-if 和 v-for 一起使用"></a>4.6 避免<code> v-if</code> 和 <code>v-for</code> 一起使用</h5><p>永远不要把 <code>v-if </code>和 <code>v-for</code> 同时用在同一个元素上，<code>v-for</code> 的优先级比 <code>v-if</code> 高，所以会导致先循环遍历，然后依次根据<code>v-if</code>的判断显示隐藏，会比较浪费性能。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- 可以列表提前通过计算属性过滤一遍 --&gt;</span><br><span class="line">  &lt;div v-for=&quot;item in userListComputed&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 也可以在最外层先包括一层，再判断 --&gt;</span><br><span class="line">  &lt;template v-if=&quot;showUser&quot;&gt;</span><br><span class="line">    &lt;div v-for=&quot;item in userList&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-7-组件-attribute-传参"><a href="#4-7-组件-attribute-传参" class="headerlink" title="4.7 组件 attribute 传参"></a>4.7 组件 attribute 传参</h5><p>在组件中属性传参使用<code>kebab-case</code>命名，字母小写，以短横分隔单词。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;UserInfo :user-detail=&quot;userDetail&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;UserInfo :userDetail=&quot;userDetail&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-8-多个-attribute-封装对象"><a href="#4-8-多个-attribute-封装对象" class="headerlink" title="4.8 多个 attribute 封装对象"></a>4.8 多个 attribute 封装对象</h5><p>多个 attribute 的元素应该分多行，如果属性比较多，推荐封装个到对象中传参。<br>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template v-if=&quot;showUser&quot;&gt;</span><br><span class="line">  &lt;!-- 多个元素分行 --&gt;</span><br><span class="line">  &lt;UserInfo</span><br><span class="line">    :id=&quot;1&quot;</span><br><span class="line">    :name=&quot;name&quot;</span><br><span class="line">    :sex=&quot;sex&quot;</span><br><span class="line">    :age=&quot;10&quot;</span><br><span class="line">    :birthday=&quot;birthday&quot;</span><br><span class="line">  &gt;&lt;/UserInfo&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 元素太多，推荐封装对象 --&gt;</span><br><span class="line">  &lt;UserInfo :user-info=&quot;user&quot;&gt;&lt;/UserInfo&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-9-带引号的-attribute-值"><a href="#4-9-带引号的-attribute-值" class="headerlink" title="4.9 带引号的 attribute 值"></a>4.9 带引号的 attribute 值</h5><p>模板中 attribute 的值需要带引号，并且需要与前面空一格，另外模板中也是可以使用模板字符串。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-input :style=&quot;&#123; width: myWidth + &#x27;px&#x27; &#125;&quot; /&gt;</span><br><span class="line">    &lt;el-input :style=&quot;`width: $&#123;myWidth&#125;px`&quot; /&gt;</span><br><span class="line">    &lt;el-select&gt;</span><br><span class="line">      &lt;el-option</span><br><span class="line">        v-for=&quot;item in userList&quot;</span><br><span class="line">        :key=&quot;item.id&quot;</span><br><span class="line">        :label=&quot;`$&#123;item.name&#125;（$&#123;item.age&#125;岁）`&quot;</span><br><span class="line">        :value=&quot;item.id&quot;</span><br><span class="line">      &gt;&lt;/el-option&gt;</span><br><span class="line">    &lt;/el-select&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-10-组件-attribute-值的简单逻辑"><a href="#4-10-组件-attribute-值的简单逻辑" class="headerlink" title="4.10 组件 attribute 值的简单逻辑"></a>4.10 组件 attribute 值的简单逻辑</h5><p>模板中 <code>attribute</code> 的值是需要逻辑判断结果的时候，只允许用 <code>等于</code>，<code>大于</code>，<code>小于</code>这些<code>一元运算</code>，或者简单的<code>三元运算</code>判断，复杂的需要拆分为单独的计算属性或者方法。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- 简单的 一元运算 --&gt;</span><br><span class="line">    &lt;el-input v-model=&quot;name&quot; :disabled=&quot;editForm.id&quot; /&gt;</span><br><span class="line">    &lt;el-input v-model=&quot;age&quot; :disabled=&quot;editForm.age &gt; 20&quot; /&gt;</span><br><span class="line">    &lt;!-- 简单的 三元运算 --&gt;</span><br><span class="line">    &lt;el-input</span><br><span class="line">      v-model=&quot;departName&quot;</span><br><span class="line">      :disabled=&quot;editForm.status == 1 ? true : false&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    &lt;!-- 需要判断多种状态的逻辑，把同类的抽取出来放到数组中也可以 --&gt;</span><br><span class="line">    &lt;el-input</span><br><span class="line">      v-model=&quot;departName&quot;</span><br><span class="line">      :disabled=&quot;[1,2,3].includes(editForm.status])&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    &lt;!-- 更多一点的逻辑判断，需要封装为计算属性，或者方法 --&gt;</span><br><span class="line">    &lt;el-input v-model=&quot;departName&quot; :disabled=&quot;canEditDepartName()&quot; /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    canEditDepartName() &#123;</span><br><span class="line">      return this.editForm.age &gt; 20 || [1, 2, 3].includes(editForm.status);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- 过于复杂 三元运算 --&gt;</span><br><span class="line">    &lt;el-input</span><br><span class="line">      v-model=&quot;departName&quot;</span><br><span class="line">      :disabled=&quot;</span><br><span class="line">        editForm.status == 1</span><br><span class="line">          ? true</span><br><span class="line">          : editForm.status == 2</span><br><span class="line">          ? true</span><br><span class="line">          : editForm.status == 3</span><br><span class="line">          ? true</span><br><span class="line">          : false</span><br><span class="line">      &quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    &lt;!-- 以下这种判断很长的也禁止这样写 --&gt;</span><br><span class="line">    &lt;el-input</span><br><span class="line">      v-model=&quot;departName&quot;</span><br><span class="line">      :disabled=&quot;</span><br><span class="line">        editForm.status == 1 ||</span><br><span class="line">        editForm.status == 2 ||</span><br><span class="line">        editForm.status == 3 ||</span><br><span class="line">        editForm.status == 4 ||</span><br><span class="line">        (editForm.status == 5 &amp;&amp; editForm.age &gt; 20)</span><br><span class="line">      &quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    &lt;!-- 更不能图省事直接在模板中写实际的操作代码 --&gt;</span><br><span class="line">    &lt;el-input</span><br><span class="line">      v-model=&quot;departName&quot;</span><br><span class="line">      :disabled=&quot;</span><br><span class="line">        findStatus.some((item) =&gt; &#123;</span><br><span class="line">          return item.status == editForm.status;</span><br><span class="line">        &#125;)</span><br><span class="line">      &quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-11-组件-attribute-属性顺序"><a href="#4-11-组件-attribute-属性顺序" class="headerlink" title="4.11 组件 attribute 属性顺序"></a>4.11 组件 attribute 属性顺序</h5><p>元素的 <code>attribute</code> 应该有统一的顺序，如果有使用 eslint 时候也会按照一定规则校验。</p>
<ul>
<li><p>样式名（可复用的元素样式排首位）<br><code>class</code></p>
</li>
<li><p>列表渲染 (创建多个变化的相同元素)<br><code>v-for</code></p>
</li>
<li><p>条件渲染 (元素是否渲染/显示)<br><code>v-if</code><br><code>v-else-if</code><br><code>v-else</code><br><code>v-show</code><br><code>v-cloak</code></p>
</li>
<li><p>渲染方式 (改变元素的渲染方式)<br><code>v-pre</code><br><code>v-once</code></p>
</li>
<li><p>自定义指令 (改变元素的属性和效果)<br><code>v-loading</code><br><code>v-input-number</code></p>
</li>
<li><p>全局唯一 (唯一性的标识)<br><code>id</code></p>
</li>
<li><p>唯一的 attribute (需要唯一值的 attribute)<br><code>ref</code><br><code>key</code></p>
</li>
<li><p>双向绑定 (把绑定和事件结合起来)<br><code>v-model</code></p>
</li>
<li><p>自定义属性 (所有自定义绑定的 attribute)<br><code>:user-name</code><br><code>user-age</code></p>
</li>
<li><p>事件 (组件事件监听器)<br><code>v-on</code></p>
</li>
<li><p>自定义事件 (所有自定义绑定的 event)<br><code>@row-click</code><br><code>@row-dblclick</code></p>
</li>
<li><p>元素内容 (覆写元素的内容)<br><code>v-html</code><br><code>v-text</code></p>
</li>
</ul>
<h5 id="4-12-组件-prop-定义"><a href="#4-12-组件-prop-定义" class="headerlink" title="4.12 组件 prop 定义"></a>4.12 组件 prop 定义</h5><ul>
<li>必须使用 <code>camelCase </code>驼峰命名。</li>
<li>必须指定参数类型。</li>
<li>必须加上注释，表明参数的含义。</li>
<li>必须加上 <code>default</code> 默认值。</li>
<li>推荐加上 <code>required</code>，如果有业务校验也需要加上 <code>validator</code>。</li>
</ul>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">// 简洁的</span><br><span class="line">export default&#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    userDetail: Object,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 符合eslint推荐的</span><br><span class="line">export default&#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    userDetail: &#123;</span><br><span class="line">      type: Object,</span><br><span class="line">      default: () =&gt; &#123;&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 更加详情，带业务校验的</span><br><span class="line">export default&#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    userDetail: &#123;</span><br><span class="line">      type: Object,</span><br><span class="line">      required: true,</span><br><span class="line">      validator: function (value) &#123;</span><br><span class="line">        // 校验</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">props: [&quot;userDetail&quot;];</span><br></pre></td></tr></table></figure>

<h5 id="4-13-模板中简单的表达式"><a href="#4-13-模板中简单的表达式" class="headerlink" title="4.13 模板中简单的表达式"></a>4.13 模板中简单的表达式</h5><p>组件模板中应该只包含简单的表达式，比较复杂的处理需要用计算属性或者方法。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;&#123;&#123; normalizedFullName &#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  // 复杂表达式已经移入一个计算属性</span><br><span class="line">  computed: &#123;</span><br><span class="line">    normalizedFullName() &#123;</span><br><span class="line">      return this.fullName</span><br><span class="line">        .split(&quot; &quot;)</span><br><span class="line">        .map(function (word) &#123;</span><br><span class="line">          return word[0].toUpperCase() + word.slice(1);</span><br><span class="line">        &#125;)</span><br><span class="line">        .join(&quot; &quot;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &#123;&#123;</span><br><span class="line">      fullName</span><br><span class="line">        .split(&quot; &quot;)</span><br><span class="line">        .map(function (word) &#123;</span><br><span class="line">          return word[0].toUpperCase() + word.slice(1);</span><br><span class="line">        &#125;)</span><br><span class="line">        .join(&quot; &quot;)</span><br><span class="line">    &#125;&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-14-简单的计算属性"><a href="#4-14-简单的计算属性" class="headerlink" title="4.14 简单的计算属性"></a>4.14 简单的计算属性</h5><p>计算属性应该保持单一性，处理多个逻辑的需要拆分为多个计算属性。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  computed: &#123;</span><br><span class="line">    basePrice: function () &#123;</span><br><span class="line">      return this.manufactureCost / (1 - this.profitMargin);</span><br><span class="line">    &#125;,</span><br><span class="line">    discount: function () &#123;</span><br><span class="line">      return this.basePrice * (this.discountPercent || 0);</span><br><span class="line">    &#125;,</span><br><span class="line">    finalPrice: function () &#123;</span><br><span class="line">      return this.basePrice - this.discount;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  computed: &#123;</span><br><span class="line">    price: function () &#123;</span><br><span class="line">      var basePrice = this.manufactureCost / (1 - this.profitMargin);</span><br><span class="line">      return basePrice - basePrice * (this.discountPercent || 0);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h5 id="4-15-组件-实例的选项顺序"><a href="#4-15-组件-实例的选项顺序" class="headerlink" title="4.15 组件/实例的选项顺序"></a>4.15 组件/实例的选项顺序</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app-container&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;header-container&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;main-container&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;footer-container&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyVue&quot;,</span><br><span class="line">  components: &#123;&#125;,</span><br><span class="line">  directives: &#123;&#125;,</span><br><span class="line">  filters: &#123;&#125;,</span><br><span class="line">  extends: &#123;&#125;,</span><br><span class="line">  mixins: &#123;&#125;,</span><br><span class="line">  props: &#123;&#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;&#125;,</span><br><span class="line">  watch: &#123;&#125;,</span><br><span class="line">  beforeCreate() &#123;&#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    // 请求数据的方法放这里</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeMount() &#123;&#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    // 更改页面结构的方法放这里</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeUpdate() &#123;&#125;,</span><br><span class="line">  updated() &#123;&#125;,</span><br><span class="line">  activated() &#123;&#125;,</span><br><span class="line">  deactivated() &#123;&#125;,</span><br><span class="line">  beforeDestroy() &#123;&#125;,</span><br><span class="line">  destroyed() &#123;&#125;,</span><br><span class="line">  methods: &#123;&#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-16-模板中引入资源和组件的顺序"><a href="#4-16-模板中引入资源和组件的顺序" class="headerlink" title="4.16 模板中引入资源和组件的顺序"></a>4.16 模板中引入资源和组件的顺序</h5><p>在模板中引入资源是有顺序的，一般是先<code>公用</code>后<code>局部</code>，资源引入顺序为<code>js资源 &gt; 组件 &gt; css资源</code>，如果引入资源比较多，需要合理的分组并写上注释。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// 引入第三方工具类</span><br><span class="line">import util from &quot;@lime-util/util&quot;;</span><br><span class="line">// 引入第三方组件</span><br><span class="line">import VueScroll from &quot;vuescroll&quot;;</span><br><span class="line"></span><br><span class="line">// 引入公用方法</span><br><span class="line">import &#123; uploadFile &#125; from &quot;@/common&quot;;</span><br><span class="line">// 引入公用组件</span><br><span class="line">import PageHeader from &quot;@/components/PageHeader&quot;;</span><br><span class="line"></span><br><span class="line">// 引入api</span><br><span class="line">import &#123;</span><br><span class="line">  getUserList,</span><br><span class="line">  getUserDetail,</span><br><span class="line">  addUser,</span><br><span class="line">  updateUser,</span><br><span class="line">  deleteUser,</span><br><span class="line">&#125; from &quot;@/api/user&quot;;</span><br><span class="line">// 引入局部组件</span><br><span class="line">import UserInfo from &quot;./components/UserInfo&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;&#125;;</span><br></pre></td></tr></table></figure>

<h5 id="4-17-组件的-name-必须大写"><a href="#4-17-组件的-name-必须大写" class="headerlink" title="4.17 组件的 name 必须大写"></a>4.17 组件的 name 必须大写</h5><p>声明组件的 <code>name</code>使用 PascalCase 帕斯卡命名，尽量每个组件页面都写，方便 <code>vue</code> 识别，或者在使用<code> keep-alive</code> 时候做缓存。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  name: &quot;UserInfo&quot;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  name: &quot;userInfo&quot;,</span><br><span class="line">&#125;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;user-info&quot;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h5 id="4-18-自闭合组件"><a href="#4-18-自闭合组件" class="headerlink" title="4.18 自闭合组件"></a>4.18 自闭合组件</h5><p>在<code>单文件组件</code>、<code>字符串模板</code>和 <code>JSX </code>中没有内容的组件应该是自闭合的，但在<code> DOM 模板</code>里不要这样做。</p>
<p>在单文件组件中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;template v-if=&quot;showUser&quot;&gt;</span><br><span class="line">  &lt;UserInfo :user-detail=&quot;userDetail&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>在字符串模板中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue Vue(&#123;</span><br><span class="line">  template:`&lt;UserInfo :user-detail=&quot;userDetail&quot; /&gt;`</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>在 JS/JSX 中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">new Vue(&#123;</span><br><span class="line">  el: &#x27;#app&#x27;,</span><br><span class="line">  render: function (h) &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;UserInfo :user-detail=&quot;userDetail&quot; /&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>在 <code>Dom 模板</code>中，需要有结束标签</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;app-container&quot;&gt;</span><br><span class="line">    &lt;user-info :user-detail=&quot;userDetail&quot;&gt;&lt;/user-info&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-19-组件选项中的空行"><a href="#4-19-组件选项中的空行" class="headerlink" title="4.19 组件选项中的空行"></a>4.19 组件选项中的空行</h5><p>有时候 props 或者 computed 中有很多选项，中间间隔挨着就会不容易区分，这时候就需要添加空行来让代码更加可观一些。添加合理的空行也适用于在 filters，data，methods 中。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  filters: &#123;</span><br><span class="line">    // 格式化数字</span><br><span class="line">    formatAmount(val) &#123;&#125;,</span><br><span class="line"></span><br><span class="line">    // 格式化文字</span><br><span class="line">    formatText(val) &#123;&#125;,</span><br><span class="line"></span><br><span class="line">    // 格式件时间</span><br><span class="line">    formatTime(val) &#123;&#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    // id</span><br><span class="line">    id: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      required: true,</span><br><span class="line">      default: undefined,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    // 名称</span><br><span class="line">    name: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      required: true,</span><br><span class="line">      default: &quot;&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    // 性别</span><br><span class="line">    sex: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      required: true,</span><br><span class="line">      default: &quot;未知&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    // 年龄</span><br><span class="line">    age: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      required: true,</span><br><span class="line">      default: undefined,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    // 生日</span><br><span class="line">    birthday: String,</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    // 计算总数</span><br><span class="line">    totalAmount() &#123;&#125;,</span><br><span class="line"></span><br><span class="line">    // 求和</span><br><span class="line">    sumAmount() &#123;&#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    /**</span><br><span class="line">     * 获得用户列表</span><br><span class="line">     */</span><br><span class="line">    getList() &#123;&#125;,</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 新增用户</span><br><span class="line">     */</span><br><span class="line">    addUser() &#123;&#125;,</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 修改用户</span><br><span class="line">     */</span><br><span class="line">    updateUser() &#123;&#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-20-组件标签的顺序"><a href="#4-20-组件标签的顺序" class="headerlink" title="4.20 组件标签的顺序"></a>4.20 组件标签的顺序</h5><p>单文件组件应该使<code>&lt;template&gt;</code>，<code>&lt;script&gt;</code>和<code>&lt;style&gt;</code>标签保持顺序，并且<code>&lt;style&gt;</code>标签要放在最后，因为另外两个标签至少都是有的。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;&lt;/template&gt;</span><br><span class="line">&lt;script&gt;&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;&lt;/template&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line">&lt;script&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;&lt;/style&gt;</span><br><span class="line">&lt;template&gt;&lt;/template&gt;</span><br><span class="line">&lt;script&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-21-组件样式的-scoped-作用域"><a href="#4-21-组件样式的-scoped-作用域" class="headerlink" title="4.21 组件样式的 scoped 作用域"></a>4.21 组件样式的 scoped 作用域</h5><p>编写组件页面的样式，一定要加上 <code>scoped</code>，使用独立的作用域，避免污染全局样式。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-22-避免使用-parent-操作父组件"><a href="#4-22-避免使用-parent-操作父组件" class="headerlink" title="4.22 避免使用 $parent 操作父组件"></a>4.22 避免使用 $parent 操作父组件</h5><p>不能直接使用$parent 访问父组件的上下文，这种做法是不被允许的。可以改为 $emit ，.sync 同步 ，props 传参，vue bus` 方式操作父组件的属性和方法。</p>
<h5 id="4-23-尽量不要手动操作-Dom"><a href="#4-23-尽量不要手动操作-Dom" class="headerlink" title="4.23 尽量不要手动操作 Dom"></a>4.23 尽量不要手动操作 Dom</h5><p>在项目开发中尽量使用 Vue 的数据驱动更新 Dom，尽量不要手动操作 DOM，包括：增删改 Dom 元素，更改样式，添加事件等等。</p>
<h5 id="4-24-模板中监听事件的简写"><a href="#4-24-模板中监听事件的简写" class="headerlink" title="4.24 模板中监听事件的简写"></a>4.24 模板中监听事件的简写</h5><p>在模板中，如果事件监听的方法不需要传参，则需要省略括号。</p>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-button type=&quot;primary&quot; @click=&quot;handleAdd&quot; /&gt;</span><br><span class="line">  &lt;el-button type=&quot;primary&quot; @click=&quot;handleDelete(1)&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-button type=&quot;primary&quot; @click=&quot;handleAdd()&quot; /&gt;</span><br><span class="line">  &lt;el-button type=&quot;primary&quot; @click=&quot;handleOpen()&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-25-模板中-Modal-弹框的规范"><a href="#4-25-模板中-Modal-弹框的规范" class="headerlink" title="4.25 模板中 Modal 弹框的规范"></a>4.25 模板中 Modal 弹框的规范</h5><p>Modal 弹框组件是特别常见的，为了规范开发和方便阅读，使用时候不能随意写在模板的任意位置，必须统一声明放在模板结尾标签位置，并加上注释区分弹框模块的用途。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app-container&quot;&gt;</span><br><span class="line">    &lt;!-- 表格列表 --&gt;</span><br><span class="line">    &lt;div class=&quot;table-box&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- Modal 弹框 --&gt;</span><br><span class="line">    &lt;!-- 新增和编辑 --&gt;</span><br><span class="line">    &lt;el-dialog</span><br><span class="line">      title=&quot;新增/编辑&quot;</span><br><span class="line">      :visible.sync=&quot;editModal&quot;</span><br><span class="line">      width=&quot;900px&quot;</span><br><span class="line">    &gt;&lt;/el-dialog&gt;</span><br><span class="line">    &lt;!-- 详情 --&gt;</span><br><span class="line">    &lt;el-dialog</span><br><span class="line">      title=&quot;详情&quot;</span><br><span class="line">      :visible.sync=&quot;detailModal&quot;</span><br><span class="line">      width=&quot;900px&quot;</span><br><span class="line">    &gt;&lt;/el-dialog&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-26-less-和-sass-样式穿透"><a href="#4-26-less-和-sass-样式穿透" class="headerlink" title="4.26 less 和 sass 样式穿透"></a>4.26 less 和 sass 样式穿透</h5><p>在某些场景下，需要修改第三方组件样式，由于 scoped 属性的样式隔离，需要用到样式穿透，统一使用 ::v-deep。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line">::v-deep .el-button &#123;</span><br><span class="line">  height: 60px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-27-vue-router-路由懒加载"><a href="#4-27-vue-router-路由懒加载" class="headerlink" title="4.27 vue-router 路由懒加载"></a>4.27 vue-router 路由懒加载</h5><ul>
<li>路由的组件推荐使用懒加载方式。</li>
<li>推荐页面都有一个 <code>index.vue</code>入口文件。</li>
<li>省略掉所有文件后缀名，<code>vue-cli</code> 会自动识别。</li>
</ul>
<p>正例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">const routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: &quot;/home&quot;,</span><br><span class="line">    meta: &#123;</span><br><span class="line">      title: &quot;首页&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line">    component: () =&gt; import(&quot;@/views/home&quot;),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: &quot;/user-info&quot;,</span><br><span class="line">    meta: &#123;</span><br><span class="line">      title: &quot;用户信息&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line">    component: () =&gt; import(&quot;@/views/user-info&quot;),</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>反例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">const routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: &quot;/home&quot;,</span><br><span class="line">    meta: &#123;</span><br><span class="line">      title: &quot;首页&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line">    component: () =&gt; import(&quot;@/views/home.vue&quot;),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: &quot;/user-info&quot;,</span><br><span class="line">    meta: &#123;</span><br><span class="line">      title: &quot;用户信息&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line">    component: () =&gt; import(&quot;@/views/user-info/index.vue&quot;),</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<h5 id="4-28-vue-router-路由传参"><a href="#4-28-vue-router-路由传参" class="headerlink" title="4.28 vue-router 路由传参"></a>4.28 vue-router 路由传参</h5><p>使用 <code>$router</code> 的 <code>query </code>传参，不使用 <code>params</code>，这样参数会在地址栏中不会刷新消失。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 跳转路由</span><br><span class="line">this.$router.push(&#123;</span><br><span class="line">  path: &quot;home&quot;,</span><br><span class="line">  query: &#123;</span><br><span class="line">    id: 1,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// 在 home/index.vue 中接收参数</span><br><span class="line">let id = this.$route.query.id;</span><br></pre></td></tr></table></figure>

<h5 id="4-29-vue-router-路由规则"><a href="#4-29-vue-router-路由规则" class="headerlink" title="4.29 vue-router 路由规则"></a>4.29 vue-router 路由规则</h5><ul>
<li><code>path</code> 路径采用<code>kebab-case</code>命名，字母小写，以短横分隔单词。</li>
<li>路由 <code>name</code> 采用 <code>PascalCase 帕斯卡</code>命名。</li>
<li>子路由 <code>path</code> 可以不用拼父路由的地址，<code>vue-router</code> 会自动识别。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: &quot;/base&quot;,</span><br><span class="line">  name: &quot;Base&quot;,</span><br><span class="line">  component: () =&gt; import(&quot;@/layout&quot;),</span><br><span class="line">  meta: &#123;</span><br><span class="line">    title: &quot;基础管理&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  children: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: &quot;user-manage&quot;,</span><br><span class="line">      name: &quot;UserManage&quot;,</span><br><span class="line">      component: () =&gt; import(&quot;@/views/base/user-manage&quot;),</span><br><span class="line">      meta: &#123;</span><br><span class="line">        title: &quot;用户列表&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="4-30-vuex-书写和命名规范"><a href="#4-30-vuex-书写和命名规范" class="headerlink" title="4.30 vuex 书写和命名规范"></a>4.30 vuex 书写和命名规范</h5><ul>
<li>mutations 中的方法必须全部大写，并且用 <code>SET / ADD / DEL / UPDATE / CHANGE / RESET</code> 动词开头。</li>
<li>接收和处理 <code>state</code> 必须在 <code>actions</code> 的方法中完成。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">/* index.js store模板 */</span><br><span class="line">// state</span><br><span class="line">const state = &#123;</span><br><span class="line">  token: &quot;&quot;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// mutations</span><br><span class="line">const mutations = &#123;</span><br><span class="line">  SET_TOKEN: (state, token) =&gt; &#123;</span><br><span class="line">    state.token = token;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// actions</span><br><span class="line">const actions = &#123;</span><br><span class="line">  saveToken(&#123; commit &#125;, token) &#123;</span><br><span class="line">    commit(&quot;SET_TOKEN&quot;, token);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// export</span><br><span class="line">export default &#123;</span><br><span class="line">  namespaced: true,</span><br><span class="line">  state,</span><br><span class="line">  mutations,</span><br><span class="line">  actions,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="5-注释说明"><a href="#5-注释说明" class="headerlink" title="5. 注释说明"></a>5. 注释说明</h4><p>整理必须加注释的地方</p>
<ul>
<li>公共组件使用说明</li>
<li>api 目录的接口 js 文件必须加注释</li>
<li>store 中的 state, mutation, action 等必须加注释</li>
<li>vue 文件中的 template 必须加注释，若文件较大添加 start end 注释</li>
<li>vue 文件的 methods，每个 method 必须添加注释</li>
<li>vue 文件的 data, 非常见单词要加注释</li>
</ul>
<h4 id="6-其他"><a href="#6-其他" class="headerlink" title="6 其他"></a>6 其他</h4><ol>
<li>尽量不要手动操作 DOM<br>因使用 vue 框架，所以在项目开发中尽量使用 vue 的数据驱动更新 DOM，尽量（不到万不得<br>已）不要手动操作 DOM，包括：增删改 dom 元素、以及更改样式、添加事件等。</li>
<li>删除无用代码<br>因使用了 git/svn 等代码版本工具，对于无用代码必须及时删除，例如：一些调试的 console 语<br>句、无用的弃用功能代码。</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">KK</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">61</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/a913481180" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;a913481180" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:kangkanghuang@foxmail.com" title="E-Mail → mailto:kangkanghuang@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://www.baidu.com/" title="http:&#x2F;&#x2F;www.baidu.com" rel="noopener" target="_blank">百度</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">KK</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>

<script src="/js/utils.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
